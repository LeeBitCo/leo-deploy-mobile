webpackJsonp([126],{"/aNo":function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("HkQL"),n=e.n(s),r=e("P5P/"),i=e("NpYV"),a=e("UJbh"),c=e("Gwi0"),l=e("tN5p"),m={data:function(){return{new_list:[],rooms:[],top_rooms:[],show_info:!1,rents:[],roomStatus:[],sorts:[],scales:[],rent:"租赁类型",infoBox:"",liveInfo:"",currentRole:"",toDay:"",show_left:!1,dome:[],domeName:"",leftName:"全部酒店",show_center:!1,center_1:"租赁类型",show_center_2:!1,center_2:"房间状态",show_right:!1,right:"所有房型",a:"",more_box:!1,more:"",password_show:!1,pass_phone:"",roles:[],cooperRooms:!1,cooperChangeRooms:[]}},created:function(){this.$store.commit("setHeader","实时房态"),this.hotelId=r.a.getCookie("currentID"),localStorage.getItem("roles")&&(this.roles=JSON.parse(localStorage.getItem("roles")).map(function(o){return o.name})),this.param={hotelId:this.hotelId},this.topList(),this.getTop();var o=new Date,t=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,e=o.getDate()<10?"0"+o.getDate():o.getDate();this.toDay=o.getFullYear()+"-"+t+"-"+e;var s=o.getHours()<10?"0"+o.getHours():o.getHours(),n=o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes(),i=o.getSeconds()<10?"0"+o.getSeconds():o.getSeconds();this.a=this.toDay+" "+s+":"+n+":"+i},computed:{computerWidth:function(){return(window.innerWidth-40)/3+"px"}},methods:{getTop:function(){var o=this;Object(a.a)({dictType:"business_order_type"}).done(function(t){o.rents=t.data}),Object(a.a)({dictType:"business_room_status"}).done(function(t){o.roomStatus=t.data}),Object(c._9)(this.hotelId).done(function(t){o.scales=t.data})},topList:function(){var o=this;Object(c._4)(this.param).done(function(t){for(var e=t.data.sort(o.objectArraySort("roomSn")).reverse(),s=[],n=[],r=0,i=0,a=0;a<e.length;a++)-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==n.indexOf(e[a].floor)&&(n[i]=e[a].floor,i++);var c=[];for(a=0;a<s.length;a++){for(var l=[],m=0,u=0;u<e.length;u++)s[a]==e[u].buildNum&&(l[m]=e[u],m++);for(var d=[],f=0,_=0;_<n.length;_++){var v=[],h=0;for(u=0;u<l.length;u++)l[u].floor==n[_]&&(v[h]=l[u],h++);if(v.length>0){var p={floor:n[_],children:v};d[f]=p,f++}}if((d=d.sort(o.objectArraySort("floor"))).reverse(),d.length>0){var b={buildNum:s[a],sum:l.length,children:d};c[a]=b}}c=c.sort(o.objectArraySort("buildNum")),o.rooms=c.reverse(),o.top_rooms=c})},changeWatch:function(){this.$router.push({path:"/changeWatch",query:{id:this.more.id,orderId:this.more.orderId}})},eleCharge:function(){this.$router.push({path:"/eleManage",query:{hotelName:this.more.hotel.hotelName,scaleName:this.more.roomScale.scaleName,virscaleName:this.more.virtualRoomScale.scaleName,roomSn:this.more.roomSn,orderRoomId:this.more.id,orderId:this.more.orderId}})},findList:function(){var o=this;Object(c._4)(this.param).done(function(t){"所有房型"!=o.scaleName&&void 0!=o.scaleName&&(t.data=t.data.filter(function(t){return t.roomScale.scaleName==o.scaleName}));for(var e=t.data.sort(o.objectArraySort("roomSn")).reverse(),s=[],n=[],r=0,i=0,a=0;a<e.length;a++)-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==n.indexOf(e[a].floor)&&(n[i]=e[a].floor,i++);var c=[];for(a=0;a<s.length;a++){for(var l=[],m=0,u=0;u<e.length;u++)s[a]==e[u].buildNum&&(l[m]=e[u],m++);for(var d=[],f=0,_=0;_<n.length;_++){var v=[],h=0;for(u=0;u<l.length;u++)l[u].floor==n[_]&&(v[h]=l[u],h++);if(v.length>0){var p={floor:n[_],children:v};d[f]=p,f++}}if((d=d.sort(o.objectArraySort("floor"))).reverse(),d.length>0){var b={buildNum:s[a],sum:l.length,children:d};c[a]=b}}c=c.sort(o.objectArraySort("buildNum")),o.rooms=c.reverse()})},objectArraySort:function(o){return function(t,e){var s=t[o],n=e[o];return s<n?1:s>n?-1:0}},btnInfo:function(o){this.infoBox=o,this.liveInfo="",2!=this.infoBox.status&&3!=this.infoBox.status||this.getInfo(),this.show_info=!0},getCooperInfo:function(o){var t=this;Object(l.g)({roomId:o}).done(function(o){t.liveInfo=o.data})},getInfo:function(){var o=this;Object(c.L)(this.infoBox.id).done(function(t){var e=new Date(t.data.order.startTime),s=new Date;s.setTime(e.getTime()+864e5);var n=s.getFullYear()<10?"0"+s.getFullYear():s.getFullYear(),r=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,i=s.getDate()<10?"0"+s.getDate():s.getDate();t.data.next_day=n+"-"+r+"-"+i+" 08:00:00",o.liveInfo=t.data})},cooperHandleRoom:function(){this.$router.push({path:"/business-handle-room",query:{hotelId:this.$route.query.hotelId}})},cleanRoom:function(){0!=this.infoBox.isRoomCheck?this.cleanRoomUp():this.$router.push({path:"/stateCheck",query:this.infoBox})},cleanRoomUp:function(){var o=this;this.show_info=!1,Object(c._76)(this.infoBox.cleanOrderId).done(function(t){Object(i.Toast)({message:t.msg,duration:900}),o.findList()})},lockRoom:function(){var o=this;this.show_info=!1,i.MessageBox.confirm("",{message:"是否锁房？",title:"提示",cancelButtonText:"否",confirmButtonText:"是"}).then(function(t){"confirm"==t&&Object(c._77)(o.infoBox.id).done(function(t){Object(i.Toast)({message:t.msg,duration:900}),o.findList()})}).catch(function(o){console.log(o)})},LiveRoom:function(){var o=this;this.show_info=!1,Object(c._78)(this.infoBox.id).done(function(t){Object(i.Toast)({message:t.msg,duration:900}),o.findList()})},getMoreList:function(){var o=this;this.show_info=!1,this.liveInfo.id&&Object(c.J)(this.liveInfo.id).done(function(t){o.more=t.data}),this.more_box=!0},goCode:function(){var o=this;Object(c.J)(this.liveInfo.id).done(function(t){o.info={},o.info.scaleName=t.data.roomScale.scaleName,o.info.roomSn=t.data.roomSn,o.info.orderId=t.data.orderId,o.$router.push({path:"/quickLiveOnline",query:{fenfangInfo:o.info}}),localStorage.setItem("fenfangInfo",n()(o.info))})},goDetail:function(){this.liveInfo&&(3==this.liveInfo.orderType?(sessionStorage.removeItem("orderRoomId"),this.$router.push({name:"RentInfo_long",query:{orderRoomId:this.liveInfo.id}})):this.$router.push({name:"Details",query:{orderRoomId:this.liveInfo.id}}))},btnback:function(o,t){if(1!=o.order.orderSource)document.getElementById("plat").style.backgroundColor="grey",document.getElementById("plat").style.color="#fff";else{var e={item:o,num:t};this.$router.push({name:"DealLive",query:e}),localStorage.setItem("orderDetail",n()(e))}},btnAgain:function(){this.more_box=!1,Object(c._59)(this.orderDetail.id).done(function(o){i.MessageBox.alert("下发密码成功").then(function(o){setTimeout("window.history.go(-1)",500)})})},btnRoomFee:function(){this.$router.push({path:"/roomFee",query:{id:this.more.id,orderId:this.more.orderId}})},btnLifeFee:function(){this.$router.push({path:"/lifeFee",query:{id:this.more.id}})},btnGetInfo:function(){this.more_box=!1,this.password_show=!0,this.more.order.phone&&(this.pass_phone=null==this.more.sysUser?this.more.order.phone:this.more.sysUser.phone)},pass_can:function(){this.password_show=!1},pass_ok:function(){if(!this.pass_phone||!/^1[3-9]\d{9}$/.test(this.pass_phone))return Object(i.Toast)({message:"请正确输入手机号",duration:900}),this.pass_phone="",!1;var o={roomUser:null==this.more.sysUser?this.more.order.roomUser:this.more.sysUser.realName,phone:this.pass_phone};Object(c._65)(this.more.id,o).done(function(o){Object(i.Toast)({message:o.msg,duration:900})}),this.password_show=!1},btnlive:function(o){this.$router.push({name:"DealLive",params:{orderDetail:o}}),localStorage.setItem("orderDetail",n()(o))},btncancel:function(o){var t=this;this.show_info=!1,i.MessageBox.confirm("",{message:"取消订单后，房费和押金将退还顾客，请慎重操作",title:"取消订单",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(e){"confirm"==e&&Object(c._50)(o.id).done(function(o){Object(i.Toast)({message:o.msg,duration:900}),t.findList()})}).catch(function(o){console.log(o)})},btnchange:function(o){this.$router.push({path:"/fdchange",query:{orderDetail:o}}),localStorage.setItem("orderDetail",n()(o))},btnamend:function(){var o=this;Object(c.J)(this.liveInfo.id).done(function(t){o.$router.push({name:"Amend",query:{item_amend:t.data}}),localStorage.setItem("item_amend",n()(t.data))})},checkOut:function(){var o=this;this.show_info=!1,3==this.liveInfo.orderType?(this.$router.push({path:"/rentCount",query:{rentCount_info:this.liveInfo}}),localStorage.setItem("rentCount_info",n()(this.liveInfo))):i.MessageBox.confirm("",{message:"退房后，将不可恢复，请慎重操作",title:"是否退房",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(t){if("confirm"==t){var e={orderId:o.liveInfo.orderId,orderRoomId:o.liveInfo.id};Object(c._55)(e).done(function(t){Object(i.Toast)({message:t.msg,duration:900}),o.findList()})}}).catch(function(o){console.log(o)})},btnALL:function(){this.show_left=!0},btnRent:function(){this.show_center=!0},btnStatus:function(){this.show_center_2=!0},btnSort:function(){this.show_right=!0},choosed_all:function(o){this.leftName=o,"全部酒店"!=o?this.param.buildNum=o:delete this.param.buildNum,this.show_left=!1,this.findList()},choosed_rent:function(o){"租赁类型"!=o?(this.center_1=o.dictLabel,this.param.roomType=o.dictValue):(this.center_1=o,delete this.param.roomType),this.show_center=!1,this.findList()},choosed_statu:function(o){"房间状态"!=o?(this.center_2=o.dictLabel,this.param.status=o.dictValue):(this.center_2=o,delete this.param.status),this.show_center_2=!1,this.findList()},choosed_scale:function(o){this.right=o,this.scaleName=o,this.show_right=!1,this.findList()},btnchange_cooper:function(o){var t=this;this.cooperOrderAmend=o.id,this.cooperOrderId=o.orderId,this.cooperToScaleId=o.roomScaleId,Object(l.u)({hotelId:this.$route.query.hotelId}).done(function(o){t.cooperChangeRooms=o.data,t.cooperRooms=!0})},choosedRoomcancle:function(){this.cooperRooms=!1},choosedRoom:function(o){var t=this,e={orderId:this.cooperOrderId,toScaleId:this.cooperToScaleId,toVirtualRoomScaleId:"0",toRoomId:o.id,reason:this.reason};Object(c._62)(this.cooperOrderAmend,e).done(function(o){Object(i.Toast)({message:o.msg,duration:900}),t.more_box=!1,t.topList(),t.cooperRooms=!1})}}},u={render:function(){var o=this,t=o.$createElement,s=o._self._c||t;return s("div",[s("div",{attrs:{id:"top"}},[s("div",{staticClass:"topbox",on:{click:o.btnALL}},[s("div",[o._v("\n        "+o._s("全部酒店"==o.leftName?o.leftName:o.leftName+"栋")+"\n        "),s("img",{attrs:{src:e("dD+a"),alt:""}})])]),o._v(" "),s("div",{staticClass:"topbox",on:{click:o.btnRent}},[s("div",[o._v("\n        "+o._s(o.center_1)+"\n        "),s("img",{attrs:{src:e("dD+a"),alt:""}})])]),o._v(" "),s("div",{staticClass:"topbox",on:{click:o.btnStatus}},[s("div",[o._v("\n        "+o._s(o.center_2)+"\n        "),s("img",{attrs:{src:e("dD+a"),alt:""}})])]),o._v(" "),s("div",{staticClass:"topbox",on:{click:o.btnSort}},[s("div",[o._v("\n        "+o._s(o.right)+"\n        "),s("img",{attrs:{src:e("dD+a"),alt:""}})])])]),o._v(" "),s("div",{attrs:{id:"bottom"}},o._l(o.rooms,function(t,n){return s("div",{key:n},[s("div",{staticClass:"buildNum"},[s("p",[o._v("\n          "+o._s("99"!=t.buildNum&&t.buildNum?t.buildNum+"栋":"其他")+"\n          (共"+o._s(t.sum)+"间)\n        ")])]),o._v(" "),o._l(t.children,function(t,n){return s("div",{key:n,staticClass:"floor"},[s("div",[s("p"),o._v(" "),s("p",[o._v(o._s(t.floor+"楼"))]),o._v(" "),s("p")]),o._v(" "),s("div",{staticClass:"room_box"},o._l(t.children,function(t,n){return s("div",{key:n,staticClass:"bigbox"},[s("div",{staticClass:"roomdiv",class:"c"+t.status+("0"==t.isRoomCheck?"0":"1"),on:{click:function(e){return o.btnInfo(t)}}},[s("p",{staticClass:"num"},[s("label",[o._v(o._s(t.roomSn))]),o._v(" "),t.endTime&&o.toDay==t.endTime.substring(0,10)?s("img",{attrs:{src:e("Q3pm"),alt:""}}):o._e()]),o._v(" "),s("p",{staticClass:"scalename"},[o._v(o._s(t.roomScale.scaleName))]),o._v(" "),s("div",{staticClass:"imgBox"},[s("div",[3==t.status&&0!=t.isRoomCheck?s("img",{attrs:{src:e("pi7s"),alt:""}}):o._e(),o._v(" "),3==t.status&&0==t.isRoomCheck?s("img",{attrs:{src:e("0w6M"),alt:""}}):o._e()]),o._v(" "),s("div",[1==t.status?s("img",{attrs:{src:e("U87x"),alt:""}}):o._e(),o._v(" "),2==t.status?s("img",{attrs:{src:e("PkA4"),alt:""}}):o._e(),o._v(" "),4==t.status?s("img",{attrs:{src:e("CCcR"),alt:""}}):o._e(),o._v(" "),5==t.status?s("img",{attrs:{src:e("5v8K"),alt:""}}):o._e(),o._v(" "),2==t.status&&1==t.roomType?s("img",{attrs:{src:e("YI80"),alt:""}}):o._e(),o._v(" "),2==t.status&&2==t.roomType?s("img",{attrs:{src:e("3M+C"),alt:""}}):o._e(),o._v(" "),2==t.status&&3==t.roomType?s("img",{attrs:{src:e("05mR"),alt:""}}):o._e()])])])])}),0)])})],2)}),0),o._v(" "),s("mt-popup",{staticStyle:{"border-radius":"5px",width:"90%","text-align":"left","font-size":"0.7rem",color:"#888"},attrs:{"popup-transition":"popup-fade",position:"center"},model:{value:o.show_info,callback:function(t){o.show_info=t},expression:"show_info"}},[s("div",{attrs:{id:"showbox"}},[s("p",[s("span",[o._v(o._s(o.infoBox.roomSn))]),o._v(" "),s("span",[o._v(o._s(o.infoBox.roomScale?o.infoBox.roomScale.scaleName:""))])]),o._v(" "),s("p",{staticClass:"bottomBox",on:{click:o.goDetail}},[o.liveInfo?s("span",[1==o.infoBox.roomType?s("img",{attrs:{src:e("2llB"),alt:""}}):o._e(),o._v(" "),2==o.infoBox.roomType?s("img",{attrs:{src:e("w4cF"),alt:""}}):o._e(),o._v(" "),3==o.infoBox.roomType&&o.infoBox.cooperId<=0?s("img",{staticStyle:{border:"1px solid red"},attrs:{src:e("Metz"),alt:""}}):o._e(),o._v(" "),3==o.liveInfo.orderType?s("span",[s("span",[o._v(o._s(o.liveInfo.order.startTime.substr(5,5))+" 至 "+o._s(o.liveInfo.order.endTime.substr(5,5)))]),o._v(" "),s("span",[o._v("共"+o._s(12*(o.liveInfo.order.endTime.substr(0,4)-o.liveInfo.order.startTime.substr(0,4))+(o.liveInfo.order.endTime.substr(5,2)-o.liveInfo.order.startTime.substr(5,2)))+"月")])]):s("span",[o._v(o._s(o.liveInfo.order.startTime.substr(5,5))+"至"+o._s(o.liveInfo.order.endTime.substr(5,5))+"  共"+o._s(o.liveInfo.order.diffDay)+o._s(2==o.liveInfo.orderType?"小时":"晚"))]),o._v(" "),s("span",[o._v("房费:¥"+o._s(3==o.liveInfo.orderType||4==o.liveInfo.orderType?o.liveInfo.order.price:0==o.liveInfo.isCon?(o.liveInfo.roomPrice-o.liveInfo.deposit).toFixed(2):o.liveInfo.roomPrice))])]):o._e(),o._v(" "),3==o.infoBox.status&&0!=o.infoBox.isRoomCheck?s("span",{staticClass:"cleaning"},[1==o.infoBox.roomType?s("img",{attrs:{src:e("nBqX"),alt:""}}):o._e(),o._v(" "),s("span",[o._v("房间需要清洁，清洁完成后才能分房")])]):o._e(),o._v(" "),3==o.infoBox.status&&0==o.infoBox.isRoomCheck?s("span",{staticClass:"cleaning"},[1==o.infoBox.roomType?s("img",{attrs:{src:e("nQHL"),alt:""}}):o._e(),o._v(" "),s("span",[o._v("顾客正在等待您退押，请完成查房")])]):o._e(),o._v(" "),o.liveInfo?s("label",[s("img",{attrs:{src:e("sD9W"),alt:""}}),o._v(" "),"1"==o.liveInfo.order.orderSource?s("span",[o._v(o._s(null!=o.liveInfo.sysUser?o.liveInfo.sysUser.realName:o.liveInfo.order.roomUser))]):s("span",[o._v(o._s(o.liveInfo.order.roomUser?o.liveInfo.order.roomUser:"未录入"))])]):o._e()]),o._v(" "),s("div",[3==o.infoBox.status?s("mt-button",{staticClass:"boxBottom",on:{click:o.cleanRoom}},[o._v(o._s(0!=o.infoBox.isRoomCheck?"打扫完成":"开始查房"))]):o._e(),o._v(" "),o.roles.includes("ROLE_MANAGER")&&1==o.infoBox.status?s("mt-button",{staticClass:"boxBottom",on:{click:o.lockRoom}},[o._v("锁房")]):o._e(),o._v(" "),4==o.infoBox.status||5==o.infoBox.status?s("mt-button",{staticClass:"boxBottom",on:{click:o.LiveRoom}},[o._v("上线")]):o._e(),o._v(" "),2==o.infoBox.status||3==o.infoBox.status||4==o.infoBox.status?s("mt-button",{staticClass:"boxBottom",on:{click:o.getMoreList}},[o._v("更多操作")]):o._e(),o._v(" "),1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment?s("mt-button",{staticClass:"boxBottom",on:{click:o.goCode}},[o._v("收款码")]):o._e(),o._v(" "),o.liveInfo.roomSn&&1==o.liveInfo.status&&o.a<o.liveInfo.next_day&&0==o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&o.a<o.liveInfo.next_day&&0!=o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?s("mt-button",{staticClass:"boxBottom",on:{click:function(t){return o.btncancel(o.liveInfo)}}},[o._v("取消订单")]):o._e(),o._v(" "),1==o.liveInfo.status&&0==o.liveInfo.isCon&&o.a<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&0!=o.liveInfo.isCon&&o.a<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&null==o.liveInfo.roomSn&&o.a<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?s("mt-button",{staticClass:"boxBottom",on:{click:function(t){return o.btncancel(o.liveInfo)}}},[o._v("取消订单")]):o._e(),o._v(" "),1==o.liveInfo.status&&o.liveInfo.roomSn&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&!o.liveInfo.roomSn&&o.a>o.liveInfo.next_day&&1!=o.liveInfo.conRoom||2==o.liveInfo.status&&1!=o.liveInfo.conRoom?s("mt-button",{staticClass:"boxBottom",on:{click:o.checkOut}},[o._v(o._s(3!=o.liveInfo.orderType?"提前退房":"退租"))]):o._e(),o._v(" "),1==o.liveInfo.status&&null==o.liveInfo.roomSn?s("mt-button",{staticClass:"boxBottom",on:{click:function(t){return o.btnlive(o.liveInfo)}}},[o._v("办理入住")]):o._e()],1)])]),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_left,callback:function(t){o.show_left=t},expression:"show_left"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_all("全部酒店")}}},[o._v("全部酒店")]),o._v(" "),o._l(o.top_rooms.filter(function(o){return o.buildNum}),function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_all(t.buildNum)}}},[s("span",[o._v(o._s(t.buildNum+"栋"))])])})],2),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_center,callback:function(t){o.show_center=t},expression:"show_center"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_rent("租赁类型")}}},[o._v("租赁类型")]),o._v(" "),o._l(o.rents,function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_rent(t)}}},[s("span",[o._v(o._s(t.dictLabel))])])})],2),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_center_2,callback:function(t){o.show_center_2=t},expression:"show_center_2"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_statu("房间状态")}}},[o._v("房间状态")]),o._v(" "),o._l(o.roomStatus,function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_statu(t)}}},[s("span",[o._v(o._s(t.dictLabel))])])})],2),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_right,callback:function(t){o.show_right=t},expression:"show_right"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_scale("所有房型")}}},[o._v("所有房型")]),o._v(" "),o._l(o.scales,function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_scale(t.scaleName)}}},[s("span",[o._v(o._s(t.scaleName))])])})],2),o._v(" "),s("mt-popup",{staticClass:"pass_box",attrs:{position:"center"},model:{value:o.password_show,callback:function(t){o.password_show=t},expression:"password_show"}},[s("p",{staticClass:"p_pass"},[o._v("请确认下发密码至该手机？")]),o._v(" "),s("div",{staticClass:"pass_show"},[s("div",[o._v("电话：")]),o._v(" \n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:o.pass_phone,expression:"pass_phone"}],domProps:{value:o.pass_phone},on:{input:function(t){t.target.composing||(o.pass_phone=t.target.value)}}})]),o._v(" "),s("div",{staticClass:"box bottom_pass"},[s("div",{staticClass:"pass_can",on:{click:o.pass_can}},[o._v("取消")]),o._v(" "),s("div",{staticClass:"pass_ok",on:{click:o.pass_ok}},[o._v("确定")])])]),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.more_box,callback:function(t){o.more_box=t},expression:"more_box"}},[1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment?s("mt-button",{staticClass:"button_box",on:{click:o.goCode}},[o._v("收款码")]):o._e(),o._v(" "),s("mt-button",{staticClass:"button_box",on:{click:o.goDetail}},[o._v("查看订单详情")]),o._v(" "),1==o.more.status&&o.more.roomSn&&2!==o.more.orderType&&1==o.more.order.orderSource||2==o.more.status&&o.more.roomSn&&2!==o.more.orderType&&1==o.more.order.orderSource?s("mt-button",{staticClass:"button_box",attrs:{id:"plat"},on:{click:function(t){return o.btnback(o.more,9)}}},[o._v("房费优惠")]):o._e(),o._v(" "),o.liveInfo.roomSn&&1==o.liveInfo.status&&o.a<o.liveInfo.next_day&&0==o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&o.a<o.liveInfo.next_day&&0!=o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[s("span",[o._v("取消订单")])]):o._e(),o._v(" "),1==o.liveInfo.status&&0==o.liveInfo.isCon&&o.a<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&0!=o.liveInfo.isCon&&o.a<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&null==o.liveInfo.roomSn&&o.a<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[s("span",[o._v("取消订单")])]):o._e(),o._v(" "),1==o.more.status&&o.more.roomSn&&1!=o.more.conRoom||1==o.more.status&&!o.more.roomSn&&o.a>o.more.next_day&&1!=o.more.conRoom||1==o.more.status&&o.more.roomSn&&1!=o.more.conRoom||2==o.more.status&&0==o.more.isCon&&1!==o.more.conRoom&&1!=o.more.conRoom||2==o.more.status&&0==o.more.isCon&&1!==o.more.conRoom&&1!=o.more.conRoom?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.checkOut(o.more)}}},[o._v(o._s(3!=o.more.orderType?"提前退房":"退租"))]):o._e(),o._v(" "),o.more.roomSn||1!=o.more.status||"3"==o.more.orderType?o._e():s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btnchange(o.more)}}},[o._v("换房")]),o._v(" "),0==o.more.isCon&&o.more.roomSn&&1!=o.more.conRoom&&1==o.more.status&&3!=o.more.orderType&&!o.roles.includes("ROLE_COOPER_MANAGER")||1==o.more.status&&0==o.more.isCon&&o.more.roomSn&&1==o.more.conRoom&&3!=o.more.orderType&&!o.roles.includes("ROLE_COOPER_MANAGER")||1!==o.more.conRoom&&2==o.more.status&&3!=o.more.orderType&&!o.roles.includes("ROLE_COOPER_MANAGER")||2==o.more.status&&!o.roles.includes("ROLE_COOPER_MANAGER")||o.more.roomSn&&1==o.more.status&&3==o.more.orderType&&!o.roles.includes("ROLE_COOPER_MANAGER")?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnamend}},[o._v("换房")]):o._e(),o._v(" "),1==o.more.status&&o.roles.includes("ROLE_COOPER_MANAGER")||1==o.more.status&&o.roles.includes("ROLE_COOPER_MANAGER")?s("mt-button",{staticClass:"button_box",on:{click:function(t){return o.btnchange_cooper(o.more)}}},[o._v("换房\n    ")]):o._e(),o._v(" "),1==o.more.status&&null==o.more.roomSn?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btnlive(o.more)}}},[o._v("办理入住")]):o._e(),o._v(" "),o.more.roomSn&&1==o.more.status||o.more.roomSn&&2==o.more.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnAgain}},[o._v("重新下发密码到锁")]):o._e(),o._v(" "),1==o.more.status&&o.more.roomSn&&o.more.password&&o.more.order.payment>=5||2==o.more.status&&o.more.roomSn&&o.more.password&&o.more.order.payment>=5?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnGetInfo}},[o._v("重新下发短信")]):o._e(),o._v(" "),1==o.more.status&&3==o.more.orderType||2==o.more.status&&3==o.more.orderType||1==o.more.status&&4==o.more.orderType||2==o.more.status&&4==o.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.changeWatch}},[o._v("换表")]):o._e(),o._v(" "),1==o.more.status&&3==o.more.orderType&&1==o.more.elecPayModel||2==o.more.status&&3==o.more.orderType&&1==o.more.elecPayModel||1==o.more.status&&4==o.more.orderType&&1==o.more.elecPayModel||2==o.more.status&&4==o.more.orderType&&1==o.more.elecPayModel?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.eleCharge}},[o._v("电费充值")]):o._e()],1),o._v(" "),s("mt-popup",{staticClass:"cooper-change-rooms",attrs:{position:"bottom"},model:{value:o.cooperRooms,callback:function(t){o.cooperRooms=t},expression:"cooperRooms"}},[s("div",{},[s("p",{staticClass:"lineheight borderbottom"},[o._v("请选择新房间号")]),o._v(" "),s("div",{staticClass:"roomsScroll"},o._l(o.cooperChangeRooms,function(t){return s("div",{key:t.id,staticClass:"lineheight",on:{click:function(e){return o.choosedRoom(t)}}},[o._v(o._s(t.roomSn))])}),0),o._v(" "),s("p",{staticClass:"h10"}),o._v(" "),s("p",{staticClass:"lineheight",on:{click:function(t){return o.choosedRoomcancle(o.item)}}},[o._v("取消")])])])],1)},staticRenderFns:[]};var d=e("k6Sl")(m,u,!1,function(o){e("UItL")},"data-v-29a0af15",null);t.default=d.exports},UItL:function(o,t){}});
//# sourceMappingURL=126.990c0c7de8f6257e03a81758782009845.js.map