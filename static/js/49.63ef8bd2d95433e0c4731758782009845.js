webpackJsonp([49],{npAf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("nfjU"),s=a.n(i),n=a("tN5p"),o=a("RmFe"),r=a.n(o),d={data:function(){var t;return t={now_time:"",end_time:null,dataForm:{diffDay:1},time_box:!1,roomsList:[],leaveTime:"",leaveShow:!1},s()(t,"end_time",""),s()(t,"weedday",""),s()(t,"minDate",new Date),s()(t,"maxDate",new Date),t},created:function(){this.$store.commit("setHeader","散客入住"),this.getRooms(),this.weeks=["周日","周一","周二","周三","周四","周五","周六"];var t=(new Date).getHours();0<=t&&t<8?(this.lastDay=-1,this.now_time=this.GetDateStr(-1),this.end_time=((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)+"月"+((new Date).getDate()<10?"0"+(new Date).getDate():(new Date).getDate())+"日 "+this.weeks[(new Date).getDay()],this.maxDate=new Date(r()(this.minDate).add(3,"year").format("YYYY-MM-DD"))):(this.minDate=new Date(r()(this.minDate).add(1,"day").format("YYYY-MM-DD")),this.maxDate=new Date(r()(this.minDate).add(1,"day").add(3,"year").format("YYYY-MM-DD")),this.now_time=((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)+"月"+((new Date).getDate()<10?"0"+(new Date).getDate():(new Date).getDate())+"日 "+this.weeks[(new Date).getDay()],this.end_time=this.GetDateStr(this.dataForm.diffDay)),this.c_hotel=JSON.parse(localStorage.getItem("c_hotel"))},methods:{getRooms:function(){var t=this;Object(n.v)({hotelId:this.$route.query.hotelId,diffDay:this.dataForm.diffDay}).done(function(e){t.roomsList=e.order,t.leaveTime=e.data.leaveTime})},GetDateStr:function(t){var e=new Date;return e.setDate(e.getDate()+t),(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月"+(e.getDate()<10?"0"+e.getDate():e.getDate())+"日 "+this.weeks[e.getDay()]},chooseRoom:function(t){this.$router.push({path:"/business-handle-choose-room",query:{hotelId:t.hotelId,roomId:t.id,roomScaleId:t.roomScaleId,roomSn:t.roomSn,now_time:this.now_time,end_time:1==this.dataForm.diffDay?this.end_time.substr(0,6):this.new_end_time,diffDay:this.dataForm.diffDay}})},formatDate:function(t){t.getFullYear();var e=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate();return this.weedday=this.weeks[r()(t).day()],this.dataForm.diffDay=r()(t).diff(r()(),"day")+1,this.getRooms(),this.new_end_time=e+"月"+a+"日",e+"月"+a+"日"},onConfirm:function(t){this.leaveShow=!1,this.end_time=this.formatDate(t)}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"big_box"},[i("section",{staticClass:"times"},[i("p",{staticClass:"howlong"},[t._v("住多久")]),t._v(" "),i("div",{staticClass:"choose_time"},[i("div",{staticClass:"left"},[i("div",[t._v("\n          "+t._s(t.now_time)+"\n          "),i("br"),t._v(" "),i("span",[t._v("现在入住")])]),t._v(" "),i("img",{staticClass:"img_right",attrs:{src:a("JfLI"),alt:""}}),t._v(" "),i("div",{on:{click:function(e){t.leaveShow=!0}}},[t._v("\n          "+t._s(t.end_time)+t._s(t.weedday)+"\n          "),i("br"),t._v(" "),i("span",[t._v(t._s(t.leaveTime)+"前离店")])]),t._v(" "),i("img",{staticClass:"img_right",attrs:{src:a("JfLI"),alt:""}})]),t._v(" "),i("div",{staticClass:"right"},[t._v("\n        "+t._s(t.dataForm.diffDay)+"\n        "),i("span",{staticClass:"unit"},[t._v("晚")])])])]),t._v(" "),i("p",{staticClass:"title"},[t._v("选择房间")]),t._v(" "),i("div",{staticClass:"scroll_box"},[i("section",{staticClass:"bottom_room"},t._l(t.roomsList,function(e,a){return i("div",{key:a,staticClass:"room_box",attrs:{id:"colorBox"},on:{click:function(a){return t.chooseRoom(e)}}},[i("div",{staticClass:"child1"},[t._v(t._s(e.roomSn))])])}),0)]),t._v(" "),i("van-calendar",{attrs:{"min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.onConfirm},model:{value:t.leaveShow,callback:function(e){t.leaveShow=e},expression:"leaveShow"}})],1)},staticRenderFns:[]};var h=a("k6Sl")(d,m,!1,function(t){a("r6on")},"data-v-f7f39290",null);e.default=h.exports},r6on:function(t,e){}});
//# sourceMappingURL=49.63ef8bd2d95433e0c4731758782009845.js.map