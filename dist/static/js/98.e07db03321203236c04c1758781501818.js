webpackJsonp([98],{GR0Y:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r("xtMQ");var o=r("UJbh"),n=r("Gwi0"),i={data:function(){return{currentInfo:[],orderSourceMap:{},payment:null,paySource:null,add_totalPrice:0,monthBillTypeObj:{1:"房费",2:"生活",3:"电费",4:"押金F"}}},created:function(){this.$store.commit("setHeader","结算订单"),this.getInfo(this.$route.query.billRecordId)},methods:{getInfo:function(t){var e=this;1==this.$route.query.selected?Object(n.e)(t).done(function(t){t.data.length>0&&e.dealList(t.data)}):Object(n.E)(t).done(function(t){e.currentInfo=t.data,e.add_totalPrice=0,t.data.forEach(function(t){e.add_totalPrice+=t.totalPrice}),e.getDay()})},dealList:function(t){"2-1"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.depositAmount>0&&0<t.depositPayment&&t.depositPayment<4}):"2-2"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.depositAmount>0&&0<t.depositPayment&&t.depositPayment<3}):"2-3"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.depositAmount>0&&3==t.depositPayment}):"3-1"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.payment>0&&t.payment<4}):"3-2"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return 3==t.billPlat}):"3-3"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return 2==t.billPlat}):"3-4"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return 4==t.billPlat}):"3-5"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return 9==t.billPlat}):"线下收款"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return 5==t.billPlat&&t.payment>4}):"4-1"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.billPlat>1}):"4-2"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.billPlat>1}):"4-3"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.billPlat>1}):"4-4"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.billPlat>1}):"4-5"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.billPlat>1}):"5-1"==this.$route.query.platNum?this.getBillRecord({type:"autoDepositCutPay"}):"5-2"==this.$route.query.platNum?this.getBillRecord({type:"depositCutPay"}):"5-3"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.extraAmount>0}):"6-1"==this.$route.query.platNum?this.currentInfo=t.filter(function(t){return t.reverseAmount>0}):"6-2"==this.$route.query.platNum&&(this.currentInfo=t.filter(function(t){return t.refuseAmount>0})),this.currentInfo.length>0&&1==this.$route.query.selected?this.getDay():this.currentInfo.length>0&&2==this.$route.query.selected&&this.getMonth()},getBillRecord:function(t){var e=this,r={billRecordId:this.$route.query.billRecordId,type:t.type};Object(n.f)(r).done(function(t){e.currentInfo=t.data,e.currentInfo.length>0&&1==e.$route.query.selected?e.getDay():e.currentInfo.length>0&&2==e.$route.query.selected&&e.getMonth()})},getDay:function(){var t=this;Object(o.a)({dictType:"business_order_source"}).done(function(e){for(var r={},o=0;o<e.data.length;o++)r[e.data[o].dictValue]=e.data[o].dictLabel;t.orderSourceMap=r}),Object(o.a)({dictType:"business_payment"}).done(function(e){var r={};e.data.forEach(function(t){r[t.dictValue]=t.dictLabel}),t.payment=r})},getMonth:function(){var t=this;Object(o.a)({dictType:"business_month_bill_type"}).done(function(e){var r={};e.data.forEach(function(t){r[t.dictValue]=t.dictLabel}),t.paySource=r})},btn_go:function(t){var e=this;1==t.monthBillType?(this.getRoom(t),setTimeout(function(){e.$router.push({path:"/roomFeeD",query:{rentalBillId:e.RoomList.id}})},1e3)):2==t.monthBillType&&(this.getLife(t),setTimeout(function(){e.$router.push({path:"/lifeFeeD",query:{life_fee:e.LifeList}})},1e3))},getRoom:function(t){var e=this;Object(n.V)(t.orderRoomId).done(function(t){e.RoomList=t.data[0]})},getLife:function(t){var e=this;Object(n.y)(t.orderRoomId).done(function(t){e.LifeList=result.data[0]})}}},s={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[2==t.$route.query.selected?r("div",{staticClass:"bg_back"},[r("div",{staticClass:"p12 g_f22 g_fw"},[t._v(t._s(t._f("point")(t.add_totalPrice)))]),t._v(" "),r("div",[t._v("收款总额（元）")])]):t._e(),t._v(" "),t.currentInfo.length>0?r("div",{style:{top:2==t.$route.query.selected?"135px":"50px"},attrs:{id:"moneyDetailsBox"}},t._l(t.currentInfo,function(e,o){return r("div",{key:o,on:{click:function(r){return t.btn_go(e)}}},[1==t.$route.query.selected?r("div",{staticClass:"day"},[r("div",{staticClass:"per_info"},[r("p",{staticClass:"c_000"},[t._v("\n            "+t._s(null!=e.orderRoom.sysUser&&e.orderRoom.sysUser.realName?e.orderRoom.sysUser.realName:e.orderRoom.order.roomUser)+"\n            "),r("span",[t._v(t._s(null!=e.orderRoom.sysUser?e.orderRoom.sysUser.phone:e.orderRoom.order.phone))])]),t._v(" "),r("p",[t._v(t._s(t.orderSourceMap[e.orderRoom.order.orderSource]))])]),t._v(" "),r("div",{staticClass:"day_bottom"},[r("div",{staticClass:"scalename"},[r("p",[t._v(t._s(e.orderRoom.roomScale.scaleName)),r("br")]),r("div",[t._v("共1间 房间号"+t._s(e.orderRoom.roomSn))]),t._v(" "),r("div",{staticClass:"c_000"},[t._v(t._s(t._f("dataFilter")(e.orderRoom.order.startTime,"MM/DD"))+"至"+t._s(t._f("dataFilter")(e.orderRoom.order.endTime,"MM/DD")))])])]),t._v(" "),r("div",{staticClass:"money"},[r("p",{staticClass:"c_000"},[t._v("\n            结算金额：\n            "),r("span",{staticClass:"c_ff"},[t._v("¥"+t._s(e.balanceAmount))]),t._v(" "),t.payment?r("span",{staticClass:"f12",style:0!=e.payment?{color:"green"}:{color:"red"}},[t._v("("+t._s(0!=e.payment?t.payment[e.payment]:"未支付")+")")]):t._e()]),t._v(" "),"线下收款"==t.$route.query.platNum?r("p",{staticClass:"c_000"},[t._v("\n            收款账户：\n            "),r("span",{staticClass:"c_ff"},[t._v(t._s(e.payeeAccount))])]):t._e(),t._v(" "),e.depositAmount>0?r("p",{staticClass:"c_000"},[t._v("\n            扣押金额：\n            "),r("span",{staticClass:"c_ff"},[t._v("¥"+t._s(e.depositAmount)+" ")]),t._v(" "),r("span",{staticClass:"f12",style:0!=e.depositPayment?{color:"green"}:{color:"red"}},[t._v(" ("+t._s(t.payment[e.depositPayment])+")")])]):t._e()]),t._v(" "),e.reverseAmount>0?r("div",{staticClass:"money"},[r("p",{staticClass:"c_000"},[t._v("\n            冲账：\n            "),r("span",{staticClass:"c_ff"},[t._v("-¥"+t._s(e.reverseAmount))])])]):t._e(),t._v(" "),r("div",{staticClass:"money c_000"},[t._v("订单号："+t._s(e.orderRoom.order.orderSn))])]):r("div",{staticClass:"long"},[r("p",[r("span",[t._v(t._s(t._f("dataFilter")(e.startTime,"YYYY-MM-DD"))+"至"+t._s(t._f("dataFilter")(e.endTime,"YYYY-MM-DD"))+" "),r("span",{staticClass:"type_style",class:"1"==e.monthBillType||"3"==e.monthBillType?"type1":"type2"},[t._v(t._s(t.monthBillTypeObj[e.monthBillType]))])]),t._v(" "),r("span",[t._v("¥"+t._s(t._f("point")(e.totalPrice)))])]),t._v(" "),r("div",{staticClass:"g_c_b2"},[t._v("到账时间："+t._s(e.billTime))]),t._v(" "),r("div",{staticClass:"g_c_b2 g_bt"},[t._v(t._s(e.orderRoom.roomSn)+" "+t._s(e.roomUser))])])])}),0):r("h2",[t._v("暂无数据")])])},staticRenderFns:[]};var a=r("k6Sl")(i,s,!1,function(t){r("Yfbm")},"data-v-570d4d52",null);e.default=a.exports},Yfbm:function(t,e){}});
//# sourceMappingURL=98.e07db03321203236c04c1758781501818.js.map