webpackJsonp([45],{OBHw:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("vvmr"),i=o.n(n),r=o("eVBm"),s=o("UJbh"),u=o("s/fh"),c={data:function(){return{DevArr:[],choosedArr:[],ids:[]}},created:function(){var t=this;this.$store.commit("setHeader","1"==this.$route.query.active?"请选择酒店设施":"请选择房型设施"),this.$route.query.items&&this.$route.query.items.length>0&&this.$route.query.items.map(function(e){t.ids.push(e.id),e.myStatus=!0,t.choosedArr.push(e)}),this.getType()},methods:{getType:function(){var t=this;Object(s.a)({dictType:"business_room_dev_type"}).done(function(e){t.dictDate=e.data,t.getDevInfo()})},getDevInfo:function(){var t=this;Object(r.a)({devDomain:this.$route.query.active}).done(function(e){t.ids&&t.ids.length>0?function(){var o=i()({},t.ids),n=function(t){e.data.map(function(n,i){o[t]==n.id&&e.data.splice(i,1)})};for(var r in o)n(r);e.data=e.data.concat(t.choosedArr),e.data.sort(function(t,e){return t.id-e.id})}():e.data.map(function(t){t.myStatus=!1});var o={};e.data.forEach(function(t){t.myStatus||(t.myStatus=!1),o[t.devType]?o[t.devType].push(t):o[t.devType]=[t]});var n=[],r=function(e){var i={};i.devType=e,i.title=t.dictDate.find(function(t){return t.dictValue==e}).dictLabel,i.content=o[e],n.push(i)};for(var s in o)r(s);t.DevArr=n})},chooseDev:function(t){t.myStatus=!t.myStatus,1==t.myStatus?this.choosedArr.push(t):this.choosedArr=this.choosedArr.filter(function(e){return e.id!=t.id})},keep:function(){var t=this;if(this.choosedArrFilter=this.choosedArr.filter(function(t){return 1==t.myStatus}),0!=this.choosedArrFilter.length){var e=this.choosedArrFilter.map(function(t){return t.id});if("1"==this.$route.query.active){var o={hotelId:this.$route.query.hotelId,roomDevIds:e.toString()};Object(r.c)(o).done(function(e){Object(u.c)({message:e.msg,duration:900}),setTimeout(function(){t.$router.go(-1)},1e3)})}else{var n={roomScaleId:this.$route.query.roomScaleId,roomDevIds:e.toString()};Object(r.d)(n).done(function(e){Object(u.c)({message:e.msg,duration:900}),setTimeout(function(){t.$router.go(-1)},1e3)})}}else Object(u.c)({message:"1"==this.$route.query.active?"请选择酒店设施":"请选择房型设施",duration:900})}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"srcoll"},t._l(t.DevArr,function(e,n){return o("div",{key:n,staticClass:"left"},[o("div",{staticClass:"left_top"},[o("div",{staticClass:"heng"}),t._v(" "),o("div",[t._v(t._s(e.title))])]),t._v(" "),t._l(e.content,function(e,n){return o("div",{key:n,staticClass:"left_bottom",on:{click:function(o){return t.chooseDev(e)}}},[o("div",[t._v(t._s(e.devName))]),t._v(" "),o("van-icon",{attrs:{name:1==e.myStatus?"checked":"circle",color:1==e.myStatus?"#ff7c42":"#C5CAD5",size:"20px"}})],1)})],2)}),0),t._v(" "),o("van-button",{staticClass:"bottom_btn",on:{click:t.keep}},[t._v("保存")])],1)},staticRenderFns:[]};var d=o("k6Sl")(c,a,!1,function(t){o("dloH")},"data-v-4332623c",null);e.default=d.exports},dloH:function(t,e){},eVBm:function(t,e,o){"use strict";o.d(e,"b",function(){return i}),o.d(e,"a",function(){return r}),o.d(e,"c",function(){return s}),o.d(e,"d",function(){return u});var n=o("gyMJ"),i=function(t){return n.a("/api/business/roomdev/byhotel/"+t.hotelId,t,!0)},r=function(t){return n.a("/api/business/roomdev/bydomain/"+t.devDomain,t,!0)},s=function(t){return n.b("/api/business/roomdev/bond/byhotel",t,!0)},u=function(t){return n.b("/api/business/roomdev/bond/byroomscale",t,!0)}}});
//# sourceMappingURL=45.0f203ba0b4c1696ac6401758781501818.js.map