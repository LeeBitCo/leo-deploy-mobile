webpackJsonp([96],{LZRy:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("2REM"),r=i("RmFe"),o=i.n(r),s={components:{},data:function(){return{selected:"1",key:0,listArr:[],item:"",statu:!1,options:{},priceAll:{},contentKey:0,num:"1"}},created:function(){for(var t=o()().format("YYYY-MM"),e=[],i=0;i<100;i++){o()("2021-09").add(i,"month").unix()<=o()(t).unix()&&e.push(o()("2021-09").add(i,"month"))}this.$store.commit("setHeader","经营日报");for(var n=new Date,r=n.getFullYear(),s=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,a=0;a<e.length;a++){var c=s-a,l=r;if(c<=0){var u=Math.abs(c);c=12-u%12,l-=parseInt(u/12)+1}this.listArr.push({y:l,m:c<10?"0"+c:c,statu:0==a})}var m={};this.listArr.forEach(function(t){m[t.y]?m[t.y].push(t):m[t.y]=[t]});var d=[];for(var v in m){var h={};h.year=v,h.child=m[v],d.push(h)}this.listArr=d.reverse(),this.toggle(this.listArr[0].child[0],1)},methods:{btnSearch:function(t){this.listArr.map(function(t){t.child.map(function(t){t.statu=!1})});(new Date).getFullYear();this.num=t,this.priceAll={},this.options=[],this.toggle(this.listArr[0].child[0],1)},toggle:function(t,e){this.item=t,t.statu=1==e||!t.statu,2==this.num?1==t.statu&&this.getprice_long(t.y,t.m):1==t.statu&&this.getprice(t.y,t.m)},getprice:function(t,e){var i=this,r={billTime:this.item.y+"-"+this.item.m};Object(n.c)(r).done(function(n){i.options[t+"-"+e]=[],i.order=n.order,i.other=n.other;var r=[];for(var o in n.data){var s={};s.time=o,s.price=n.data[o],r.push(s)}i.options[t+"-"+e]=r,i.func(i.options[t+"-"+e],t+"-"+e),++i.contentKey})},getprice_long:function(t,e){var i=this,r={billTime:this.item.y+"-"+this.item.m};Object(n.e)(r).done(function(n){i.options[t+"-"+e]=[],i.order=n.order,i.other=n.other;var r=[];for(var o in n.data){var s={};s.time=o,s.price=n.data[o],r.push(s)}i.options[t+"-"+e]=r,i.func(i.options[t+"-"+e],t+"-"+e),++i.contentKey})},func:function(t,e){var i=this;t.sort(function(t,e){return t.time>e.time?-1:1}),t.map(function(t){i.priceAll[e+"-come"]=Number(i.order).toFixed(2),i.priceAll[e+"-out"]=Number(i.other).toFixed(2),++i.key})},goNext:function(t){this.$router.push({path:"/owner-finance-rooms",query:{billTime:t.time||t,selected:this.selected}})}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"scroll"}},[i("mt-navbar",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[i("mt-tab-item",{attrs:{id:"1"},nativeOn:{click:function(e){return t.btnSearch(1)}}},[i("span",[t._v("日租")])]),t._v(" "),i("mt-tab-item",{attrs:{id:"2"},nativeOn:{click:function(e){return t.btnSearch(2)}}},[i("span",[t._v("长短租")])])],1),t._v(" "),t._m(0),t._v(" "),i("div",{key:t.contentKey},t._l(t.listArr,function(e,n){return i("div",{key:n},t._l(e.child,function(e,n){return i("div",{key:n},[i("div",{staticClass:"all",on:{click:function(i){return t.toggle(e)}}},[i("div",{staticStyle:{"text-align":"left",width:"70%"}},[i("div",{staticStyle:{"font-weight":"bold",display:"flex","align-items":"center"},on:{click:function(i){return i.stopPropagation(),t.goNext(e.y+"-"+e.m)}}},[t._v(t._s(e.y)+"年"+t._s(e.m)+"月\n              "),i("van-icon",{attrs:{name:"arrow"}})],1),t._v(" "),t.priceAll[e.y+"-"+e.m+"-come"]||t.priceAll[e.y+"-"+e.m+"-out"]?i("div",{staticClass:"money"},[i("div",{staticStyle:{display:"inline-block","text-align":"left"}},[i("div",{staticStyle:{color:"#000","font-weight":"bold"}},[t._v("结算金额："),i("span",{staticStyle:{color:"#ff7d41"}},[t._v(" ¥"+t._s(Number(t.priceAll[e.y+"-"+e.m+"-come"]-t.priceAll[e.y+"-"+e.m+"-out"]).toFixed(2)))])]),t._v(" "),i("div",{staticStyle:{color:"#888",display:"flex","font-size":"12px"}},[i("div",[t._v("总收入：¥"+t._s(Number(t.priceAll[e.y+"-"+e.m+"-come"]).toFixed(2)))]),t._v(" \n                  "),i("div",[t._v("总支出：¥"+t._s(Number(t.priceAll[e.y+"-"+e.m+"-out"]).toFixed(2)))])])])]):t._e()]),t._v(" "),i("van-icon",{attrs:{name:0==e.statu?"arrow":"arrow-down"}})],1),t._v(" "),i("div",[i("ul",{directives:[{name:"show",rawName:"v-show",value:e.statu,expression:"item.statu"}],key:t.key,staticStyle:{"margin-bottom":"10px"}},t._l(t.options[e.y+"-"+e.m],function(e,n){return i("li",{key:n,staticClass:"other_box",on:{click:function(i){return t.goNext(e)}}},[i("span",{staticClass:"li-box"},[i("span",[t._v("\n                  "+t._s(e.time||e.billTime))]),t._v(" "),i("span",{staticClass:"c_00"},[t._v(t._s(Number(e.price).toFixed(2)||Number(e.balanceAmount).toFixed(2))+"\n                  "),i("van-icon",{attrs:{name:"arrow"}})],1)])])}),0)])])}),0)}),0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"status_box"},[e("span",[this._v("结算日")]),this._v(" "),e("span",[this._v("金额")])])}]};var c=i("k6Sl")(s,a,!1,function(t){i("ZlIn")},"data-v-59109842",null);e.default=c.exports},ZlIn:function(t,e){}});
//# sourceMappingURL=96.de4312567c02559af1211758781501818.js.map