webpackJsonp([33],{BDTM:function(o,t){o.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABIklEQVQ4T62UjU3DMBSE7yYobJANygZtJ2g3gA1gA7oBo5BOQEZoN2CEMMFVF/khi5CfOrVkRU7iT/fu/RA3LElbABsAfnqf0z6RrI3iEE/Sw5/LT9m/FwDr7NySfJwCHgG8p0sGNLFJtpKUiyHZiRtTWAGoSBrUWzcDgyDJ4D2Ab5Kn7P18hZLs13MyPveuIbkzdJbCpObLoQ4lK7yaC8wTEcwfAKs4lADfALimateWpAOAzyVA+9QkH52Ml9yCEoWGuKj/9bEEaEUOOQrZLXa3kN239vRXbYlC159D9u6tEqD7173bZToV98eSLJ9jFKWSeU3QjlmiMMaS6+9uIQ+O3UmFkpzFaK2YxGNz3O3pFc/41+eWkjzG8+k7Bpv6drkCDde6TuTqRJoAAAAASUVORK5CYII="},iFfB:function(o,t){},l9Ch:function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("HkQL"),i=e.n(s),r=e("NpYV"),n=e("UJbh"),a=e("RmFe"),c=e.n(a),l=e("Gwi0"),u=e("tN5p"),d=e("1Wd6"),m=e("TKTC"),_={data:function(){return{new_list:[],rooms:[],top_rooms:[],show_info:!1,rents:[],roomStatus:[],sorts:[],scales:[],bedInfoAll:[],dome:[],cleaningList:[],rent:"租赁类型",infoBox:"",liveInfo:"",currentRole:"",toDay:"",show_left:!1,domeName:"",leftName:"全部酒店",show_center:!1,center_1:"租赁类型",show_center_2:!1,center_2:"房间状态",show_right:!1,right:"所有房型",a:"",more_box:!1,more:"",password_show:!1,ROLE_MANAGER:!1,ROLE_HOTEL_OWNER:!1,show_pai:!1,show_paiList:!1,pass_phone:"",login_info:null,hotelType:null,cleanType:"",cleanType_label:null,cleanAmount:null,description:null,unixCurrent:null,unixTime:null}},created:function(){var o=this;this.$store.commit("setHeader","实时房态"),this.hotelId=this.$route.query.hotelId,"1"==JSON.parse(localStorage.getItem("current_user")).id?this.ROLE_MANAGER=!0:(this.roles=JSON.parse(localStorage.getItem("roles")),this.roles.some(function(t){return"ROLE_MANAGER"==t.name?o.ROLE_MANAGER=!0:o.ROLE_MANAGER=!1}),"ROLE_HOTEL_OWNER"==this.roles[0].name&&(this.ROLE_HOTEL_OWNER=!0)),this.hotelType=localStorage.getItem("c_hotelType"),this.param={hotelId:this.hotelId},this.topList(),this.getTop(),this.toDay=c()().format("YYYY-MM-DD"),this.a=c()().format("YYYY-MM-DD HH:mm:ss"),this.unixCurrent=c()(this.a).unix()},computed:{computerWidth:function(){return(window.innerWidth-40)/3+"px"}},methods:{getTop:function(){var o=this;Object(n.a)({dictType:"business_order_type"}).done(function(t){o.rents=t.data}),Object(n.a)({dictType:"business_room_status"}).done(function(t){o.roomStatus=t.data}),Object(l._9)(this.hotelId).done(function(t){o.scales=t.data}),Object(n.a)({dictType:"business_cleaning_type"}).done(function(t){o.cleaningList=[],o.cleaningList_old=t.data.filter(function(o){return"hide"!=o.cssClass}),t.data.map(function(t){"hide"!=t.cssClass&&o.cleaningList.push(t.dictLabel)})})},topList:function(){var o=this;if(this.$route.query.accountUnitId){var t={hotelId:this.$route.query.hotelId,accountUnitId:this.$route.query.accountUnitId};Object(m.k)(t).done(function(t){for(var e=t.data.sort(o.objectArraySort("roomSn")).reverse(),s=[],i=[],r=0,n=0,a=0;a<e.length;a++)e[a].endTime&&(e[a].isSameTime=c()(o.toDay).isSame(c()(e[a].endTime.substring(0,10)))),-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==i.indexOf(e[a].floor)&&(i[n]=e[a].floor,n++);var l=[];for(a=0;a<s.length;a++){for(var u=[],d=0,m=0;m<e.length;m++)s[a]==e[m].buildNum&&(u[d]=e[m],d++);for(var _=[],f=0,p=0;p<i.length;p++){var h=[],v=0;for(m=0;m<u.length;m++)u[m].floor==i[p]&&(h[v]=u[m],v++);if(h.length>0){var b={floor:i[p],children:h};_[f]=b,f++}}if((_=_.sort(o.objectArraySort("floor"))).reverse(),_.length>0){var y={buildNum:s[a],sum:u.length,children:_};l[a]=y}}l.sort(o.objectArraySort("buildNum")),o.rooms=l.reverse(),o.top_rooms=l,o.top_rooms=l})}else Object(l._4)(this.param).done(function(t){for(var e=t.data.sort(o.objectArraySort("roomSn")).reverse(),s=[],i=[],r=0,n=0,a=0;a<e.length;a++)e[a].endTime&&(e[a].isSameTime=c()(o.toDay).isSame(c()(e[a].endTime.substring(0,10)))),o.isBeforeTime=c()(e[a].endTime).isBefore(c()()),"2"==e[a].status&&"3"==e[a].roomType&&1==o.isBeforeTime||"2"==e[a].status&&"4"==e[a].roomType&&1==o.isBeforeTime?e[a].show_dao=!0:e[a].show_dao=!1,-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==i.indexOf(e[a].floor)&&(i[n]=e[a].floor,n++);var l=[];for(a=0;a<s.length;a++){for(var u=[],d=0,m=0;m<e.length;m++)s[a]==e[m].buildNum&&(u[d]=e[m],d++);for(var _=[],f=0,p=0;p<i.length;p++){var h=[],v=0;for(m=0;m<u.length;m++)u[m].floor==i[p]&&(h[v]=u[m],v++);if(h.length>0){var b={floor:i[p],children:h};_[f]=b,f++}}if((_=_.sort(o.objectArraySort("floor"))).reverse(),_.length>0){var y={buildNum:s[a],sum:u.length,children:_};l[a]=y}}l=l.sort(o.objectArraySort("buildNum")),o.rooms=l.reverse(),o.top_rooms=l})},goNext:function(){this.$router.push({path:"/room-out",query:{roomId:this.infoBox.id,hotelId:this.$route.query.hotelId}})},goPai:function(){this.show_info=!1,this.cleaningList.length>0&&(this.cleanAmount=null,this.cleanType_label=this.cleaningList_old[0].dictLabel,this.cleanType=this.cleaningList_old[0].dictValue,this.show_pai=!0)},onConfirm:function(o){this.cleanType_label=o,this.cleanType=this.cleaningList_old.find(function(t){return t.dictLabel==o}).dictValue,this.show_paiList=!1},confirmDepart:function(){var o=this;if(!this.cleanAmount)return Object(r.Toast)("请填写保洁费用"),!1;var t={orderRoomId:this.liveInfo.id||0,roomId:this.infoBox.id,cleanType:this.cleanType,cleanAmount:this.cleanAmount,description:this.description};Object(d.i)(t).done(function(t){Object(r.Toast)(t.msg),o.show_pai=!1,o.cleanType=null,o.cleanAmount=null,o.description=null})},changeWatch:function(){this.$router.push({path:"/changeWatch",query:{id:this.more.id,orderId:this.more.orderId}})},eleCharge:function(){this.$router.push({path:"/eleManage",query:{hotelName:this.more.hotel.hotelName,scaleName:this.more.roomScale.scaleName,virscaleName:this.more.virtualRoomScale.scaleName,roomSn:this.more.roomSn,orderRoomId:this.more.id,orderId:this.more.orderId}})},findList:function(){var o=this;Object(l._4)(this.param).done(function(t){"所有房型"!=o.scaleName&&void 0!=o.scaleName&&(t.data=t.data.filter(function(t){return t.roomScale.scaleName==o.scaleName}));for(var e=t.data.sort(o.objectArraySort("roomSn")).reverse(),s=[],i=[],r=0,n=0,a=0;a<e.length;a++)e[a].endTime&&(e[a].isSameTime=c()(o.toDay).isSame(c()(e[a].endTime.substring(0,10)))),o.isBeforeTime=c()(e[a].endTime).isBefore(c()()),"2"==e[a].status&&"3"==e[a].roomType&&1==o.isBeforeTime||"2"==e[a].status&&"4"==e[a].roomType&&1==o.isBeforeTime?e[a].show_dao=!0:e[a].show_dao=!1,-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==i.indexOf(e[a].floor)&&(i[n]=e[a].floor,n++);var l=[];for(a=0;a<s.length;a++){for(var u=[],d=0,m=0;m<e.length;m++)s[a]==e[m].buildNum&&(u[d]=e[m],d++);for(var _=[],f=0,p=0;p<i.length;p++){var h=[],v=0;for(m=0;m<u.length;m++)u[m].floor==i[p]&&(h[v]=u[m],v++);if(h.length>0){var b={floor:i[p],children:h};_[f]=b,f++}}if((_=_.sort(o.objectArraySort("floor"))).reverse(),_.length>0){var y={buildNum:s[a],sum:u.length,children:_};l[a]=y}}l=l.sort(o.objectArraySort("buildNum")),o.rooms=l.reverse()})},objectArraySort:function(o){return function(t,e){var s=t[o],i=e[o];return s<i?1:s>i?-1:0}},btnInfo:function(o){this.infoBox=o,"4"==this.hotelType?this.getBedInfo(this.$route.query.accountUnitId?this.infoBox.roomId:this.infoBox.id):o.cooperId>0?this.getCooperInfo(this.$route.query.accountUnitId?this.infoBox.roomId:this.infoBox.id):(this.liveInfo="",1!=this.infoBox.status&&2!=this.infoBox.status&&3!=this.infoBox.status||this.getInfo(this.$route.query.accountUnitId?this.infoBox.roomId:this.infoBox.id)),this.show_info=!0},getBedInfo:function(o){var t=this;Object(m.l)({roomId:o}).done(function(o){t.bedInfoAll=o.data})},getCooperInfo:function(o){var t=this;Object(u.g)({roomId:o}).done(function(o){t.liveInfo=o.data,t.unixTime=c()(t.liveInfo.next_day).unix()})},getInfo:function(o){var t=this;Object(l.L)(o).done(function(o){var e=new Date(o.data.order.startTime),s=new Date;s.setTime(e.getTime()+864e5);var i=s.getFullYear()<10?"0"+s.getFullYear():s.getFullYear(),r=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,n=s.getDate()<10?"0"+s.getDate():s.getDate();o.data.next_day=i+"-"+r+"-"+n+" 08:00:00",t.liveInfo=o.data,t.unixTime=c()(t.liveInfo.next_day).unix()})},cooperHandleRoom:function(){this.$router.push({path:"/business-handle-room",query:{hotelId:this.$route.query.hotelId}})},cleanRoom:function(){0!=this.infoBox.isRoomCheck?this.cleanRoomUp(this.infoBox.cleanOrderId):this.$router.push({path:"/stateCheck",query:this.infoBox})},cleanRoomUp:function(o){var t=this;this.show_info=!1,Object(l._76)(o).done(function(o){Object(r.Toast)({message:o.msg,duration:900}),t.findList()})},lockRoom:function(){var o=this;this.show_info=!1,r.MessageBox.confirm("",{message:"是否锁房？",title:"提示",cancelButtonText:"否",confirmButtonText:"是"}).then(function(t){"confirm"==t&&Object(l._77)(o.infoBox.id).done(function(t){Object(r.Toast)({message:t.msg,duration:900}),o.findList()})}).catch(function(o){console.log(o)})},LiveRoom:function(){var o=this;this.show_info=!1,Object(l._78)(this.infoBox.id).done(function(t){Object(r.Toast)({message:t.msg,duration:900}),o.findList()})},getMoreList:function(){var o=this;this.show_info=!1,this.liveInfo.id&&Object(l.J)(this.liveInfo.id).done(function(t){o.more=t.data}),this.more_box=!0},goCode:function(){var o=this;Object(l.J)(this.liveInfo.id).done(function(t){o.info={},o.info.scaleName=t.data.roomScale.scaleName,o.info.roomSn=t.data.roomSn,o.info.orderId=t.data.orderId,o.$router.push({path:"/quickLiveOnline",query:{fenfangInfo:o.info}}),localStorage.setItem("fenfangInfo",i()(o.info))})},historyRecord:function(){this.$route.query.accountUnitId?this.$router.push({path:"/rentInfo_long",query:{orderRoomId:this.infoBox.id}}):(this.$router.push({path:"/order",query:{roomId:this.infoBox.id,roomSn:this.infoBox.roomSn}}),localStorage.setItem("history_unRoom",!0))},goDetail:function(){"4"==this.hotelType?this.$router.push({path:"/apartMent",query:{roomId:this.infoBox.id}}):this.liveInfo&&(this.infoBox.cooperId>0||1==this.infoBox.cleanCooper?this.$router.push({path:"/rentInfo_two",query:{roomId:this.infoBox.id,cooperOrderRoomId:this.liveInfo.id,cooperOrderId:this.liveInfo.cooperOrderId,roomSn:this.infoBox.roomSn,scaleName:this.infoBox.roomScale.scaleName}}):3==this.liveInfo.orderType||4==this.liveInfo.orderType?(sessionStorage.removeItem("orderRoomId"),this.$router.push({name:"RentInfo_long",query:{orderRoomId:this.liveInfo.id}})):this.$router.push({name:"Details",query:{orderRoomId:this.liveInfo.id}}))},btnback:function(o,t){if(1!=o.order.orderSource)document.getElementById("plat").style.backgroundColor="grey",document.getElementById("plat").style.color="#fff";else{var e={item:o,num:t};this.$router.push({name:"DealLive",query:e}),localStorage.setItem("orderDetail",i()(e))}},btnAgain:function(){this.more_box=!1,Object(l._59)(this.more.id,{orderId:this.more.orderId}).done(function(o){r.MessageBox.alert("下发密码成功").then(function(o){setTimeout("window.history.go(-1)",500)})})},btnRoomFee:function(){this.$router.push({path:"/roomFee",query:{id:this.more.id,orderId:this.more.orderId}})},btnLifeFee:function(){this.$router.push({path:"/lifeFee",query:{id:this.more.id}})},btnGetInfo:function(){this.more_box=!1,this.password_show=!0,this.more.order.phone&&(this.pass_phone=null==this.more.sysUser?this.more.order.phone:this.more.sysUser.phone)},pass_can:function(){this.password_show=!1},pass_ok:function(){if(!this.pass_phone||!/^1[3-9]\d{9}$/.test(this.pass_phone))return Object(r.Toast)({message:"请正确输入手机号",duration:900}),this.pass_phone="",!1;var o={roomUser:null==this.more.sysUser?this.more.order.roomUser:this.more.sysUser.realName,phone:this.pass_phone,orderId:this.more.orderId};Object(l._65)(this.more.id,o).done(function(o){Object(r.Toast)({message:o.msg,duration:900})}),this.password_show=!1},btnlive:function(o){this.$router.push({name:"DealLive",params:{orderDetail:o}}),localStorage.setItem("orderDetail",i()(o))},btncancel:function(o){var t=this;this.show_info=!1,r.MessageBox.confirm("",{message:"取消订单后，房费和押金将退还顾客，请慎重操作",title:"取消订单",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(e){if("confirm"==e){var s=o.id,i={orderId:o.orderId};Object(l._50)(s,i).done(function(o){Object(r.Toast)({message:o.msg,duration:900}),t.findList()})}}).catch(function(o){console.log(o)})},btnchange:function(o){this.$router.push({path:"/fdchange",query:{orderDetail:o}}),localStorage.setItem("orderDetail",i()(o))},btnamend:function(){var o=this;Object(l.J)(this.liveInfo.id).done(function(t){o.$router.push({name:"Amend",query:{item_amend:t.data}}),localStorage.setItem("item_amend",i()(t.data))})},checkOut:function(){var o=this;this.show_info=!1,3==this.liveInfo.orderType||4==this.liveInfo.orderType?(this.$router.push({path:"/rentCount",query:{rentCount_info:this.liveInfo}}),localStorage.setItem("rentCount_info",i()(this.liveInfo))):r.MessageBox.confirm("",{message:"退房后，将不可恢复，请慎重操作",title:"是否退房",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(t){if("confirm"==t){var e={orderId:o.liveInfo.orderId,orderRoomId:o.liveInfo.id};Object(l._55)(e).done(function(t){Object(r.Toast)({message:t.msg,duration:900}),o.findList()})}}).catch(function(o){console.log(o)})},btnALL:function(){this.show_left=!0},btnRent:function(){this.show_center=!0},btnStatus:function(){this.show_center_2=!0},btnSort:function(){this.show_right=!0},choosed_all:function(o){this.leftName=o,"全部酒店"!=o?this.param.buildNum=o:delete this.param.buildNum,this.show_left=!1,this.findList()},choosed_rent:function(o){"租赁类型"!=o?(this.center_1=o.dictLabel,this.param.roomType=o.dictValue):(this.center_1=o,delete this.param.roomType),this.show_center=!1,this.findList()},choosed_statu:function(o){"房间状态"!=o?(this.center_2=o.dictLabel,this.param.status=o.dictValue):(this.center_2=o,delete this.param.status),this.show_center_2=!1,this.findList()},choosed_scale:function(o){this.right=o,this.scaleName=o,this.show_right=!1,this.findList()}}},f={render:function(){var o=this,t=o.$createElement,s=o._self._c||t;return s("div",[s("div",{attrs:{id:"top"}},[s("div",{staticClass:"topbox",on:{click:o.btnALL}},[s("div",[o._v("\n        "+o._s("全部酒店"==o.leftName?o.leftName:o.leftName+"栋")+"\n        "),s("img",{attrs:{src:e("dD+a")}})])]),o._v(" "),s("div",{staticClass:"topbox",on:{click:o.btnRent}},[s("div",[o._v("\n        "+o._s(o.center_1)+"\n        "),s("img",{attrs:{src:e("dD+a")}})])]),o._v(" "),s("div",{staticClass:"topbox",on:{click:o.btnStatus}},[s("div",[o._v("\n        "+o._s(o.center_2)+"\n        "),s("img",{attrs:{src:e("dD+a")}})])]),o._v(" "),s("div",{staticClass:"topbox",on:{click:o.btnSort}},[s("div",[o._v("\n        "+o._s(o.right)+"\n        "),s("img",{attrs:{src:e("dD+a")}})])])]),o._v(" "),s("div",{style:{top:o.$route.query.accountUnitId?"225px":"100px"},attrs:{id:"bottom"}},o._l(o.rooms,function(t,i){return s("div",{key:i},[s("div",{staticClass:"buildNum"},[s("p",[o._v("\n          "+o._s("99"!=t.buildNum&&t.buildNum?t.buildNum+"栋":"其他")+"\n          (共"+o._s(t.sum)+"间)\n        ")])]),o._v(" "),o._l(t.children,function(t,i){return s("div",{key:i,staticClass:"floor"},[s("div",[s("p"),o._v(" "),s("p",[o._v(o._s(t.floor+"楼"))]),o._v(" "),s("p")]),o._v(" "),s("div",{staticClass:"room_box"},o._l(t.children,function(t,i){return s("div",{key:i,staticClass:"bigbox"},[s("div",{staticClass:"roomdiv",class:o.$route.query.accountUnitId&&3==t.orderType?"c21":"c"+t.status+("0"==t.isRoomCheck?"0":"1"),on:{click:function(e){return o.btnInfo(t)}}},[s("p",{staticClass:"num"},[s("label",[o._v(o._s(t.roomSn))])]),o._v(" "),s("p",{staticClass:"scalename"},[o._v(o._s(t.roomScale.scaleName))]),o._v(" "),t.cooperId>0||o.$route.query.accountUnitId&&3==t.orderType?s("div",{staticClass:"coop-group"},[s("div",{staticStyle:{background:"#344D88",padding:"1px 4px"}},[t.cooperId>0?s("img",{staticClass:"cooper_img",attrs:{src:e("BDTM")}}):o._e(),o._v(" "),s("span",{staticStyle:{"font-size":"12px"}},[o._v(o._s(t.cooperId>0?"协议单位":t.order.price+"元/月"))]),o._v(" "),s("div",{staticStyle:{"font-size":"12px"}},[o._v(o._s(o._f("dataFilter")(t.cooperId>0?t.cooperTime:t.order.endTime))+"到期")])])]):s("div",{staticClass:"imgBox"},[s("div",[2==t.status&&"4"==o.hotelType?s("div",[o._v(o._s(t.bedIn||"0")+"/"+o._s(t.bedNum||"0"))]):o._e(),o._v(" "),3==t.status&&0!=t.isRoomCheck?s("img",{attrs:{src:e("pi7s")}}):o._e(),o._v(" "),3==t.status&&0==t.isRoomCheck?s("img",{attrs:{src:e("0w6M")}}):o._e(),o._v(" "),t.show_dao?s("img",{attrs:{src:e("Oi7W")}}):o._e()]),o._v(" "),s("div",["2"==t.status&&t.isSameTime?s("img",{attrs:{src:e("Q3pm")}}):o._e(),o._v(" "),1==t.status?s("img",{attrs:{src:e("U87x")}}):o._e(),o._v(" "),2==t.status&&"4"!=o.hotelType?s("img",{attrs:{src:e("PkA4")}}):o._e(),o._v(" "),4==t.status?s("img",{attrs:{src:e("CCcR")}}):o._e(),o._v(" "),5==t.status?s("img",{attrs:{src:e("5v8K")}}):o._e(),o._v(" "),2==t.status&&1==t.roomType?s("img",{attrs:{src:e("YI80")}}):o._e(),o._v(" "),2==t.status&&2==t.roomType?s("img",{attrs:{src:e("3M+C")}}):o._e(),o._v(" "),2==t.status&&3==t.roomType||2==t.status&&"4"==o.hotelType?s("img",{attrs:{src:e("05mR")}}):o._e()])])])])}),0)])})],2)}),0),o._v(" "),s("mt-popup",{staticStyle:{"border-radius":"5px",width:"90%","text-align":"left","font-size":"14px",color:"#888"},attrs:{"popup-transition":"popup-fade",position:"center"},model:{value:o.show_info,callback:function(t){o.show_info=t},expression:"show_info"}},[s("div",{attrs:{id:"showbox"}},[s("p",[s("span",[o._v(o._s(o.infoBox.roomSn))]),o._v(" "),s("span",[o._v(o._s(o.infoBox.roomScale?o.infoBox.roomScale.scaleName:""))])]),o._v(" "),o.bedInfoAll.length>0?s("p",{on:{click:o.goDetail}},[s("span",{staticClass:"open_img"},[s("img",{attrs:{src:e("4+oD")}}),o._v(" "),s("span",{staticStyle:{"padding-left":"4px"}},[s("span",{staticStyle:{color:"#02bc1fc4"}},[o._v(o._s(o.infoBox.bedIn||"0"))]),o._v(" "),s("span",[o._v("/"+o._s(o.infoBox.bedNum||"0"))])])]),o._v(" "),s("span",{staticClass:"open_img"},[s("img",{attrs:{src:e("sD9W")}}),o._v(" "),o._l(o.bedInfoAll,function(t,e){return s("span",{key:e,staticStyle:{"padding-left":"4px"}},[s("span",[o._v(o._s(t.order.roomUser)+"；")])])})],2)]):o._e(),o._v(" "),o.infoBox.cooperId>0?s("p",{on:{click:o.goDetail}},[o.liveInfo?s("span",[s("img",{attrs:{src:e("8fBQ")}}),s("span",{staticStyle:{"padding-left":"4px"}},[o._v(o._s(o.liveInfo.cooperOrder?o.liveInfo.cooperOrder.roomUser:""))])]):o._e(),s("br"),o._v(" "),s("span",[3==o.liveInfo.orderType?s("span",[s("span",[o._v(o._s(o.liveInfo.cooperOrder.startTime.substr(5,5))+" 至 "+o._s(o.liveInfo.cooperOrder.endTime.substr(5,5)))]),o._v(" "),s("span",[o._v("共"+o._s(12*(o.liveInfo.cooperOrder.endTime.substr(0,4)-o.liveInfo.cooperOrder.startTime.substr(0,4))+(o.liveInfo.cooperOrder.endTime.substr(5,2)-o.liveInfo.cooperOrder.startTime.substr(5,2)))+"月")])]):o._e(),o._v(" "),s("span",[o._v("房费:¥"+o._s(o._f("point")(o.liveInfo.roomRealAmount)))])])]):s("p",{staticClass:"bottomBox",on:{click:o.goDetail}},[o.liveInfo?s("span",[1==o.infoBox.roomType?s("img",{attrs:{src:e("2llB")}}):o._e(),o._v(" "),2==o.infoBox.roomType?s("img",{attrs:{src:e("w4cF")}}):o._e(),o._v(" "),3==o.infoBox.roomType&&o.infoBox.cooperId<=0?s("img",{attrs:{src:e("Metz")}}):o._e(),o._v(" "),3==o.liveInfo.orderType?s("span",[s("span",[o._v(o._s(o.liveInfo.order.startTime.substr(5,5))+" 至 "+o._s(o.liveInfo.order.endTime.substr(5,5)))]),o._v(" "),s("span",[o._v("共"+o._s(12*(o.liveInfo.order.endTime.substr(0,4)-o.liveInfo.order.startTime.substr(0,4))+(o.liveInfo.order.endTime.substr(5,2)-o.liveInfo.order.startTime.substr(5,2)))+"月")])]):s("span",[o._v(o._s(o.liveInfo.order.startTime.substr(5,5))+"至"+o._s(o.liveInfo.order.endTime.substr(5,5))+"  共"+o._s(o.liveInfo.order.diffDay)+o._s(2==o.liveInfo.orderType?"小时":"晚"))]),o._v(" "),s("span",[o._v("房费:¥"+o._s(3==o.liveInfo.orderType||4==o.liveInfo.orderType?o.liveInfo.order.price:1==o.liveInfo.conRoom||1==o.liveInfo.isCon?o.liveInfo.roomRealAmount:(o.liveInfo.roomPrice-o.liveInfo.deposit).toFixed(2)))])]):o._e(),o._v(" "),3==o.infoBox.status&&0!=o.infoBox.isRoomCheck?s("span",{staticClass:"cleaning"},[1==o.infoBox.roomType?s("img",{attrs:{src:e("nBqX")}}):o._e(),o._v(" "),s("span",[o._v("房间需要清洁，清洁完成后才能分房")])]):o._e(),o._v(" "),3==o.infoBox.status&&0==o.infoBox.isRoomCheck?s("span",{staticClass:"cleaning"},[1==o.infoBox.roomType?s("img",{attrs:{src:e("nQHL")}}):o._e(),o._v(" "),s("span",[o._v("顾客正在等待您退押，请完成查房")])]):o._e(),o._v(" "),o.liveInfo?s("label",[s("img",{attrs:{src:e("sD9W")}}),o._v(" "),"1"==o.liveInfo.order.orderSource?s("span",[o._v(o._s(null!=o.liveInfo.sysUser?o.liveInfo.sysUser.realName:o.liveInfo.order.roomUser))]):s("span",[o._v(o._s(o.liveInfo.order.roomUser?o.liveInfo.order.roomUser:"未录入"))])]):o._e()]),o._v(" "),o.bedInfoAll.length>0?s("div"):o.infoBox.cooperId>0?s("div"):s("div",[o.infoBox.status>1||o.$route.query.accountUnitId>0?s("mt-button",{staticClass:"boxBottom",on:{click:o.goDetail}},[o._v("查看订单")]):o._e(),o._v(" "),0==o.bedInfoAll.length?s("mt-button",{staticClass:"boxBottom",on:{click:o.getMoreList}},[o._v("更多操作")]):o._e()],1)])]),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_left,callback:function(t){o.show_left=t},expression:"show_left"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_all("全部酒店")}}},[o._v("全部酒店")]),o._v(" "),o._l(o.top_rooms.filter(function(o){return o.buildNum}),function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_all(t.buildNum)}}},[s("span",[o._v(o._s(t.buildNum+"栋"))])])})],2),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_center,callback:function(t){o.show_center=t},expression:"show_center"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_rent("租赁类型")}}},[o._v("租赁类型")]),o._v(" "),o._l(o.rents,function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_rent(t)}}},[s("span",[o._v(o._s(t.dictLabel))])])})],2),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_center_2,callback:function(t){o.show_center_2=t},expression:"show_center_2"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_statu("房间状态")}}},[o._v("房间状态")]),o._v(" "),o._l(o.roomStatus,function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_statu(t)}}},[s("span",[o._v(o._s(t.dictLabel))])])})],2),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_right,callback:function(t){o.show_right=t},expression:"show_right"}},[s("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_scale("所有房型")}}},[o._v("所有房型")]),o._v(" "),o._l(o.scales,function(t,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_scale(t.scaleName)}}},[s("span",[o._v(o._s(t.scaleName))])])})],2),o._v(" "),s("mt-popup",{staticStyle:{width:"90%","font-size":"15px",color:"#000"},attrs:{position:"center"},model:{value:o.show_pai,callback:function(t){o.show_pai=t},expression:"show_pai"}},[s("div",{staticStyle:{"font-weight":"bold","font-size":"16px",padding:"15px"}},[o._v("保洁派单")]),o._v(" "),s("div",{staticClass:"pd_flex p8",on:{click:function(t){o.show_paiList=!0}}},[s("div",{staticClass:"w30"},[o._v("保洁类型：")]),o._v(" \n      "),s("div",{staticClass:"pd_flex w60"},[o._v("\n        "+o._s(o.cleanType_label)+"\n        "),s("van-icon",{attrs:{name:"arrow-down"}})],1)]),o._v(" "),s("div",{staticClass:"pd_flex p8"},[s("div",{staticClass:"w30"},[o._v("保洁费用：")]),o._v(" \n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:o.cleanAmount,expression:"cleanAmount"}],staticClass:"w60",attrs:{type:"number"},domProps:{value:o.cleanAmount},on:{input:function(t){t.target.composing||(o.cleanAmount=t.target.value)}}})]),o._v(" "),s("div",{staticClass:"pd_flex p8"},[s("div",{staticClass:"w30"},[o._v("备注：")]),o._v(" \n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:o.description,expression:"description"}],staticClass:"w60",domProps:{value:o.description},on:{input:function(t){t.target.composing||(o.description=t.target.value)}}})]),o._v(" "),s("div",{staticClass:"box bottom_pass",staticStyle:{"border-radius":"0 0 15px 15px","line-height":"35px"}},[s("div",{staticClass:"pass_can",staticStyle:{"border-radius":"0 0 0 15px"},on:{click:function(t){o.cleanAmount=null,o.description=null,o.show_pai=!1}}},[o._v("取消")]),o._v(" "),s("div",{staticClass:"pass_ok",staticStyle:{"border-radius":"0 0 15px 0"},on:{click:o.confirmDepart}},[o._v("确定")])])]),o._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_paiList,callback:function(t){o.show_paiList=t},expression:"show_paiList"}},[s("van-picker",{attrs:{title:"保洁派单","show-toolbar":"",columns:o.cleaningList},on:{confirm:o.onConfirm,cancel:function(t){o.show_paiList=!1}}})],1),o._v(" "),s("mt-popup",{staticClass:"pass_box",attrs:{position:"center"},model:{value:o.password_show,callback:function(t){o.password_show=t},expression:"password_show"}},[s("p",{staticClass:"p_pass"},[o._v("请确认下发密码至该手机？")]),o._v(" "),s("div",{staticClass:"pass_show"},[s("div",[o._v("电话：")]),o._v(" \n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:o.pass_phone,expression:"pass_phone"}],domProps:{value:o.pass_phone},on:{input:function(t){t.target.composing||(o.pass_phone=t.target.value)}}})]),o._v(" "),s("div",{staticClass:"box bottom_pass"},[s("div",{staticClass:"pass_can",on:{click:o.pass_can}},[o._v("取消")]),o._v(" "),s("div",{staticClass:"pass_ok",on:{click:o.pass_ok}},[o._v("确定")])])]),o._v(" "),o.infoBox.cooperId>0?s("mt-popup",{model:{value:o.more_box,callback:function(t){o.more_box=t},expression:"more_box"}},[o._v("111111111111111")]):s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.more_box,callback:function(t){o.more_box=t},expression:"more_box"}},[0==o.more.isCon&&o.more.roomSn&&1==o.more.status&&3!=o.more.orderType||1==o.more.status&&0==o.more.isCon&&o.more.roomSn&&3!=o.more.orderType||2==o.more.status&&3!=o.more.orderType||2==o.more.status||o.more.roomSn&&1==o.more.status&&3==o.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnamend}},[o._v("换房")]):o._e(),o._v(" "),4==o.infoBox.status||5==o.infoBox.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.LiveRoom}},[o._v("上线")]):o._e(),o._v(" "),1==o.ROLE_MANAGER&&1==o.infoBox.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.lockRoom}},[o._v("锁房")]):o._e(),o._v(" "),1==o.more.status&&3==o.more.orderType||2==o.more.status&&3==o.more.orderType||1==o.more.status&&4==o.more.orderType||2==o.more.status&&4==o.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.changeWatch}},[o._v("换表")]):o._e(),o._v(" "),o.more.roomSn||1!=o.more.status||"3"==o.more.orderType?o._e():s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btnchange(o.more)}}},[o._v("换房型")]),o._v(" "),1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment?s("mt-button",{staticClass:"button_box",on:{click:o.goCode}},[o._v("收款码")]):o._e(),o._v(" "),1==o.more.status||2==o.more.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.checkOut(o.more)}}},[o._v(o._s(3!=o.more.orderType?"提前退房":"退租"))]):o._e(),o._v(" "),s("mt-button",{staticClass:"button_box",on:{click:o.historyRecord}},[o._v("历史记录")]),o._v(" "),0==o.bedInfoAll.length?s("mt-button",{staticClass:"button_box",on:{click:o.goNext}},[o._v("房间收支")]):o._e(),o._v(" "),0==o.bedInfoAll.length?s("mt-button",{staticClass:"button_box",on:{click:o.goPai}},[o._v("保洁派单")]):o._e(),o._v(" "),3==o.infoBox.status?s("mt-button",{staticClass:"button_box",on:{click:o.cleanRoom}},[o._v(o._s(0!=o.infoBox.isRoomCheck?"打扫完成":"开始查房"))]):o._e(),o._v(" "),1==o.more.status&&o.more.roomSn&&2!==o.more.orderType&&1==o.more.order.orderSource||2==o.more.status&&o.more.roomSn&&2!==o.more.orderType&&1==o.more.order.orderSource?s("mt-button",{staticClass:"button_box",attrs:{id:"plat"},on:{click:function(t){return o.btnback(o.more,9)}}},[o._v("房费优惠")]):o._e(),o._v(" "),1==o.more.status&&null==o.more.roomSn?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btnlive(o.more)}}},[o._v("办理入住")]):o._e(),o._v(" "),o.liveInfo.roomSn&&1==o.liveInfo.status&&o.unixCurrent<o.unixTime&&0==o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&0!=o.liveInfo.isCon&&o.unixCurrent<o.unixTime&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[s("span",[o._v("取消订单")])]):o._e(),o._v(" "),1==o.liveInfo.status&&0==o.liveInfo.isCon&&o.unixCurrent<o.unixTime&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&0!=o.liveInfo.isCon&&o.unixCurrent<o.unixTime&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&null==o.liveInfo.roomSn&&o.unixCurrent<o.unixTime&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[s("span",[o._v("取消订单")])]):o._e(),o._v(" "),1==o.more.status&&4==o.more.orderType||2==o.more.status&&4==o.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnRoomFee}},[o._v("房费账单")]):o._e(),o._v(" "),1==o.more.status&&4==o.more.orderType||2==o.more.status&&4==o.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnLifeFee}},[o._v("生活账单")]):o._e(),o._v(" "),1==o.more.status&&3==o.more.orderType&&1==o.more.elecPayModel||2==o.more.status&&3==o.more.orderType&&1==o.more.elecPayModel||1==o.more.status&&4==o.more.orderType&&1==o.more.elecPayModel||2==o.more.status&&4==o.more.orderType&&1==o.more.elecPayModel?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.eleCharge}},[o._v("电费充值")]):o._e(),o._v(" "),o.infoBox.status>1?s("mt-button",{staticClass:"button_box",on:{click:o.goDetail}},[o._v("查看订单详情")]):o._e(),o._v(" "),1==o.more.status&&o.more.roomSn&&o.more.password&&o.more.order.payment>=5||2==o.more.status&&o.more.roomSn&&o.more.password&&o.more.order.payment>=5?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnGetInfo}},[o._v("重新下发短信")]):o._e(),o._v(" "),o.more.roomSn&&1==o.more.status||o.more.roomSn&&2==o.more.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnAgain}},[o._v("重新下发密码到锁")]):o._e()],1)],1)},staticRenderFns:[]};var p=e("k6Sl")(_,f,!1,function(o){e("iFfB")},"data-v-6357ff14",null);t.default=p.exports}});
//# sourceMappingURL=33.f423d58c976d9bc821061758771190591.js.map