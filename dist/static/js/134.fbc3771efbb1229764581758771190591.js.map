{"version":3,"sources":["webpack:///src/components/business/pages/setReading.vue","webpack:///./src/components/business/pages/setReading.vue?8a37","webpack:///./src/components/business/pages/setReading.vue"],"names":["setReading","data","currentInfo","readingStatus","created","this","$store","commit","$route","query","dictLabel","getCurrentInfo","cooperLifeCostBillId","methods","id","_this","dictValue","checkType","origin","Object","api_business","assign_default","done","res","some","item","status","map","obj","lifeCostBillId","degree","roomSn","room","preElecDegree","price","elecPrice","preWaterDegree","waterPrice","preGasDegree","gasPrice","save","_this2","checkData","stringify_default","es","message","msg","duration","setTimeout","$router","go","pages_setReading","render","_vm","_h","$createElement","_c","_self","staticStyle","height","_m","_v","staticClass","_l","filter","key","_s","directives","name","rawName","value","expression","attrs","type","placeholder","domProps","on","input","$event","target","composing","$set","click","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/134.fbc3771efbb1229764581758771190591.js","sourcesContent":["<template>\n  <div style=\"height:100%;\">\n    <div class=\"bothStyle\">\n      <p>房间号</p>\n      <p>初始读数</p>\n    </div>\n    <div class=\"main\">\n      <div\n        class=\"reading-box reding-item\"\n        v-for=\"item in currentInfo.filter(item=>item.price > 0)\"\n        :key=\"item.id\"\n      >\n        <div class=\"ri-left\">{{ item.roomSn }}</div>\n        <div class=\"ri-right\">\n          <input\n            type=\"number\"\n            placeholder=\"请输入\"\n            v-model=\"item.degree\"\n          >\n        </div>\n      </div>\n    </div>\n    <mt-button\n      v-if=\"readingStatus == false\"\n      class=\"reading-save\"\n      @click=\"save\"\n    >保存</mt-button>\n  </div>\n</template>\n<script>\nimport { GetBusinessCooperOrderroomByCooperOrder, PostBusinessLifeCostBillOriginalCheck, GetBusinessLifeCostBillByCooperLifeCost } from '@/api/api_business';\nimport { Toast } from 'vant';\nexport default {\n  data() {\n    return {\n      currentInfo: [],\n      readingStatus: true\n    };\n  },\n  created() {\n    this.$store.commit('setHeader', `${this.$route.query.dictLabel}` + '初始读数');\n    this.getCurrentInfo(this.$route.query.cooperLifeCostBillId);\n  },\n  methods: {\n    getCurrentInfo(id) {\n      let data = {}\n      if (this.$route.query.dictValue == 1) {\n        data = {\n          checkType: 1,\n          origin: 1\n        };\n      }\n      GetBusinessLifeCostBillByCooperLifeCost(Object.assign({ cooperLifeCostBillId: id }, data)).done((res) => {\n        this.readingStatus = res.data.some((item) => item.status == 1);\n        this.currentInfo = res.data.map((item) => {\n          let obj = { lifeCostBillId: item.id, degree: '', roomSn: item.room.roomSn };\n          if (this.$route.query.dictValue == 1) {\n            obj.degree = item.preElecDegree;\n            obj.price = item.elecPrice;\n          }\n          if (this.$route.query.dictValue == 2) {\n            obj.degree = item.preWaterDegree;\n            obj.price = item.waterPrice;\n          }\n          if (this.$route.query.dictValue == 3) {\n            obj.degree = item.preGasDegree;\n            obj.price = item.gasPrice;\n          }\n          return obj;\n        });\n      });\n    },\n    // 保存\n    save() {\n      let data = {\n        checkType: this.$route.query.dictValue,\n        checkData: JSON.stringify(this.currentInfo)\n      };\n      PostBusinessLifeCostBillOriginalCheck(data).done((res) => {\n        Toast({\n          message: res.msg,\n          duration: 2000\n        });\n        setTimeout(() => {\n          this.$router.go(-1);\n        }, 2000);\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.bothStyle {\n    display: flex;\n    justify-content: space-between;\n    font-size: 0.8rem;\n    padding: 0.4rem 0.6rem;\n    background: #fff;\n    border-bottom: 0.01rem solid rgba(0, 0, 0, 0.04);\n}\n.main {\n    background: #fff;\n    padding: 0 0.7rem;\n    font-size: 0.8rem;\n    overflow: auto;\n    max-height: 70%;\n}\n.reading-title {\n    font-weight: 500;\n}\n.reading-box {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem 0;\n    border-bottom: 0.01rem solid rgba(0, 0, 0, 0.04);\n}\n.reding-item {\n    color: #888888;\n}\n.ri-right input {\n    text-align: right;\n}\n.reading-save {\n    background: #ff7d41;\n    width: 90%;\n    color: #fff;\n    font-size: 0.8rem;\n    margin-top: 2rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/business/pages/setReading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"main\"},_vm._l((_vm.currentInfo.filter(function (item){ return item.price > 0; })),function(item){return _c('div',{key:item.id,staticClass:\"reading-box reding-item\"},[_c('div',{staticClass:\"ri-left\"},[_vm._v(_vm._s(item.roomSn))]),_vm._v(\" \"),_c('div',{staticClass:\"ri-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.degree),expression:\"item.degree\"}],attrs:{\"type\":\"number\",\"placeholder\":\"请输入\"},domProps:{\"value\":(item.degree)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"degree\", $event.target.value)}}})])])}),0),_vm._v(\" \"),(_vm.readingStatus == false)?_c('mt-button',{staticClass:\"reading-save\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bothStyle\"},[_c('p',[_vm._v(\"房间号\")]),_vm._v(\" \"),_c('p',[_vm._v(\"初始读数\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e20e940\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/business/pages/setReading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/.pnpm/extract-text-webpack-plugin@3.0.2_webpack@3.12.0/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e20e940\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=styles&index=0!./setReading.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./setReading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./setReading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e20e940\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=template&index=0!./setReading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e20e940\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/business/pages/setReading.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}