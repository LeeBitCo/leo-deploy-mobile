webpackJsonp([127],{MMZ7:function(e,t){},ceLf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("HkQL"),i=a.n(o),s=a("32Wh"),l=a.n(s),r=a("Gwi0"),c=a("UJbh"),n=a("s/fh"),d=[1,2,3,4,5,6,7,8,9,10,11,12],m=["月","年"],u={data:function(){return{aaaaaaaaa:[{values:d,className:"column1",defaultIndex:0},{values:m,className:"column2",defaultIndex:0}],myRules:!1,show_proType:!1,show_scale:!1,show_level:!1,show_discount:!1,show_payment:!1,show_sTime:!1,show_eTime:!1,proTypeAll:[],levelAll:[],paymentUnit:{1:"月",3:"季度",6:"半年",12:"年"},lifeUints:{1:"元/度",3:"元/吨",6:"元/月"},payAll:[],paymentMethodAll:[],hetongAll:[],lifeCostAll:[],dataForm:{hotelId:this.$route.query.hotelId,scaleName:null,roomLevel:null,rule:null,leaveRule:null,isBreakfast:"",releaseState:null,realAmount:null,realWeekAmount:null,delayAmount:0,maxHour:null,deposit:null,bankAccount:"",taxAccount:"",location:"",bankName:"",roomNum:1,startHour:"08:00",endHour:"18:00",meterCheckIn:null},discountForm:{roomScaleId:this.$route.query.virtualRoomScaleId,bookDay:null,discount:null},lifeCost_label:null,lifeCost_value:null,lifeCost_mode:null,lifeCost_price:null,long_price:null,contractPeriod:[],discountList:[],choosedLifeCostAll:[],payOldAll:[],cleanAll:[],bedAll:[],live_length:[],contractPeriod_arr:[],dayAll:[1,2,3,4,5,6,7],daysLeaveReasonArr:["按延时退房结算","扣整晚房费"],levelTitle:null,roundTime:null,before:null,after:null,proTypeTitle:null,roomScaleIdInfo:null,choosedLifeCostAll_type:null,cleaning:null,bed:null,lifeType:null,short_hetong:null,long_hetong:null,hetong_title:null,hotel_leaveTime:null,chooseWhichType:null,daysLeaveReason:"扣整晚房费",chooseWhichTpye:"1",myStartTime:"18:00",myDayIn:1,show_lifeCostBox:!1,show_lifeCostPro:!1,show_lifeCostPay:!1,isBreakfastChecked:!0,isParkChecked:!0,isClean:!1,isBed:!1,isRentDisChecked:!1,isLifeCostChecked:!1,show_cleaningNum:!1,show_bedNum:!1,show_hetong:!1,isLive:!1,chooseOne:!0,chooseTwo:!1,chooseThree:!1,show_day:!1,show_time:!1,isDaysLeave:!0,isDepositLeave:!1,isRooomPriceLeave:!1,isReleaseState:!1,show_reason:!1}},created:function(){this.currentUserInfo=JSON.parse(localStorage.getItem("current_user")),localStorage.setItem("myscale_Actived",this.$route.query.myActived),this.hotel_leaveTime=localStorage.getItem("c_hotel_leaveTime"),this.roomScaleIdInfo=JSON.parse(localStorage.getItem("addoredit_scaleName")),this.$store.commit("setHeader",""+this.$route.query.virtualRoomScaleId?"编辑产品房型":"添加产品房型"),this.$route.query.virtualRoomScaleId?this.getProInfo(this.$route.query.virtualRoomScaleId):(this.daysLeaveReason=this.daysLeaveReasonArr[1],this.getDictType())},filters:{filterPrice:function(e){return Number(e).toFixed(2)}},watch:{isRentDisChecked:function(e,t){1==e&&this.$route.query.virtualRoomScaleId&&this.GetdiscountInfo(this.$route.query.virtualRoomScaleId)},"discountForm.discount":{handler:function(e,t){(e&&e<5||e&&e>10)&&(Object(n.c)("请输入5-9.9之间的数字"),this.discountForm.discount=""),-1!=e.indexOf(".")&&(this.discountForm.discount=e.split(".")[0]+"."+e.split(".")[1].substring(0,1))}},choosedLifeCostAll:function(e){var t=this;e.length>0&&(this.live_length=e.filter(function(e){if(t.dataForm.id){if("waterPrice"==e.value&&"1"==e.mode||"elecPrice"==e.value&&"1"==e.mode||"gasPrice"==e.value&&"1"==e.mode)return e}else if("waterPrice"==e.value&&"抄表计算"==e.mode||"elecPrice"==e.value&&"抄表计算"==e.mode||"gasPrice"==e.value&&"抄表计算"==e.mode)return e}))}},methods:{getProInfo:function(e){var t=this;Object(r._18)(e).done(function(e){t.dataForm=e.data;var a=t.dataForm.rule;if("1"==JSON.parse(a).cancelRule.cancel?"0"==JSON.parse(a).cancelRule.day?(t.chooseWhichType="1",t.myStartTime=JSON.parse(a).cancelRule.hour):(t.chooseWhichType="2",t.myDayIn=JSON.parse(a).cancelRule.day,t.myStartTime=JSON.parse(a).cancelRule.hour):t.chooseWhichType="3",JSON.parse(a).parkRule){var o=JSON.parse(a).parkRule;t.chooseParkRule=o.park,t.isParkChecked="1"!=o.park}if(JSON.parse(a).leaveRule){var i=JSON.parse(a).leaveRule;1==t.dataForm.scaleType||2==t.dataForm.scaleType||3==t.dataForm.scaleType?(t.isDaysLeave="1"==i.roomPrice,t.daysLeaveReason="0"==i.delay?t.daysLeaveReasonArr[1]:t.daysLeaveReasonArr[0]):(t.isDepositLeave="1"==i.deposit,t.isRooomPriceLeave="1"==i.roomPrice)}if(t.isBreakfastChecked="0"==t.dataForm.isBreakfast,t.isReleaseState="1"==t.dataForm.releaseState,1==t.dataForm.scaleType?t.isRentDisChecked="0"!=t.dataForm.isRentDis:2==t.dataForm.scaleType||3==t.dataForm.scaleType||4!=t.dataForm.scaleType&&5!=t.dataForm.scaleType||(t.isLifeCostChecked="0"!=t.dataForm.isLifeCost),t.dataForm.lifeCost){var s=JSON.parse(t.dataForm.lifeCost),l=[];for(var r in s){var c={};c.value=r,c.label=null,c.mode=s[r].mode||null,c.price=s[r].price||s[r],l.push(c)}t.choosedLifeCostAll=l,t.live_length=t.choosedLifeCostAll.filter(function(e){if(t.dataForm.id){if("waterPrice"==e.value&&"1"==e.mode||"elecPrice"==e.value&&"1"==e.mode||"gasPrice"==e.value&&"1"==e.mode)return t.isLive="1"==t.dataForm.meterCheckIn,e}else if("waterPrice"==e.value&&"抄表计算"==e.mode||"elecPrice"==e.value&&"抄表计算"==e.mode||"gasPrice"==e.value&&"抄表计算"==e.mode)return e})}t.dataForm.serviceAmount=t.dataForm.serviceAmount?t.dataForm.serviceAmount.toFixed(2):"0.00",t.dataForm.realAmount=t.dataForm.realAmount?t.dataForm.realAmount.toFixed(2):"0.00",t.dataForm.realWeekAmount=t.dataForm.realWeekAmount?t.dataForm.realWeekAmount.toFixed(2):"0.00",t.dataForm.delayAmount=t.dataForm.delayAmount?t.dataForm.delayAmount.toFixed(2):"0.00",t.dataForm.maxHour=t.dataForm.maxHour?t.dataForm.maxHour:"0",t.dataForm.deposit=t.dataForm.deposit?t.dataForm.deposit.toFixed(2):"0.00",t.getDictType(t.dataForm.contractPeriod)})},getDictType:function(e){var t=this;if(this.$route.query.virtualRoomScaleId||this.proTypeTitle||Object(c.a)({dictType:"business_virtual_room_scale_type"}).done(function(e){t.proTypeOldAll=e.data,t.proTypeTitle=e.data[0].dictLabel+" >",t.dataForm.scaleType=e.data[0].dictValue,t.proTypeAll=e.data.map(function(e){return e.dictLabel})}),1==this.dataForm.scaleType||2==this.dataForm.scaleType||3==this.dataForm.scaleName)Object(c.a)({dictType:"business_room_level"}).done(function(e){t.dataForm.billCycle=e.data[0].dictValue,t.levelOldAll=e.data,t.$route.query.virtualRoomScaleId?t.levelTitle=e.data.find(function(e){return e.dictValue==t.dataForm.roomLevel}).dictLabel+" >":(t.levelTitle=e.data[0].dictLabel+" >",t.dataForm.roomLevel=e.data[0].dictValue),t.levelAll=e.data.map(function(e){return e.dictLabel})});else{if(4==this.dataForm.scaleType&&e||5==this.dataForm.scaleType&&e){this.contractPeriod_arr=this.arr_new=e.split(","),this.short_hetong=Math.min.apply(Math,l()(this.arr_new)),this.long_hetong=Math.max.apply(Math,l()(this.arr_new));var a=Math.max.apply(Math,l()(this.arr_new));Object(c.a)({dictType:"business_payment_method"}).done(function(e){t.paymentMethodOldAll=e.data;var o=[];if(t.paymentMethodOldAll.map(function(e){e.statu=!1,e.price="",+e.dictValue<=+a&&o.push(e)}),t.dataForm.id)for(var i=JSON.parse(t.dataForm.paymentMethod),s=0;s<o.length;s++){var l=o[s];for(var r in i)r==o[s].dictValue&&(l.price=i[r],l.statu=!0)}t.paymentMethodAll=o})}Object(c.a)({dictType:"business_life_cost"}).done(function(e){t.lifeCostOldAll=e.data,t.lifeCostAll=e.data.map(function(e){return e.dictLabel}),t.lifeCost_label=t.lifeCostOldAll[0].dictLabel,t.lifeCost_value=t.lifeCostOldAll[0].dictValue,t.dataForm.id&&t.choosedLifeCostAll.map(function(e){e.label=t.lifeCostOldAll.find(function(t){return t.dictValue==e.value}).dictLabel})}),Object(c.a)({dictType:"tb_business_life_cost_mode"}).done(function(e){t.payOldAll=e.data.filter(function(e){return"3"!=e.dictValue}),t.payAll=e.data.filter(function(e){return"3"!=e.dictValue}).map(function(e){return e.dictLabel}),t.lifeCost_mode=t.payOldAll[0].dictLabel}),Object(c.a)({dictType:"business_rate"}).done(function(e){t.cleanOldAll=e.data,t.cleanAll=e.data.map(function(e){return e.dictLabel}),t.cleaning=t.cleanOldAll[0].dictLabel,t.cleanRate=t.cleanOldAll[0].dictValue,t.dataForm.id&&t.dataForm.cleanRate>0&&(t.isClean=!0,t.cleaning=t.cleanOldAll.find(function(e){return e.dictValue==t.dataForm.cleanRate}).dictLabel)}),Object(c.a)({dictType:"business_rate"}).done(function(e){t.bedOldAll=e.data,t.bedAll=e.data.map(function(e){return e.dictLabel}),t.bed=t.bedOldAll[0].dictLabel,t.bedRate=t.bedOldAll[0].dictValue,t.dataForm.id&&t.dataForm.bedRate>0&&(t.isBed=!0,t.bed=t.bedOldAll.find(function(e){return e.dictValue==t.dataForm.bedRate}).dictLabel)})}},onConfirmProType:function(e){this.proTypeTitle=e+" >",this.dataForm.scaleType=this.proTypeOldAll.find(function(t){return t.dictLabel==e}).dictValue,this.show_proType=!1,this.getDictType()},onConfirmLevel:function(e){this.levelTitle=e+" >",this.dataForm.roomLevel=this.levelOldAll.find(function(t){return t.dictLabel==e}).dictValue,this.show_level=!1},openLife:function(e,t){var a=this;if(this.lifeType=e,this.dataForm.id){var o=[].concat(l()(this.lifeCostOldAll)).filter(function(e){return[].concat(l()(a.choosedLifeCostAll)).every(function(t){return t.label!=e.dictLabel})});this.lifeCostAll=o.map(function(e){return e.dictLabel})}"add"==this.lifeType?this.lifeCostAll.length>0?(this.lifeCost_price=null,this.lifeCost_label=this.lifeCostAll[0],this.lifeCost_mode=this.payAll[0],this.lifeCost_value=this.lifeCostOldAll.find(function(e){return e.dictLabel==a.lifeCostAll[0]}).dictValue,this.show_lifeCostBox=!0):Object(n.c)("暂无可选"):(this.lifeCost_price=t.price,this.lifeCost_label=t.label,this.lifeCost_value=t.value,(this.dataForm.id&&"waterPrice"==t.value||this.dataForm.id&&"elecPrice"==t.value||this.dataForm.id&&"gasPrice"==t.value)&&("1"==t.mode||"2"==t.mode)?this.lifeCost_mode=this.payOldAll.find(function(e){return e.dictValue==t.mode}).dictLabel:this.lifeCost_mode=t.mode,this.show_lifeCostBox=!0)},confirmDepart:function(e,t){if("confirm"==e){if(t(!1),!this.lifeCost_price)return void Object(n.c)("请输入单价");var a={label:this.lifeCost_label,value:this.lifeCost_value,mode:this.lifeCost_mode,price:this.lifeCost_price};"edit"==this.lifeType&&(this.choosedLifeCostAll=this.choosedLifeCostAll.filter(function(e){return e.label!=a.label})),this.dataForm.id&&a.mode&&(a.mode=this.payOldAll.find(function(e){return e.dictLabel==a.mode}).dictValue),this.choosedLifeCostAll.push(a),this.lifeCostAll=this.lifeCostAll.filter(function(e){return e!=a.label}),this.show_lifeCostBox=!1}else"cancel"==e&&(t(!1),this.show_lifeCostBox=!1)},delLife:function(e){this.choosedLifeCostAll=this.choosedLifeCostAll.filter(function(t){return t.value!=e.value}),this.lifeCostAll.push(e.label)},onConfirmTypeHetong:function(e){var t=null;if(t="年"==e[1]?12*e[0]:e[0],"最短"==this.hetong_title)this.short_hetong=t,2==this.contractPeriod_arr.length?(this.contractPeriod_arr.splice(0,1,this.short_hetong),this.short_hetong>this.long_hetong?(this.contractPeriod_arr.splice(1,1),this.long_hetong=null):this.contractPeriod_str=this.contractPeriod_arr.join(",")):this.contractPeriod_arr.push(this.short_hetong);else if("最长"==this.hetong_title){if(!this.short_hetong)return void Object(n.c)("请先选择最短合同期限");if(this.short_hetong>t)return void Object(n.c)("最短合同期限不能大于最长合同期限");this.long_hetong=t,2==this.contractPeriod_arr.length?this.contractPeriod_arr.splice(1,1,this.long_hetong):this.contractPeriod_arr.push(this.long_hetong),this.contractPeriod_str=this.contractPeriod_arr.join(","),this.getDictType(this.contractPeriod_str)}this.show_hetong=!1},onConfirmCostType:function(e){this.lifeCost_label=e,this.lifeCost_value=this.lifeCostOldAll.find(function(t){return t.dictLabel==e}).dictValue,this.show_lifeCostPro=!1},onConfirmCostPayType:function(e){this.lifeCost_mode=e,this.show_lifeCostPay=!1},onConfirmClean:function(e){this.cleaning=e,this.cleanRate=this.cleanOldAll.find(function(t){return t.dictLabel==e}).dictValue,this.show_cleaningNum=!1},onConfirmBed:function(e){this.bed=e,this.bedRate=this.bedOldAll.find(function(t){return t.dictLabel==e}).dictValue,this.show_bedNum=!1},GetdiscountInfo:function(e){var t=this;Object(r._10)(e).done(function(e){t.discountList=e.data})},addDis:function(){this.show_discount=!0,this.discountForm.bookDay="",this.discountForm.discount=""},aaaaaaa:function(){var e=this;this.discountList.map(function(t){if(t.bookDay==e.discountForm.bookDay)return Object(n.c)("折扣天数相同，请重新输入"),void(e.discountForm.bookDay="")})},onbeforecloseDiscount:function(e,t){var a=this;if("confirm"===e){if(!this.discountForm.bookDay)return Object(n.c)("请输入输入连住天数"),void t(!1);if(!this.discountForm.discount)return Object(n.c)("请输入折扣率"),void t(!1);if(this.$route.query.virtualRoomScaleId)Object(r._81)(this.discountForm).done(function(e){Object(n.c)({message:e.msg,duration:900}),t(!1),a.show_discount=!1,a.GetdiscountInfo(a.$route.query.virtualRoomScaleId)});else{var o={bookDay:this.discountForm.bookDay,discount:this.discountForm.discount};t(!1),this.discountList.push(o),this.show_discount=!1}}else"cancel"===e&&(t(!1),this.show_discount=!1)},dealDiscount:function(e){var t=this;this.$route.query.virtualRoomScaleId?n.a.confirm({title:"确定删除?",message:"连住"+e.bookDay+"天,"+e.discount+"折"}).then(function(){Object(r._82)(e.id).done(function(e){Object(n.c)(e.msg),t.GetdiscountInfo(t.$route.query.virtualRoomScaleId)})}).catch(function(){}):this.discountList.map(function(a,o){a.bookDay==e.bookDay&&a.discount==e.discount&&t.discountList.splice(o,1)})},choose_statu:function(e){e.price?e.statu=!e.statu:(this.currentItem=e,this.long_price="",this.show_payment=!0)},choosed_price:function(e){this.currentItem=e,e.price?this.long_price=e.price:this.long_price="",this.show_payment=!0},onbeforeclosePayment:function(){this.currentItem.price=this.long_price,this.show_payment=!1},onInputBeforeTime:function(e){this.show_sTime=!1,this.dataForm.startHour=e},onInputAfterTime:function(e){this.dataForm.endHour=e,this.show_eTime=!1},onChangeContractPeriod:function(e){this.dataForm.contractPeriod=e},removeScale:function(e){this.type=e},addOrEditScale:function(e){this.type=e},onConfirmDay:function(e){this.myDayIn=e,this.show_day=!1},confirmTime:function(e){this.myStartTime=e,this.show_time=!1},onConfirmReason:function(e){this.daysLeaveReason=e,this.show_reason=!1},onSubmit:function(){var e=this;if(4!=this.dataForm.scaleType&&5!=this.dataForm.scaleType||(0==this.choosedLifeCostAll.length?this.isLive=!1:this.live_length=this.choosedLifeCostAll.filter(function(t){if(e.dataForm.id){if("waterPrice"==t.value&&"1"==t.mode||"elecPrice"==t.value&&"1"==t.mode||"gasPrice"==t.value&&"1"==t.mode)return t}else if("waterPrice"==t.value&&"抄表计算"==t.mode||"elecPrice"==t.value&&"抄表计算"==t.mode||"gasPrice"==t.value&&"抄表计算"==t.mode)return t})),"remove"==this.type)this.currentUserInfo.permissions.find(function(e){return"business:roomscale:remove"==e})?n.a.confirm({title:"确定删除？",message:"产品房型："+this.dataForm.scaleName}).then(function(){Object(r._90)(e.dataForm.id).done(function(e){Object(n.c)(e.msg),setTimeout("window.history.go(-1)",900)})}).catch(function(){}):Object(n.c)("权限不足");else{var t={},a={},o={},s={};if("1"==this.chooseWhichType?(a.cancel="1",a.day="0",a.hour=this.myStartTime):"2"==this.chooseWhichType?(a.cancel="1",a.day=this.myDayIn,a.hour=this.myStartTime):a.cancel="0",t.cancelRule=a,1==this.dataForm.scaleType||2==this.dataForm.scaleType||3==this.dataForm.scaleType){var l=1==this.isDaysLeave?"1":"0",c="扣整晚房费"==this.daysLeaveReason?"0":"1";o.roomPrice=l,o.delay=c}else{var d=1==this.isRooomPriceLeave?"1":"0",m=1==this.isDepositLeave?"1":"0";o.roomPrice=d,o.deposit=m}s.park=1==this.isParkChecked?"0":"1",t.leaveRule=o,t.parkRule=s,this.dataForm.rule=i()(t),this.dataForm.isBreakfast=1==this.isBreakfastChecked?"0":"1",this.dataForm.isRentDis=0==this.isRentDisChecked?"0":"1",this.dataForm.isLifeCost=0==this.isLifeCostChecked?"0":"1";var u=void 0;if(4==this.dataForm.scaleType){if(this.paymentMethod={},this.paymentMethodAll.map(function(t){1==t.statu&&(e.paymentMethod[t.dictValue]=Number(t.price))}),!this.short_hetong)return void Object(n.c)("请选择最短期限");if(!this.long_hetong)return void Object(n.c)("请选择最长期限");if("{}"==i()(this.paymentMethod)==1)return void Object(n.c)("请设置支付方式")}if(4==this.dataForm.scaleType&&this.choosedLifeCostAll.length>0||5==this.dataForm.scaleType&&this.choosedLifeCostAll.length>0){var h=[];this.choosedLifeCostAll.map(function(t){e.dealObj={},"waterPrice"==t.value||"elecPrice"==t.value||"gasPrice"==t.value?(e.dealObj[t.value]=t,h.push(e.dealObj)):(delete t.label,delete t.mode,e.dealObj[t.value]=t,h.push(e.dealObj))}),this.aaaaobj={},h=h.map(function(t){var a=function(a){"waterPrice"==t[a].value||"elecPrice"==t[a].value||"gasPrice"==t[a].value?(delete t[a].label,e.dataForm.id||(t[a].mode=e.payOldAll.find(function(e){return e.dictLabel==t[a].mode}).dictValue),delete t[a].value,e.aaaaobj[a]=t[a]):(delete t[a].value,e.aaaaobj[a]=t[a].price)};for(var o in t)a(o)})}if((1==this.dataForm.scaleType||2==this.dataForm.scaleType||3==this.dataForm.scaleType)&&"按延时退房结算"==this.daysLeaveReason&&this.dataForm.delayAmount<=0)return void Object(n.c)({message:"请输入延时退房价格",duration:900});1==this.dataForm.scaleType?u={hotelId:this.$route.query.hotelId,id:this.$route.query.virtualRoomScaleId,roomScaleId:this.roomScaleIdInfo.roomScaleId,scaleName:this.dataForm.scaleName,scaleType:this.dataForm.scaleType,isBreakfast:this.dataForm.isBreakfast,rule:this.dataForm.rule,realAmount:this.dataForm.realAmount,realWeekAmount:this.dataForm.realWeekAmount,roomLevel:this.dataForm.roomLevel,delayAmount:this.dataForm.delayAmount?this.dataForm.delayAmount:0,deposit:this.dataForm.deposit,elecPayModel:this.dataForm.elecPayModel,isRentDis:this.dataForm.isRentDis,vrsDiscounts:this.discountList.length>0&&1==this.isRentDisChecked?i()(this.discountList):null}:2==this.dataForm.scaleType?u={hotelId:this.$route.query.hotelId,id:this.$route.query.virtualRoomScaleId,scaleName:this.dataForm.scaleName,scaleType:this.dataForm.scaleType,roomScaleId:this.roomScaleIdInfo.roomScaleId,isBreakfast:this.dataForm.isBreakfast,realAmount:this.dataForm.realAmount,realWeekAmount:this.dataForm.realWeekAmount,rule:this.dataForm.rule,roomLevel:this.dataForm.roomLevel,startHour:this.dataForm.startHour,endHour:this.dataForm.endHour,delayAmount:this.dataForm.delayAmount?this.dataForm.delayAmount:0,deposit:this.dataForm.deposit,elecPayModel:this.dataForm.elecPayModel}:3==this.dataForm.scaleType?u={hotelId:this.$route.query.hotelId,id:this.$route.query.virtualRoomScaleId,scaleName:this.dataForm.scaleName,scaleType:this.dataForm.scaleType,roomScaleId:this.roomScaleIdInfo.roomScaleId,isBreakfast:this.dataForm.isBreakfast,rule:this.dataForm.rule,realAmount:this.dataForm.realAmount,roomLevel:this.dataForm.roomLevel,startHour:this.dataForm.startHour,endHour:this.dataForm.endHour,delayAmount:this.dataForm.delayAmount?this.dataForm.delayAmount:0,maxHour:this.dataForm.maxHour,deposit:this.dataForm.deposit,serviceAmount:this.dataForm.serviceAmount,elecPayModel:this.dataForm.elecPayModel}:4==this.dataForm.scaleType?u={hotelId:this.$route.query.hotelId,id:this.$route.query.virtualRoomScaleId,roomScaleId:this.roomScaleIdInfo.roomScaleId,scaleName:this.dataForm.scaleName,scaleType:this.dataForm.scaleType,roomLevel:this.dataForm.roomLevel,contractPeriod:this.contractPeriod_str,paymentMethod:i()(this.paymentMethod),deposit:this.dataForm.deposit,lifeCost:this.aaaaobj?i()(this.aaaaobj):"",cleanRate:1==this.isClean?this.cleanRate:"0",bedRate:1==this.isBed?this.bedRate:"0",isBreakfast:this.dataForm.isBreakfast,rule:this.dataForm.rule,meterCheckIn:this.live_length.length>0&&1==this.isLive?"1":"0",releaseState:1==this.isReleaseState?"1":"0"}:5==this.dataForm.scaleType&&(u={hotelId:this.$route.query.hotelId,id:this.$route.query.virtualRoomScaleId,roomScaleId:this.roomScaleIdInfo.roomScaleId,scaleName:this.dataForm.scaleName,scaleType:this.dataForm.scaleType,roomLevel:this.dataForm.roomLevel,contractPeriod:this.contractPeriod_str,paymentMethod:this.dataForm.paymentMethod,realAmount:this.dataForm.realAmount,deposit:this.dataForm.deposit,lifeCost:this.aaaaobj?i()(this.aaaaobj):"",cleanRate:1==this.isClean?this.cleanRate:"0",bedRate:1==this.isBed?this.bedRate:"0",isBreakfast:this.dataForm.isBreakfast,rule:this.dataForm.rule,meterCheckIn:this.live_length.length>0&&1==this.isLive?"1":"0",releaseState:1==this.isReleaseState?"1":"0"}),(this.$route.query.virtualRoomScaleId?r._87:r._86)(u).done(function(t){n.c.success(t.msg),setTimeout(function(){e.$router.go(-1)},2e3)})}}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-form",{attrs:{id:"scroll-pro"},on:{submit:e.onSubmit}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[e.$route.query.virtualRoomScaleId?e._e():a("van-field",{attrs:{readonly:"",label:"基础房型"},model:{value:e.roomScaleIdInfo.scaleName,callback:function(t){e.$set(e.roomScaleIdInfo,"scaleName",t)},expression:"roomScaleIdInfo.scaleName"}}),e._v(" "),e.$route.query.virtualRoomScaleId?e._e():a("van-field",{attrs:{label:"产品类型",readonly:""},on:{click:function(t){e.show_proType=!0}},model:{value:e.proTypeTitle,callback:function(t){e.proTypeTitle=t},expression:"proTypeTitle"}}),e._v(" "),1==e.dataForm.scaleType||2==e.dataForm.scaleType||3==e.dataForm.scaleType?a("van-field",{attrs:{label:"产品名称",placeholder:"请输入产品名称",required:"",rules:[{required:!0,message:"请填写产品名称"}]},model:{value:e.dataForm.scaleName,callback:function(t){e.$set(e.dataForm,"scaleName",t)},expression:"dataForm.scaleName"}}):e._e(),e._v(" "),1==e.dataForm.scaleType||2==e.dataForm.scaleType||3==e.dataForm.scaleType?a("van-field",{attrs:{readonly:"",label:"产品等级"},on:{click:function(t){e.show_level=!0}},model:{value:e.levelTitle,callback:function(t){e.levelTitle=t},expression:"levelTitle"}}):e._e(),e._v(" "),a("div",{staticClass:"roomNum"},[a("div",{staticStyle:{width:"90px"}},[e._v("免费停车")]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){e.isParkChecked=!e.isParkChecked}}},[a("van-icon",{style:{color:1==e.isParkChecked?"#989898":"#ff7d41"},attrs:{size:"24px",name:1==e.isParkChecked?"circle":"checked"}})],1)]),e._v(" "),e.dataForm.scaleType<4?a("div",{staticClass:"roomNum"},[a("div",{staticStyle:{width:"90px"}},[e._v("含早餐")]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){e.isBreakfastChecked=!e.isBreakfastChecked}}},[a("van-icon",{style:{color:1==e.isBreakfastChecked?"#989898":"#ff7d41"},attrs:{size:"24px",name:1==e.isBreakfastChecked?"circle":"checked"}})],1)]):e._e()],1),e._v(" "),4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticClass:"roomNum",on:{click:function(t){e.hetong_title="最短",e.show_hetong=!0}}},[a("div",{staticStyle:{width:"90px"}},[e._v("最短期限")]),e._v(" "),a("div",{staticClass:"life_pay_right"},[a("div",[e._v(e._s(e.short_hetong)),e.short_hetong?a("span",[e._v("月")]):e._e()]),e._v(" "),a("van-icon",{attrs:{color:"#2c3e50",name:"arrow"}})],1)]):e._e(),e._v(" "),4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticClass:"roomNum",staticStyle:{"margin-bottom":"20px"},on:{click:function(t){e.hetong_title="最长",e.show_hetong=!0}}},[a("div",{staticStyle:{width:"90px"}},[e._v("最长期限")]),e._v(" "),a("div",{staticClass:"life_pay_right"},[a("div",[e._v(e._s(e.long_hetong)),e.long_hetong?a("span",[e._v("月")]):e._e()]),e._v(" "),a("van-icon",{attrs:{color:"#2c3e50",name:"arrow"}})],1)]):e._e(),e._v(" "),a("div",{staticStyle:{"-border":"1px solid pink"},style:{"margin-bottom":1==e.dataForm.scaleType||2==e.dataForm.scaleType||3==e.dataForm.scaleType||5==e.dataForm.scaleType?"":"20px"}},[4==e.dataForm.scaleType?a("div",e._l(e.paymentMethodAll,function(t,o){return a("div",{key:o,staticClass:"long-payment"},[a("div",[a("div",[e._v(e._s(t.dictLabel))]),e._v(" "),a("div",{staticClass:"flex",on:{click:function(a){return e.choosed_price(t)}}},[t.price?a("div",[e._v("租金 ¥"+e._s(e._f("filterPrice")(t.price))+"/"+e._s(e.paymentUnit[t.dictValue]))]):a("div",[e._v("点击设置")]),e._v(" "),a("van-icon",{attrs:{name:"arrow"}})],1)]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(a){return e.choose_statu(t)}}},[a("van-icon",{style:{color:0==t.statu?"#989898":"#ff7d41"},attrs:{size:"24px",name:0==t.statu?"circle":"checked"}})],1)])}),0):e._e()]),e._v(" "),3==e.dataForm.scaleType?a("div",{staticStyle:{background:"#fff",color:"#000","text-align":"left",padding:"10px",opacity:"0.8"}},[e._v("房费 = 服务费 + 小时费 x 小时数 + 延时退房费 x 延时小时数")]):e._e(),e._v(" "),3==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",label:"服务费",placeholder:"请输入服务费",required:"",rules:[{required:!0,message:"请填写服务费"}]},model:{value:e.dataForm.serviceAmount,callback:function(t){e.$set(e.dataForm,"serviceAmount",t)},expression:"dataForm.serviceAmount"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v("/次")])],1):e._e(),e._v(" "),a("div",[2==e.dataForm.scaleType||3==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",label:2==e.dataForm.scaleType?"平时价格(周日至周四)":"钟点房价格",placeholder:"请输入价格",required:"",rules:[{required:!0,message:"请填写价格"}]},model:{value:e.dataForm.realAmount,callback:function(t){e.$set(e.dataForm,"realAmount",t)},expression:"dataForm.realAmount"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v(e._s(2==e.dataForm.scaleType?"/晚":"/小时"))])],1):e._e(),e._v(" "),1==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",required:"",label:"平时价格(周日至周四)",rules:[{required:!0,message:"请填写平时价格"}],placeholder:"请输入平时价格"},model:{value:e.dataForm.realAmount,callback:function(t){e.$set(e.dataForm,"realAmount",t)},expression:"dataForm.realAmount"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v("/晚")])],1):e._e(),e._v(" "),1==e.dataForm.scaleType||2==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",label:"周末价格(周五至周六)",required:"",rules:[{required:!0,message:"请填写周末价格"}],placeholder:"请输入周末价格"},model:{value:e.dataForm.realWeekAmount,callback:function(t){e.$set(e.dataForm,"realWeekAmount",t)},expression:"dataForm.realWeekAmount"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v("/晚")])],1):e._e(),e._v(" "),1==e.dataForm.scaleType||2==e.dataForm.scaleType||3==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",label:"延时退房价格",required:"按延时退房结算"==e.daysLeaveReason,rules:[{required:"按延时退房结算"==e.daysLeaveReason,message:"请填写延时退房价格"}],placeholder:"请输入延时退房价格"},model:{value:e.dataForm.delayAmount,callback:function(t){e.$set(e.dataForm,"delayAmount",t)},expression:"dataForm.delayAmount"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v("/小时")])],1):e._e(),e._v(" "),5==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",label:"日付价格",placeholder:"请输入日付价格",required:"",rules:[{required:!0,message:"请填写日付价格"}]},model:{value:e.dataForm.realAmount,callback:function(t){e.$set(e.dataForm,"realAmount",t)},expression:"dataForm.realAmount"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v("/晚")])],1):e._e(),e._v(" "),5==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",label:"起租天数",placeholder:"请输入起租天数",required:"",rules:[{required:!0,message:"请填写起租天数"}]},model:{value:e.dataForm.paymentMethod,callback:function(t){e.$set(e.dataForm,"paymentMethod",t)},expression:"dataForm.paymentMethod"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v("天")])],1):e._e(),e._v(" "),a("van-field",{attrs:{type:"number",label:"押金",placeholder:"请输入押金",required:"",rules:[{required:!0,message:"请填写押金"}]},model:{value:e.dataForm.deposit,callback:function(t){e.$set(e.dataForm,"deposit",t)},expression:"dataForm.deposit"}}),e._v(" "),2==e.dataForm.scaleType||3==e.dataForm.scaleType?a("div",{staticClass:"roomNum"},[a("div",{staticStyle:{width:"90px"}},[a("span",{staticStyle:{display:"inline-block",width:"80%"}},[e._v(e._s(2==e.dataForm.scaleType?"生效时间段(每日)":"开放时间段"))])]),e._v(" "),a("div",[a("span",{on:{click:function(t){e.show_sTime=!0}}},[e._v(e._s(e.dataForm.startHour))]),e._v(" "),a("span",[e._v("至")]),e._v(" "),a("span",{on:{click:function(t){e.show_eTime=!0}}},[e._v(e._s(e.dataForm.endHour))])])]):e._e(),e._v(" "),3==e.dataForm.scaleType?a("div",{staticClass:"both_flex"},[a("van-field",{staticStyle:{width:"80%"},attrs:{type:"number",label:"最长时长",placeholder:"请输入最长时长"},model:{value:e.dataForm.maxHour,callback:function(t){e.$set(e.dataForm,"maxHour",t)},expression:"dataForm.maxHour"}}),e._v(" "),a("span",{staticClass:"c_00"},[e._v("小时")])],1):e._e(),e._v(" "),3!=e.dataForm.scaleType?a("div",[a("div",{staticClass:"cancelTitle"},[e._v("取消规则")]),e._v(" "),a("div",{staticClass:"roomNum",staticStyle:{"justify-content":"normal"},on:{click:function(t){e.chooseWhichType="1"}}},[a("van-icon",{staticStyle:{"margin-right":"20px"},style:{color:"1"==e.chooseWhichType?"#ff7d41":"#989898"},attrs:{size:"20px",name:"1"==e.chooseWhichType?"checked":"circle"}}),e._v(" "),a("div",{staticClass:"cancelContent"},[a("div",[e._v("入住当天")]),e._v(" "),a("div",{staticClass:"w30",on:{click:function(t){t.stopPropagation(),e.chooseWhichType="1",e.show_time=!0}}},[a("div",[e._v(e._s(e.myStartTime))]),e._v(" "),a("van-icon",{attrs:{color:"#989898",name:"arrow-down"}})],1),e._v(" "),a("div",[e._v("前可取消")])])],1),e._v(" "),a("div",{staticClass:"roomNum",staticStyle:{"justify-content":"normal"},on:{click:function(t){e.chooseWhichType="2"}}},[a("van-icon",{staticStyle:{"margin-right":"20px"},style:{color:"2"==e.chooseWhichType?"#ff7d41":"#989898"},attrs:{size:"20px",name:"2"==e.chooseWhichType?"checked":"circle"}}),e._v(" "),a("div",{staticClass:"cancelContent"},[a("div",[e._v("入住前")]),e._v(" "),a("div",{staticClass:"w30",on:{click:function(t){t.stopPropagation(),e.chooseWhichType="2",e.show_day=!0}}},[a("div",[e._v(e._s(e.myDayIn))]),e._v(" "),a("van-icon",{attrs:{color:"#989898",name:"arrow-down"}})],1),e._v(" "),a("div",[e._v("天，")]),e._v(" "),a("div",{staticClass:"w30",on:{click:function(t){t.stopPropagation(),e.chooseWhichType="2",e.show_time=!0}}},[a("div",[e._v(e._s(e.myStartTime))]),e._v(" "),a("van-icon",{attrs:{color:"#989898",name:"arrow-down"}})],1),e._v(" "),a("div",[e._v("前可取消")])])],1),e._v(" "),a("div",{staticClass:"roomNum",staticStyle:{"justify-content":"normal"},on:{click:function(t){e.chooseWhichType="3"}}},[a("van-icon",{staticStyle:{"margin-right":"20px"},style:{color:"3"==e.chooseWhichType?"#ff7d41":"#989898"},attrs:{size:"20px",name:"3"==e.chooseWhichType?"checked":"circle"}}),e._v(" "),a("div",[e._v("不可取消")])],1)]):e._e(),e._v(" "),a("div",[a("div",{staticClass:"cancelTitle"},[e._v(e._s(1==e.dataForm.scaleType||2==e.dataForm.scaleType||3==e.dataForm.scaleType?"退房政策":"退租政策"))]),e._v(" "),1==e.dataForm.scaleType||2==e.dataForm.scaleType||3==e.dataForm.scaleType?a("div",{staticClass:"roomNum"},[a("div",[e._v(e._s(3==e.dataForm.scaleType?"提前退房费":"多天提前退房可退房费"))]),e._v(" "),a("van-switch",{attrs:{"active-color":"#ff7d41",size:"20"},model:{value:e.isDaysLeave,callback:function(t){e.isDaysLeave=t},expression:"isDaysLeave"}})],1):e._e(),e._v(" "),1==e.dataForm.scaleType&&1==e.isDaysLeave||2==e.dataForm.scaleType&&1==e.isDaysLeave?a("div",{staticClass:"roomNum",staticStyle:{padding:"0"},on:{click:function(t){e.show_reason=!0}}},[a("van-cell",{attrs:{title:e.hotel_leaveTime+"后退房超时费用","is-link":""},model:{value:e.daysLeaveReason,callback:function(t){e.daysLeaveReason=t},expression:"daysLeaveReason"}})],1):e._e(),e._v(" "),4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticClass:"roomNum"},[a("div",[e._v("提前退租可退押金")]),e._v(" "),a("van-switch",{attrs:{"active-color":"#ff7d41",size:"20"},model:{value:e.isDepositLeave,callback:function(t){e.isDepositLeave=t},expression:"isDepositLeave"}})],1):e._e(),e._v(" "),4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticClass:"roomNum"},[a("div",[e._v("提前退租可退房费"),a("span",{staticStyle:{color:"#989898","font-size":"12px",padding:"0 8px"}},[e._v("按天计算")])]),e._v(" "),a("van-switch",{attrs:{"active-color":"#ff7d41",size:"20"},model:{value:e.isRooomPriceLeave,callback:function(t){e.isRooomPriceLeave=t},expression:"isRooomPriceLeave"}})],1):e._e(),e._v(" "),4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticClass:"roomNum",staticStyle:{"margin-top":"10px"}},[a("div",[e._v("提前15天释放房态")]),e._v(" "),a("van-switch",{attrs:{"active-color":"#ff7d41",size:"20"},model:{value:e.isReleaseState,callback:function(t){e.isReleaseState=t},expression:"isReleaseState"}})],1):e._e()]),e._v(" "),1==e.dataForm.scaleType?a("div",{staticClass:"roomNum",staticStyle:{"margin-top":"10px"}},[a("div",{staticStyle:{width:"90px"}},[e._v("连住折扣")]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){e.isRentDisChecked=!e.isRentDisChecked}}},[a("van-icon",{style:{color:0==e.isRentDisChecked?"#989898":"#ff7d41"},attrs:{size:"24px",name:0==e.isRentDisChecked?"circle":"checked"}})],1)]):e._e(),e._v(" "),1==e.isRentDisChecked?a("div",[e.discountList.length>0?a("div",e._l(e.discountList,function(t,o){return a("div",{key:o,staticClass:"discountBox"},[a("div",[e._v("连住"),a("span",{staticClass:"c_ff"},[e._v(e._s(t.bookDay))]),e._v("天")]),e._v(" "),a("div",[a("span",{staticClass:"c_ff"},[e._v(e._s(t.discount))]),e._v("折")]),e._v(" "),a("div",{staticClass:"c_ff",on:{click:function(a){return a.stopPropagation(),e.dealDiscount(t)}}},[e._v("删除")])])}),0):e._e(),e._v(" "),a("div",{staticClass:"count",on:{click:function(t){return t.stopPropagation(),e.addDis.apply(null,arguments)}}},[a("van-icon",{attrs:{name:"add-o"}}),e._v(" 新增折扣\n        ")],1)]):e._e()],1),e._v(" "),a("div",{style:{"margin-top":1==e.dataForm.scaleType?"":"10px"}},[4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticClass:"roomNum",staticStyle:{padding:"0px 16px 0 0"}},[a("van-cell",{attrs:{center:"",title:"生活缴费"}}),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){return e.openLife("add")}}},[a("van-icon",{attrs:{color:"#ff7d41",size:"24px",name:"add-o"}})],1)],1):e._e(),e._v(" "),4==e.dataForm.scaleType&&e.choosedLifeCostAll.length>0||5==e.dataForm.scaleType&&e.choosedLifeCostAll.length>0?a("div",e._l(e.choosedLifeCostAll,function(t,o){return a("div",{key:o,staticClass:"life_pay"},[a("div",{staticClass:"life_pay_left"},[a("van-icon",{staticStyle:{"padding-right":"10px"},attrs:{color:"#f00",size:"20px",name:"close"},on:{click:function(a){return e.delLife(t)}}}),e._v(" "),e.payOldAll.length>0?a("div",[a("div",[e._v(e._s(t.label))]),e._v(" "),"waterPrice"==t.value||"elecPrice"==t.value||"gasPrice"==t.value?a("div",{staticStyle:{color:"#989898"}},[e._v(e._s(e.dataForm.id?e.payOldAll.find(function(e){return e.dictValue==t.mode}).dictLabel:t.mode))]):a("div",{staticStyle:{color:"#989898"}},[e._v("固定收取")])]):e._e()],1),e._v(" "),a("div",{staticClass:"life_pay_right",on:{click:function(a){return e.openLife("edit",t)}}},["waterPrice"==t.value?a("div",[e._v(e._s(t.price)+e._s("1"==t.mode||"抄表计算"==t.mode?"元/吨":"元/月"))]):"elecPrice"==t.value?a("div",[e._v(e._s(t.price)+e._s("1"==t.mode||"抄表计算"==t.mode?"元/度":"元/月"))]):"gasPrice"==t.value?a("div",[e._v(e._s(t.price)+e._s("1"==t.mode||"抄表计算"==t.mode?"元/m³":"元/月"))]):"propPrice"==t.value?a("div",[e._v(e._s(t.price)+"元/月")]):"rubbishPrice"==t.value?a("div",[e._v(e._s(t.price)+"元/月")]):"parkPrice"==t.value?a("div",[e._v(e._s(t.price)+"元/月")]):"broadBandPrice"==t.value?a("div",[e._v(e._s(t.price)+"元/月")]):e._e(),e._v(" "),a("van-icon",{staticStyle:{"padding-left":"4px"},attrs:{name:"arrow"}})],1)])}),0):e._e(),e._v(" "),4==e.dataForm.scaleType&&e.live_length.length>0||5==e.dataForm.scaleType&&e.live_length.length>0?a("div",{staticStyle:{"margin-top":"10px",color:"#000"}},[a("div",{staticClass:"roomNum",staticStyle:{padding:"0 16px","line-height":"40px"}},[a("div",[e._v("办理入住后抄表")]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){e.isLive=!e.isLive}}},[a("van-icon",{style:{color:0==e.isLive?"#989898":"#ff7d41"},attrs:{size:"24px",name:0==e.isLive?"circle":"checked"}})],1)])]):e._e()]),e._v(" "),4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticStyle:{"margin-top":"10px",color:"#000"}},[a("div",{staticClass:"roomNum",staticStyle:{padding:"0 16px","line-height":"40px"}},[a("div",[e._v("保洁服务")]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){e.isClean=!e.isClean}}},[a("van-icon",{style:{color:0==e.isClean?"#989898":"#ff7d41"},attrs:{size:"24px",name:0==e.isClean?"circle":"checked"}})],1)]),e._v(" "),1==e.isClean?a("van-cell",{attrs:{title:"保洁频率","is-link":"",value:e.cleaning},on:{click:function(t){e.show_cleaningNum=!0}}}):e._e()],1):e._e(),e._v(" "),4==e.dataForm.scaleType||5==e.dataForm.scaleType?a("div",{staticStyle:{"margin-top":"10px",color:"#000"}},[a("div",{staticClass:"roomNum",staticStyle:{padding:"0 16px","line-height":"40px"}},[a("div",[e._v("床上用品")]),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){e.isBed=!e.isBed}}},[a("van-icon",{style:{color:0==e.isBed?"#989898":"#ff7d41"},attrs:{size:"24px",name:0==e.isBed?"circle":"checked"}})],1)]),e._v(" "),1==e.isBed?a("van-cell",{attrs:{title:"更换频率","is-link":"",value:e.bed},on:{click:function(t){e.show_bedNum=!0}}}):e._e()],1):e._e(),e._v(" "),a("div",{staticClass:"bottom-button"},[e.$route.query.virtualRoomScaleId?a("van-button",{staticClass:"submit-btn submit-normal",attrs:{block:"","native-type":"submit"},on:{click:function(t){return e.removeScale("remove")}}},[e._v("\n        删除房型\n      ")]):e._e(),e._v(" "),a("van-button",{staticClass:"submit-btn",attrs:{block:"","native-type":"submit"},on:{click:function(t){return e.addOrEditScale("addOrEdit")}}},[e._v("\n        保存修改\n      ")])],1)]),e._v(" "),a("van-dialog",{attrs:{"before-close":e.confirmDepart,title:"edit"==e.lifeType?"编辑费用":"添加费用","show-cancel-button":""},model:{value:e.show_lifeCostBox,callback:function(t){e.show_lifeCostBox=t},expression:"show_lifeCostBox"}},[a("div",[a("van-cell",{staticStyle:{"margin-top":"10px","border-bottom":"1px solid #e4e4e4"},attrs:{title:"费用项目","is-link":"",disabled:"edit"==e.lifeType,value:e.lifeCost_label},on:{click:function(t){"add"==e.lifeType&&(e.show_lifeCostPro=!0)}}}),e._v(" "),"waterPrice"==e.lifeCost_value||"elecPrice"==e.lifeCost_value||"gasPrice"==e.lifeCost_value?a("van-cell",{staticStyle:{"border-bottom":"1px solid #e4e4e4"},attrs:{title:"收费方式","is-link":"",value:e.lifeCost_mode},on:{click:function(t){e.show_lifeCostPay=!0}}}):a("van-cell",{staticStyle:{"border-bottom":"1px solid #e4e4e4"},attrs:{title:"收费方式","is-link":"",value:"固定收取"}}),e._v(" "),a("div",{staticClass:"unit"},[a("van-field",{staticStyle:{width:"90%"},attrs:{label:"单价"},model:{value:e.lifeCost_price,callback:function(t){e.lifeCost_price=t},expression:"lifeCost_price"}}),e._v(" "),"waterPrice"==e.lifeCost_value?a("div",{staticStyle:{width:"20%"}},[e._v(e._s("抄表计算"==e.lifeCost_mode?"元/吨":"元/月"))]):"elecPrice"==e.lifeCost_value?a("div",{staticStyle:{width:"20%"}},[e._v(e._s("抄表计算"==e.lifeCost_mode?"元/度":"元/月"))]):"gasPrice"==e.lifeCost_value?a("div",{staticStyle:{width:"20%"}},[e._v(e._s("抄表计算"==e.lifeCost_mode?"元/m³":"元/月"))]):"propPrice"==e.lifeCost_value?a("div",{staticStyle:{width:"20%"}},[e._v("元/月")]):"rubbishPrice"==e.lifeCost_value?a("div",{staticStyle:{width:"20%"}},[e._v("元/月")]):"parkPrice"==e.lifeCost_value?a("div",{staticStyle:{width:"20%"}},[e._v("元/月")]):"broadBandPrice"==e.lifeCost_value?a("div",{staticStyle:{width:"20%"}},[e._v("元/月")]):e._e()],1)],1)]),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_hetong,callback:function(t){e.show_hetong=t},expression:"show_hetong"}},[a("van-picker",{attrs:{"show-toolbar":"",title:"选择"+e.hetong_title,columns:e.aaaaaaaaa},on:{confirm:e.onConfirmTypeHetong,cancel:function(t){e.show_hetong}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_lifeCostPro,callback:function(t){e.show_lifeCostPro=t},expression:"show_lifeCostPro"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.lifeCostAll},on:{confirm:e.onConfirmCostType,cancel:function(t){e.show_lifeCostPro=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_lifeCostPay,callback:function(t){e.show_lifeCostPay=t},expression:"show_lifeCostPay"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.payAll},on:{confirm:e.onConfirmCostPayType,cancel:function(t){e.show_lifeCostPay=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_cleaningNum,callback:function(t){e.show_cleaningNum=t},expression:"show_cleaningNum"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.cleanAll},on:{confirm:e.onConfirmClean,cancel:function(t){e.show_cleaningNum=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_bedNum,callback:function(t){e.show_bedNum=t},expression:"show_bedNum"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.bedAll},on:{confirm:e.onConfirmBed,cancel:function(t){e.show_bedNum=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_proType,callback:function(t){e.show_proType=t},expression:"show_proType"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.proTypeAll},on:{confirm:e.onConfirmProType,cancel:function(t){e.show_proType=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_level,callback:function(t){e.show_level=t},expression:"show_level"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.levelAll},on:{confirm:e.onConfirmLevel,cancel:function(t){e.show_level=!1}}})],1),e._v(" "),a("van-dialog",{attrs:{title:"添加折扣","show-cancel-button":"","before-close":e.onbeforecloseDiscount},model:{value:e.show_discount,callback:function(t){e.show_discount=t},expression:"show_discount"}},[a("div",[a("van-field",{attrs:{label:"输入连住天数",placeholder:"请输入输入连住天数",type:"digit"},on:{blur:e.aaaaaaa},model:{value:e.discountForm.bookDay,callback:function(t){e.$set(e.discountForm,"bookDay",t)},expression:"discountForm.bookDay"}}),e._v(" "),a("van-field",{attrs:{label:"输入折扣率",placeholder:"请输入5-9.9之间的折扣率",type:"number"},model:{value:e.discountForm.discount,callback:function(t){e.$set(e.discountForm,"discount",t)},expression:"discountForm.discount"}})],1)]),e._v(" "),a("van-dialog",{attrs:{title:"添加价格","show-cancel-button":""},on:{confirm:e.onbeforeclosePayment},model:{value:e.show_payment,callback:function(t){e.show_payment=t},expression:"show_payment"}},[a("div",[a("van-field",{attrs:{label:"设置价格",placeholder:"请输入价格",type:"number"},model:{value:e.long_price,callback:function(t){e.long_price=t},expression:"long_price"}})],1)]),e._v(" "),a("mt-popup",{staticStyle:{width:"100%"},attrs:{"popup-transition":"popup-fade",closeOnClickModal:"true",position:"bottom"},model:{value:e.show_sTime,callback:function(t){e.show_sTime=t},expression:"show_sTime"}},[a("van-datetime-picker",{attrs:{type:"time"},on:{cancel:function(t){e.show_sTime=!1},confirm:e.onInputBeforeTime},model:{value:e.dataForm.startHour,callback:function(t){e.$set(e.dataForm,"startHour",t)},expression:"dataForm.startHour"}})],1),e._v(" "),a("mt-popup",{staticStyle:{width:"100%"},attrs:{"popup-transition":"popup-fade",closeOnClickModal:"true",position:"bottom"},model:{value:e.show_eTime,callback:function(t){e.show_eTime=t},expression:"show_eTime"}},[a("van-datetime-picker",{attrs:{type:"time"},on:{cancel:function(t){e.show_eTime=!1},confirm:e.onInputAfterTime},model:{value:e.dataForm.endHour,callback:function(t){e.$set(e.dataForm,"endHour",t)},expression:"dataForm.endHour"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_day,callback:function(t){e.show_day=t},expression:"show_day"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.dayAll},on:{confirm:e.onConfirmDay,cancel:function(t){e.show_day=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_time,callback:function(t){e.show_time=t},expression:"show_time"}},[a("van-datetime-picker",{attrs:{type:"time",title:"选择时间"},on:{confirm:e.confirmTime,cancel:function(t){e.show_time=!1}},model:{value:e.myStartTime,callback:function(t){e.myStartTime=t},expression:"myStartTime"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show_reason,callback:function(t){e.show_reason=t},expression:"show_reason"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.daysLeaveReasonArr},on:{confirm:e.onConfirmReason,cancel:function(t){e.show_reason=!1}}})],1)],1)},staticRenderFns:[]};var v=a("k6Sl")(u,h,!1,function(e){a("MMZ7")},"data-v-2639ca76",null);t.default=v.exports}});
//# sourceMappingURL=127.6f85d87256fe55beba591758771190591.js.map