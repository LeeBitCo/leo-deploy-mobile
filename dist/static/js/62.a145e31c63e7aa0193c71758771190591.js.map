{"version":3,"sources":["webpack:///src/components/Order/RoomFeeD.vue","webpack:///./src/components/Order/RoomFeeD.vue?28f8","webpack:///./src/components/Order/RoomFeeD.vue"],"names":["RoomFeeD","data","_ref","currenInfo","startTime","endTime","finishTime","payment_label","paymentType","roomPrice","day","reason","room_fee","payStatus","payTime","minDate","maxDate","payForm","payment","payeeAccountId","payeeAccountIdValue","showPayed","timeShow","payeeAccountIdValueShow","defineProperty_default","Date","created","this","$store","commit","is_businessPayOffline","Object","filters","dayjs_min_default","subtract","add","$route","query","cooperRentalBillId","getCurrenCooperInfo","rentalBillId","first_room","localStorage","getItem","getCurrenInfo","mounted","timeFormat","document","getElementById","style","display","methods","_this","api_business_hotel_and_scale","done","res","getPayment","id","_this2","api_business","_this3","api_query","dictType","paymentsAll","payments","map","item","dictLabel","find","dictValue","i","length","paymentMethod","hotelId","userAll","filter","account","users","accountName","changeFn","changeDate","currentDate","time","year","getFullYear","month","getMonth","getDate","setTime","keep","delayDay","diffday","delayReason","mint_ui_common","message","msg","duration","goEdit","$router","push","path","title","Number","deposit","toFixed","orderId","origin","getCode","billSn","rentalBillSn","onConfirmTime","event","format","onConfirm","val","collPrice","confirmPayed","_this4","paymentValue","watch","Order_RoomFeeD","render","_vm","_h","$createElement","_c","_self","staticStyle","background-color","position","top","bottom","left","right","font-size","color","staticClass","_v","class","_s","substr","margin","_e","payeeAccount","border-color","margin-right","width","on","click","$event","attrs","type","round","bind:close","model","value","callback","$$v","expression","readonly","label","placeholder","rules","required","$set","min-date","max-date","close","confirm","show-toolbar","columns","cancel","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/62.a145e31c63e7aa0193c71758771190591.js","sourcesContent":["\n<template>\n  <div style=\"background-color:#F6F6F6;position:fixed;top:50px;bottom:0;left:0;right:0;font-size:16px;color:#000;\">\n    <div class=\"box_1\">\n      <div class=\"box_1_1\">\n        <div>账单状态</div>\n        <div :class=\"currenInfo.payStatus == 0?'payS_r':'payS_g'\">{{ currenInfo.payStatus == 0?'未支付':'已支付' }}</div>\n      </div>\n      <div class=\"box_1_1\">\n        <div>缴费周期</div>\n        <div>{{ currenInfo.startTime?currenInfo.startTime.substr(0,10):'' }}&ensp;至&ensp;{{ currenInfo.endTime?currenInfo.endTime.substr(0,10):\"\" }}</div>\n      </div>\n    </div>\n    <div\n      v-if=\"currenInfo.roomPrice\"\n      class=\"box_2\"\n      style=\"margin: 10px 0 0 0;\"\n    >\n      <div>租金</div>\n      <div class=\"day\">{{ Number(currenInfo.roomPrice-currenInfo.deposit).toFixed(2) }}元</div>\n    </div>\n    <div\n      v-if=\"currenInfo.deposit\"\n      class=\"box_2\"\n    >\n      <div>押金</div>\n      <div class=\"day\">{{ Number(currenInfo.deposit).toFixed(2) }}元</div>\n    </div>\n    <div class=\"box_1\">\n      <div\n        class=\"box_1_1\"\n        v-if=\"currenInfo.payTime\"\n      >\n        <div>到账时间</div>\n        <div>{{ currenInfo.payTime }}</div>\n      </div>\n      <div\n        class=\"box_1_1\"\n        v-if=\"currenInfo.payStatus == 1\"\n      >\n        <div>支付方式</div>\n        <div class=\"day\">{{ payment_label  }}</div>\n      </div>\n      <div\n        class=\"box_1_1\"\n        v-if=\"currenInfo.payment > '5' && currenInfo.payeeAccount\"\n      >\n        <div>收款账户</div>\n        <div class=\"day\">{{ currenInfo.payeeAccount  }}</div>\n      </div>\n      <div\n        class=\"box_1_1\"\n        v-if=\"currenInfo.payStatus == '1' && currenInfo.paymentMethod != '0'\"\n      >\n        <div>支付类型</div>\n        <div class=\"day\">{{ paymentType }}</div>\n      </div>\n    </div>\n    <div class=\"box_2 position\">\n      <div class=\"leftTile\">\n        <div class=\"price\">\n          <span class=\"f12\">费用总计</span>\n          <br />\n          <span class=\"t_price\">&yen;{{ currenInfo.roomPrice?currenInfo.roomPrice.toFixed(2):'0' }}</span>\n        </div>\n      </div>\n      <!-- <van-button\n        v-if=\"currenInfo.payStatus == '0'\"\n        style=\"border-color:#989898;color:#989898;margin-right:8px;width:20%;\"\n        class=\"button\"\n        @click=\"showDelete = true\"\n      >作废</van-button> -->\n      <van-button\n        v-if=\"currenInfo.payStatus == '0' && first_room == 'true'\"\n        style=\"border-color:#989898;color:#989898;margin-right:8px;width:20%;\"\n        class=\"button\"\n        @click=\"goEdit(currenInfo)\"\n      >编辑</van-button>\n      <van-button\n        v-if=\"currenInfo.payStatus == '0'\"\n        type=\"primary\"\n        class=\"button code_s\"\n        @click=\"getCode\"\n      >收款码</van-button>\n      <van-button\n        v-if='is_businessPayOffline == true'\n        type=\"primary\"\n        :class=\"currenInfo.payStatus == '0'?'payS_r':'payS_w'\"\n        class=\"button\"\n        @click=\"collPrice(currenInfo.payStatus)\"\n      >{{ currenInfo.payStatus == '0'?'线下收款':'已到账' }}</van-button>\n    </div>\n    <van-popup\n      v-model=\"showPayed\"\n      round\n      style=\"width:90%;\"\n      bind:close=\"onClose\"\n    >\n      <h3>到账</h3>\n      <van-cell-group>\n        <van-field\n          v-model=\"payForm.payTime\"\n          readonly\n          label=\"到账日期\"\n          placeholder=\"点击选择到账日期\"\n          @click=\"timeShow = true\"\n          :rules=\"[{ required: true, message: '请选择到账日期' }]\"\n        />\n        <van-field\n          v-model=\"payForm.payeeAccountIdValue\"\n          readonly\n          label=\"收款账户\"\n          placeholder=\"请选择收款账户\"\n          @click=\"users.length > 0?payeeAccountIdValueShow = true:''\"\n        />\n        <van-button\n          class=\"payedColor\"\n          @click=\"confirmPayed\"\n        >确定收款</van-button>\n      </van-cell-group>\n    </van-popup>\n    <!-- 到账日期 -->\n    <van-calendar\n      style=\"width: 100%\"\n      v-model=\"timeShow\"\n      :min-date=\"minDate\"\n      :max-date=\"maxDate\"\n      @close=\"timeShow = false\"\n      @confirm=\"onConfirmTime\"\n    />\n    <!-- 收款账户 -->\n    <van-popup\n      style=\"width: 100%\"\n      v-model=\"payeeAccountIdValueShow\"\n      position=\"bottom\"\n    >\n      <van-picker\n        show-toolbar\n        :columns=\"users\"\n        @confirm=\"onConfirm\"\n        @cancel=\"payeeAccountIdValueShow = false\"\n      />\n    </van-popup>\n    <!-- <van-dialog\n      v-model=\"showDelete\"\n      title=\"账单作废\"\n      show-cancel-button\n      :before-close=\"confirmDelete\"\n    >\n      <van-field\n        v-model=\"deleteRemarks\"\n        placeholder=\"请输入备注\"\n      />\n    </van-dialog> -->\n  </div>\n</template>\n<script>\nimport { Toast } from 'mint-ui';\nimport dayjs from 'dayjs';\nimport { isPermission } from '@/utils/filters';\nimport { GetSystemDictDataByType } from '@/api/api_query';\nimport { PostBusinessRentalBillUnpayByhotel, GetBusinessRentalBill, PostBusinessRentalBillEdit } from '@/api/api_business_hotel_and_scale';\nimport { GetBusinessHotelPayeeAccountByhotel, GetBusinessCooperRentalBill } from '@/api/api_business';\nexport default {\n    data() {\n        return {\n            currenInfo: '',\n            startTime: '',\n            endTime: '',\n            finishTime: '',\n            payment_label: '',\n            paymentType: '',\n            roomPrice: '',\n            day: '',\n            reason: '',\n            room_fee: '',\n            payStatus: '',\n            payTime: '',\n            minDate: null,\n            maxDate: null,\n            payForm: {\n                payment: '',\n                payeeAccountId: '',\n                payTime: '',\n                payeeAccountIdValue: ''\n            },\n            showPayed: false,\n            timeShow: false,\n            payeeAccountIdValueShow: false,\n            // showDelete: false,\n            minDate: new Date(),\n            currentDate: new Date(),\n            changeDate: new Date(),\n            payments: [],\n            users: [],\n            first_room: false,\n            is_businessPayOffline: true,\n            aaa: '',\n            deleteRemarks: null\n        };\n    },\n    created() {\n        this.$store.commit('setHeader', '账单明细');\n        this.is_businessPayOffline = isPermission('business:pay:offline');\n        this.minDate = new Date(dayjs().subtract(6, 'month'));\n        this.maxDate = new Date(dayjs().add(6, 'month'));\n        if (this.$route.query.cooperRentalBillId) {\n            this.getCurrenCooperInfo(this.$route.query.cooperRentalBillId);\n        } else {\n            this.rentalBillId = this.$route.query.rentalBillId;\n            this.first_room = localStorage.getItem('isFirst_room');\n            this.getCurrenInfo();\n        }\n    },\n    mounted() {\n        this.timeFormat(new Date());\n        if (this.currenInfo.payStatus == 1) {\n            document.getElementById('inp_day').style.display = 'none';\n        }\n    },\n    methods: {\n        // 当前信息\n        getCurrenInfo() {\n            GetBusinessRentalBill(this.rentalBillId).done((res) => {\n                this.currenInfo = res.data;\n                this.getPayment();\n            });\n        },\n        // 当前单位订单房间信息\n        getCurrenCooperInfo(id) {\n            GetBusinessCooperRentalBill({ cooperRentalBillId: id }).done((res) => {\n                this.currenInfo = res.data;\n                this.getPayment();\n            });\n        },\n        getPayment() {\n            GetSystemDictDataByType({ dictType: 'business_payment_offline' }).done((res) => {\n                this.paymentsAll = res.data;\n                this.payments = res.data.map((item) => item.dictLabel);\n            });\n            GetSystemDictDataByType({ dictType: 'business_payment' }).done((res) => {\n                if (this.currenInfo.payStatus == '1') {\n                    this.payment_label = res.data.find((item) => item.dictValue == this.currenInfo.payment).dictLabel;\n                }\n            });\n            GetSystemDictDataByType({ dictType: 'business_payment_method' }).done((res) => {\n                for (var i = 0; i < res.data.length; i++) {\n                    if (res.data[i].dictValue == this.currenInfo.paymentMethod) {\n                        this.paymentType = res.data[i].dictLabel;\n                    }\n                }\n            });\n            GetBusinessHotelPayeeAccountByhotel({ hotelId: this.currenInfo.hotelId }).done((res) => {\n                this.userAll = res.data.filter((item) => item.payment >= '5' || item.account);\n                this.users = res.data.filter((item) => item.payment >= '5' || item.account).map((item) => item.accountName);\n                this.payForm.payeeAccountIdValue = this.users.length > 0 ? null : '暂无';\n            });\n        },\n        // 值变化是触发\n        changeFn() {\n            this.changeDate = this.currentDate;\n        },\n        // 时间格式化\n        timeFormat(time) {\n            let year = time.getFullYear();\n            let month = time.getMonth() + 1 < 10 ? '0' + (time.getMonth() + 1) : time.getMonth() + 1;\n            let day = time.getDate() < 10 ? '0' + time.getDate() : time.getDate();\n            this.setTime = year + '-' + month + '-' + day;\n            return year + '年' + month + '月' + day + '日';\n        },\n        keep() {\n            let data = {\n                id: this.currenInfo.id,\n                delayDay: this.diffday,\n                delayReason: this.reason\n            };\n            PostBusinessRentalBillEdit(data).done((res) => {\n                Toast({\n                    message: res.msg,\n                    duration: 900\n                });\n            });\n        },\n        // 修改账单\n        goEdit(item) {\n            this.$router.push({\n                path: '/add_bill',\n                query: {\n                    title: '房租账单',\n                    startTime: item.startTime,\n                    endTime: item.endTime,\n                    rentalBillId: item.id,\n                    roomPrice: Number(item.roomPrice - item.deposit).toFixed(2),\n                    deposit: item.deposit,\n                    orderId: item.orderId,\n                    origin: item.origin\n                }\n            });\n        },\n        // 收款码\n        getCode() {\n            this.$router.push({\n                path: '/roomCode-page',\n                query: {\n                    roomPrice: this.currenInfo.roomPrice,\n                    billSn: this.currenInfo.rentalBillSn,\n                    payStatus: this.currenInfo.payStatus\n                }\n            });\n        },\n        // 到账日期\n        onConfirmTime(event) {\n            this.timeShow = false;\n            this.payForm.payTime = dayjs(event).format('YYYY-MM-DD');\n        },\n        // 收款账户\n        onConfirm(val) {\n            this.payForm.payeeAccountIdValue = val + '>';\n            this.payForm.payeeAccountId = this.userAll.find((item) => item.accountName == val).id;\n            this.payeeAccountIdValueShow = false;\n        },\n        //线下收款\n        collPrice(payStatus) {\n            if (payStatus == 0) {\n                this.showPayed = true;\n                this.payForm.payTime = dayjs().format('YYYY-MM-DD');\n            }\n        },\n        // 确认到账\n        confirmPayed() {\n            if (!this.payForm.payeeAccountIdValue) {\n                Toast({\n                    message: '请选择收款账户',\n                    duration: 900\n                });\n                return;\n            }\n            delete this.payForm.paymentValue;\n            delete this.payForm.payeeAccountIdValue;\n            PostBusinessRentalBillUnpayByhotel(this.currenInfo.id, this.payForm).done((res) => {\n                this.showPayed = false;\n                Toast({\n                    message: res.msg,\n                    duration: 900\n                });\n                if (this.$route.query.cooperRentalBillId) {\n                    this.getCurrenCooperInfo(this.$route.query.cooperRentalBillId);\n                } else {\n                    this.rentalBillId = this.$route.query.rentalBillId;\n                    this.getCurrenInfo();\n                }\n            });\n        }\n    },\n    watch: {}\n};\n</script>\n<style scoped>\n.box_1 {\n    display: flex;\n    flex-direction: column;\n    margin-top: 10px;\n    background: #fff;\n    font-size: 0.8rem;\n    color: #000;\n}\n.box_1_1 {\n    display: flex;\n    justify-content: space-between;\n    margin: 4px 10px 0 10px;\n    border-bottom: 1px solid #f6f6f6;\n    line-height: 35px;\n    align-items: center;\n}\n.box_2 {\n    font-size: 0.8rem;\n    color: #000;\n    display: flex;\n    justify-content: space-between;\n    padding: 4px 10px 0 10px;\n    background: #fff;\n    margin-bottom: 10px;\n    line-height: 35px;\n    align-items: center;\n}\n.none {\n    margin-bottom: 0;\n    border-bottom: 1px solid #f6f6f6;\n}\n.none > .day {\n    display: flex;\n    align-items: center;\n}\n.none > .day > img {\n    width: 20px;\n    height: 20px;\n}\n.set {\n    color: #989898;\n    font-size: 12px;\n    text-align: left;\n    margin-left: 10px;\n}\n.join {\n    width: 80%;\n    background: #fb9e58;\n    line-height: 50px;\n    border-radius: 5px;\n    margin: 50px auto 20px;\n    color: #fff;\n}\n.inp {\n    width: 52%;\n    text-align: right;\n    border: none;\n    outline: medium;\n}\n.inp_ {\n    width: 60%;\n    text-align: right;\n    border: none;\n    outline: medium;\n    color: #989898;\n}\n.fix {\n    color: #989898;\n    font-size: 12px;\n}\n.leftTile {\n    width: 40%;\n    text-align: left;\n}\n.position {\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    box-sizing: border-box;\n}\n.leftTile > .price {\n    line-height: 25px;\n    font-size: 1rem;\n    font-weight: bold;\n}\n.t_price {\n}\n.f12 {\n    font-size: 0.6rem;\n    font-weight: normal;\n}\n.button {\n    border-radius: 20px;\n    height: 32px;\n}\n.payS_r {\n    background: #fff;\n    border-color: #f00;\n    color: red;\n    padding: 10px;\n    white-space: nowrap;\n}\n.payS_g {\n    color: #02bc6c;\n}\n.code_s {\n    color: #000;\n    border: 1px solid #989898;\n    background: #fff;\n    white-space: nowrap;\n    margin-right: 8px;\n}\n.payS_w {\n    background: #ff7d41;\n    border: 1px solid #ff7d41;\n    color: #fff;\n    font-size: 10px;\n}\n.payedColor {\n    background: #ff7d41;\n    color: #fff;\n    margin: 10px auto;\n    width: 80%;\n    border-radius: 5px;\n}\n/deep/ .van-button--normal {\n    padding: 0 10px;\n}\n/deep/ .van-field__control {\n    background: #f6f6f6;\n    padding: 4px;\n    border-radius: 4px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Order/RoomFeeD.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"#F6F6F6\",\"position\":\"fixed\",\"top\":\"50px\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"font-size\":\"16px\",\"color\":\"#000\"}},[_c('div',{staticClass:\"box_1\"},[_c('div',{staticClass:\"box_1_1\"},[_c('div',[_vm._v(\"账单状态\")]),_vm._v(\" \"),_c('div',{class:_vm.currenInfo.payStatus == 0?'payS_r':'payS_g'},[_vm._v(_vm._s(_vm.currenInfo.payStatus == 0?'未支付':'已支付'))])]),_vm._v(\" \"),_c('div',{staticClass:\"box_1_1\"},[_c('div',[_vm._v(\"缴费周期\")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.currenInfo.startTime?_vm.currenInfo.startTime.substr(0,10):'')+\" 至 \"+_vm._s(_vm.currenInfo.endTime?_vm.currenInfo.endTime.substr(0,10):\"\"))])])]),_vm._v(\" \"),(_vm.currenInfo.roomPrice)?_c('div',{staticClass:\"box_2\",staticStyle:{\"margin\":\"10px 0 0 0\"}},[_c('div',[_vm._v(\"租金\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(Number(_vm.currenInfo.roomPrice-_vm.currenInfo.deposit).toFixed(2))+\"元\")])]):_vm._e(),_vm._v(\" \"),(_vm.currenInfo.deposit)?_c('div',{staticClass:\"box_2\"},[_c('div',[_vm._v(\"押金\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(Number(_vm.currenInfo.deposit).toFixed(2))+\"元\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"box_1\"},[(_vm.currenInfo.payTime)?_c('div',{staticClass:\"box_1_1\"},[_c('div',[_vm._v(\"到账时间\")]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.currenInfo.payTime))])]):_vm._e(),_vm._v(\" \"),(_vm.currenInfo.payStatus == 1)?_c('div',{staticClass:\"box_1_1\"},[_c('div',[_vm._v(\"支付方式\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(_vm.payment_label))])]):_vm._e(),_vm._v(\" \"),(_vm.currenInfo.payment > '5' && _vm.currenInfo.payeeAccount)?_c('div',{staticClass:\"box_1_1\"},[_c('div',[_vm._v(\"收款账户\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(_vm.currenInfo.payeeAccount))])]):_vm._e(),_vm._v(\" \"),(_vm.currenInfo.payStatus == '1' && _vm.currenInfo.paymentMethod != '0')?_c('div',{staticClass:\"box_1_1\"},[_c('div',[_vm._v(\"支付类型\")]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_vm._v(_vm._s(_vm.paymentType))])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"box_2 position\"},[_c('div',{staticClass:\"leftTile\"},[_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"f12\"},[_vm._v(\"费用总计\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"t_price\"},[_vm._v(\"¥\"+_vm._s(_vm.currenInfo.roomPrice?_vm.currenInfo.roomPrice.toFixed(2):'0'))])])]),_vm._v(\" \"),(_vm.currenInfo.payStatus == '0' && _vm.first_room == 'true')?_c('van-button',{staticClass:\"button\",staticStyle:{\"border-color\":\"#989898\",\"color\":\"#989898\",\"margin-right\":\"8px\",\"width\":\"20%\"},on:{\"click\":function($event){return _vm.goEdit(_vm.currenInfo)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(_vm.currenInfo.payStatus == '0')?_c('van-button',{staticClass:\"button code_s\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getCode}},[_vm._v(\"收款码\")]):_vm._e(),_vm._v(\" \"),(_vm.is_businessPayOffline == true)?_c('van-button',{staticClass:\"button\",class:_vm.currenInfo.payStatus == '0'?'payS_r':'payS_w',attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.collPrice(_vm.currenInfo.payStatus)}}},[_vm._v(_vm._s(_vm.currenInfo.payStatus == '0'?'线下收款':'已到账'))]):_vm._e()],1),_vm._v(\" \"),_c('van-popup',{staticStyle:{\"width\":\"90%\"},attrs:{\"round\":\"\",\"bind:close\":\"onClose\"},model:{value:(_vm.showPayed),callback:function ($$v) {_vm.showPayed=$$v},expression:\"showPayed\"}},[_c('h3',[_vm._v(\"到账\")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-field',{attrs:{\"readonly\":\"\",\"label\":\"到账日期\",\"placeholder\":\"点击选择到账日期\",\"rules\":[{ required: true, message: '请选择到账日期' }]},on:{\"click\":function($event){_vm.timeShow = true}},model:{value:(_vm.payForm.payTime),callback:function ($$v) {_vm.$set(_vm.payForm, \"payTime\", $$v)},expression:\"payForm.payTime\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"readonly\":\"\",\"label\":\"收款账户\",\"placeholder\":\"请选择收款账户\"},on:{\"click\":function($event){_vm.users.length > 0?_vm.payeeAccountIdValueShow = true:''}},model:{value:(_vm.payForm.payeeAccountIdValue),callback:function ($$v) {_vm.$set(_vm.payForm, \"payeeAccountIdValue\", $$v)},expression:\"payForm.payeeAccountIdValue\"}}),_vm._v(\" \"),_c('van-button',{staticClass:\"payedColor\",on:{\"click\":_vm.confirmPayed}},[_vm._v(\"确定收款\")])],1)],1),_vm._v(\" \"),_c('van-calendar',{staticStyle:{\"width\":\"100%\"},attrs:{\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"close\":function($event){_vm.timeShow = false},\"confirm\":_vm.onConfirmTime},model:{value:(_vm.timeShow),callback:function ($$v) {_vm.timeShow=$$v},expression:\"timeShow\"}}),_vm._v(\" \"),_c('van-popup',{staticStyle:{\"width\":\"100%\"},attrs:{\"position\":\"bottom\"},model:{value:(_vm.payeeAccountIdValueShow),callback:function ($$v) {_vm.payeeAccountIdValueShow=$$v},expression:\"payeeAccountIdValueShow\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.users},on:{\"confirm\":_vm.onConfirm,\"cancel\":function($event){_vm.payeeAccountIdValueShow = false}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a5e132e0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Order/RoomFeeD.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.pnpm/extract-text-webpack-plugin@3.0.2_webpack@3.12.0/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5e132e0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=styles&index=0!./RoomFeeD.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./RoomFeeD.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./RoomFeeD.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a5e132e0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=template&index=0!./RoomFeeD.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a5e132e0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Order/RoomFeeD.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}