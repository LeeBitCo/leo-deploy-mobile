webpackJsonp([106],{"ihh+":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("HkQL"),r=s.n(a),n=s("1Wd6"),o=s("UJbh"),i=(s("s/fh"),{data:function(){return{currentStaff:[],hotelRoles:[],roleObjs:{},applyNum:null}},created:function(){this.$store.commit("setHeader","员工管理"),this.getBytype(),this.getHotelStaffs()},methods:{getBytype:function(){var t=this;Object(o.a)({dictType:"business_hotel_role"}).done(function(e){t.roleObjs={},e.data.map(function(e){return t.roleObjs[e.dictValue]=e.dictLabel,t.roleObjs})})},getHotelStaffs:function(){var t=this;Object(n.f)({hotelId:this.$route.query.hotelId}).done(function(e){e.data.forEach(function(t){t.roleArray=t.role.split(",")}),t.currentStaff=e.data,t.applyNum=e.order})},goApply:function(t){this.$router.push({path:t,query:{hotelId:this.$route.query.hotelId}})},goNext:function(t,e){var s=void 0;e?(s={hotelId:this.$route.query.hotelId,userId:e.userId,name:e.sysUser.realName||e.sysUser.nickName,phone:e.sysUser.phone,headUrl:e.sysUser.headUrl,roleArray:e.roleArray},localStorage.setItem("staffInfo",r()(s))):(s={hotelId:this.$route.query.hotelId},localStorage.removeItem("staffInfo")),this.$router.push({path:t,query:s})}}}),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"staff-box"}},[0!=t.applyNum?s("van-button",{staticClass:"staff-apply mt10",on:{click:function(e){return t.goApply("/staff-apply","")}}},[s("span",{staticClass:"applying"},[t._v("您有待审核的角色申请！")]),t._v(" "),s("van-icon",{staticClass:"apply-img",attrs:{name:"arrow"}})],1):t._e(),t._v(" "),s("van-button",{staticClass:"add-staff mt10",on:{click:function(e){return t.goNext("/add-staff","")}}},[s("div",{staticStyle:{width:"100%"}},[s("van-icon",{attrs:{name:"plus"}}),t._v("添加角色\n    ")],1)]),t._v(" "),s("div",{staticClass:"staff-list",style:{height:0==t.applyNum?"calc(100vh - 110px)":"calc(100vh - 170px)"}},t._l(t.currentStaff,function(e,a){return s("div",{key:a,staticClass:"staff",on:{click:function(s){return t.goNext("/staff-info",e)}}},[s("div",{staticClass:"staff-left",staticStyle:{"-border":"1px solid red","-width":"70%"}},[s("img",{staticClass:"head-img",attrs:{src:e.sysUser.headUrl,alt:""}}),t._v(" "),s("div",{staticStyle:{width:"100%"}},[s("div",[t._v(t._s(e.sysUser.realName||e.sysUser.nickName||"暂无")+" "),s("span",{staticStyle:{"font-size":"14px",color:"#989898"}},[t._v(t._s(e.sysUser.phone))])]),t._v(" "),s("div",{staticClass:"roleManage"},t._l(e.roleArray,function(e,a){return s("div",{key:a,staticClass:"f10"},[t._v("\n              "+t._s(t.roleObjs[e])+"\n            ")])}),0)])]),t._v(" "),s("div",{staticClass:"staff-right"},[e.roleArray.find(function(t){return"ROLE_HOTEL_CLEANER"==t})?s("span",{staticClass:"round",style:{background:0==e.workStatus?"#FF505A":"#04BC6B"}}):t._e(),t._v(" "),e.roleArray.find(function(t){return"ROLE_HOTEL_CLEANER"==t})?s("div",[t._v(t._s(0==e.workStatus?"已下班":"上班中"))]):t._e(),t._v(" "),s("van-icon",{staticClass:"right-img",attrs:{name:"arrow"}})],1)])}),0)],1)},staticRenderFns:[]};var c=s("k6Sl")(i,l,!1,function(t){s("jubJ")},"data-v-46d46a8d",null);e.default=c.exports},jubJ:function(t,e){}});
//# sourceMappingURL=106.205e8b736705f2c9ca711758782009845.js.map