webpackJsonp([142],{"+SGG":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("HkQL"),c=t.n(i),n=t("6uKG"),a=t.n(n),u=t("tN5p"),o=t("Gwi0"),s=t("s/fh"),d={data:function(){return{currentInfo:[],priceObj:{1:"elecPrice",2:"waterPrice",3:"gasPrice"},titleObj:{1:"电费",2:"水费",3:"气费",4:"清洁费",5:"停车费",6:"物业费",7:"宽带费"}}},created:function(){this.$route.query.dictValue=+this.$route.query.dictValue,this.$store.commit("setHeader",this.titleObj[this.$route.query.dictValue]+"费用明细"),this.getCurrentInfo(this.$route.query.lifeCostBillId)},computed:{computerAll:function(){var e=0;return this.currentInfo.length&&this.currentInfo.forEach(function(r){r.degree-r.lastDegree>=0&&(e+=r.degree-r.lastDegree)}),e},computerAllPrice:function(){var e=0;if(this.currentInfo.length)for(var r in this.currentInfo)e+=Number(this.currentInfo[r].price);return e}},methods:{getCurrentInfo:function(e){var r=this,t={};1==this.$route.query.dictValue&&(t={checkType:1,origin:1}),Object(u.t)(a()({cooperLifeCostBillId:e},t)).done(function(e){r.currentInfo=e.data.map(function(e){var t={id:e.id,lastDegree:"",degree:"",roomSn:e.room.roomSn},i={1:e.preElecDegree,2:e.preWaterDegree,3:e.preGasDegree};switch(t.lastDegree=i[r.$route.query.dictValue],r.$route.query.dictValue){case 1:t.degree=e.elecDegree,t.price=e.elecPrice;break;case 2:t.degree=e.waterDegree,t.price=e.waterPrice;break;case 3:t.degree=e.gasDegree,t.price=e.gasPrice;break;case 4:t.price=e.rubbishPrice;break;case 5:t.price=e.parkPrice;break;case 6:t.price=e.propPrice;break;case 7:t.price=e.broadBandPrice}return t})})},degreeNum:function(e){e.lastDegree>e.degree&&""!=e.degree&&(Object(s.c)({message:"请正确输入"+e.roomSn+"的止数",duration:2e3}),e.degree="")},save:function(){if(this.$route.query.dictValue<=3){if(!this.currentInfo.filter(function(e){return""!=e.degree}).length)return void Object(s.c)({message:"请抄表",duration:2e3});var e={checkType:this.$route.query.dictValue,checkData:c()(this.currentInfo)};Object(o._34)(e).done(function(e){Object(s.c)({message:e.msg,duration:2e3}),setTimeout("window.history.go(-1)",900)})}}}},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticStyle:{height:"100vh"}},[e.currentInfo.length>0?t("div",{staticClass:"main"},[t("div",{staticClass:"reading-box reading-title"},[t("div",[e._v("房间号")]),e._v(" "),e.$route.query.dictValue<=3?t("div",[e._v("起数")]):e._e(),e._v(" "),e.$route.query.dictValue<=3?t("div",[e._v("止数")]):e._e(),e._v(" "),e.$route.query.dictValue<=3?t("div",[e._v("用量")]):t("div",[e._v("金额")])]),e._v(" "),t("div",{staticClass:"contain"},e._l(e.currentInfo.filter(function(e){return e.price>0}),function(r){return t("div",{key:r.id,staticClass:"reading-box reding-item"},[t("div",{staticClass:"ri-left"},[e._v(e._s(r.roomSn))]),e._v(" "),e.$route.query.dictValue<=3?t("div",{staticClass:"ri-left"},[e._v(e._s(r.lastDegree))]):e._e(),e._v(" "),t("div",{staticClass:"ri-right"},[e.$route.query.dictValue<=3?t("input",{directives:[{name:"model",rawName:"v-model",value:r.degree,expression:"item.degree"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:r.degree},on:{blur:function(t){return e.degreeNum(r)},input:function(t){t.target.composing||e.$set(r,"degree",t.target.value)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:r.price,expression:"item.price"}],attrs:{type:"number",readonly:"",placeholder:"请输入"},domProps:{value:r.price},on:{blur:function(t){return e.degreeNum(r)},input:function(t){t.target.composing||e.$set(r,"price",t.target.value)}}})]),e._v(" "),e.$route.query.dictValue<=3?t("div",[e._v(e._s(r.degree-r.lastDegree>=0?r.degree-r.lastDegree:0))]):e._e()])}),0),e._v(" "),e.$route.query.dictValue<=3?t("div",{staticClass:"totle"},[t("span",[e._v("合计用量:"+e._s(e.computerAll))]),e._v(" \n      "),t("span",[e._v("合计费用:¥"+e._s((e.computerAll*e.currentInfo[0].price).toFixed(2)))])]):t("div",{staticClass:"totle"},[t("span",[e._v("合计费用:¥"+e._s(e.computerAllPrice))])]),e._v(" "),e.$route.query.dictValue<=3&&0==e.$route.query.status?t("mt-button",{staticClass:"reading-save",on:{click:e.save}},[e._v("保存")]):e._e()],1):t("div",{staticStyle:{"font-size":"0.8rem","margin-top":"50px"}},[e._v("暂无费用明细")])])},staticRenderFns:[]};var v=t("k6Sl")(d,l,!1,function(e){t("5V3I")},"data-v-120e6708",null);r.default=v.exports},"5V3I":function(e,r){}});
//# sourceMappingURL=142.f31bb3994d8a1ba7bdaf1758771190591.js.map