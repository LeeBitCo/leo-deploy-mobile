webpackJsonp([76],{bm3D:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("4jgH"),n=t("s/fh"),l=t("UJbh"),c=t("tN5p");o.default.use(n.b),o.default.use(n.c);var i={name:"add",data:function(){return{stepper:1,showPicker:!1,dataForm:{cooperationName:null,hotelId:null,cooperationSn:null,contact:"",phone:"",cooperDiscount:1,billCycle:"1",cooperType:"1",accountLimit:"",bankAccount:"",taxAccount:"",location:"",bankName:""},columns:[],columnsAll:[]}},created:function(){this.$store.commit("setHeader","添加二房东"),this.dataForm.hotelId=this.$route.query.hotelId,this.getTypeBusinessBill()},computed:{cooperDiscount:{get:function(){return 10*this.dataForm.cooperDiscount},set:function(a){this.dataForm.cooperDiscount=a/10}},billCycle:{get:function(){var a=this;if(this.columnsAll&&this.columnsAll.length)return this.columnsAll.find(function(e){return a.dataForm.billCycle==e.dictValue}).dictLabel+" ＞"},set:function(a){}}},methods:{getTypeBusinessBill:function(){var a=this;Object(l.a)({dictType:"business_bill_cycle"}).done(function(e){a.dataForm.billCycle=e.data[0].dictValue,a.columns=e.data.map(function(a){return a.dictLabel}),a.columnsAll=e.data})},onSubmit:function(){var a=this;Object(c.F)(this.dataForm).done(function(){n.c.success("操作成功"),setTimeout(function(){a.$router.go(-1)},2e3)})},onConfirm:function(a){this.dataForm.billCycle=this.columnsAll.find(function(e){return e.dictLabel==a}).dictValue,this.showPicker=!1},validator:function(a){return/^1[3-9][0-9]\d{8}$/.test(a)},validatorEmail:function(a){return/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(a)}}},r={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"group"},[t("van-form",{on:{submit:a.onSubmit}},[t("van-field",{attrs:{name:"cooperDiscount",label:"单位名称",placeholder:"请输入单位名称",rules:[{required:!0,message:"请填写请输入单位名称"}]},model:{value:a.dataForm.cooperationName,callback:function(e){a.$set(a.dataForm,"cooperationName",e)},expression:"dataForm.cooperationName"}}),a._v(" "),t("van-field",{attrs:{name:"cooperationSn",label:"单位编号",placeholder:"请输入单位编号",rules:[{required:!0,message:"请填写请输入单位编号"}]},model:{value:a.dataForm.cooperationSn,callback:function(e){a.$set(a.dataForm,"cooperationSn",e)},expression:"dataForm.cooperationSn"}}),a._v(" "),t("van-field",{attrs:{name:"contact",label:"联系人",placeholder:"请输入联系人",rules:[{required:!0,message:"请填写联系人"}]},model:{value:a.dataForm.contact,callback:function(e){a.$set(a.dataForm,"contact",e)},expression:"dataForm.contact"}}),a._v(" "),t("van-field",{attrs:{name:"phone",label:"联系电话",maxlength:"11",placeholder:"请输入联系电话",rules:[{required:!0,message:"请填写联系电话"},{validator:a.validator,message:"请填写正确的联系电话"}]},model:{value:a.dataForm.phone,callback:function(e){a.$set(a.dataForm,"phone",e)},expression:"dataForm.phone"}}),a._v(" "),t("van-field",{attrs:{name:"email",label:"电子邮箱",placeholder:"请输入电子邮箱",rules:[{validator:a.validatorEmail,message:"请填写正确格式的邮箱"}]},model:{value:a.dataForm.email,callback:function(e){a.$set(a.dataForm,"email",e)},expression:"dataForm.email"}}),a._v(" "),t("van-field",{staticStyle:{"margin-top":"12px"},attrs:{name:"cooperDiscount",type:"number",label:"折扣",placeholder:"请输入折扣",rules:[{required:!0,message:"请填写请输入折扣"}]},model:{value:a.cooperDiscount,callback:function(e){a.cooperDiscount=e},expression:"cooperDiscount"}}),a._v(" "),t("van-field",{attrs:{name:"accountLimit",type:"number",label:"挂账额度",placeholder:"请输入挂账额度"},model:{value:a.dataForm.accountLimit,callback:function(e){a.$set(a.dataForm,"accountLimit",e)},expression:"dataForm.accountLimit"}}),a._v(" "),t("van-field",{attrs:{readonly:"",clickable:"",name:"billCycle",value:a.billCycle,label:"结账周期",placeholder:"请选择结账周期"},on:{click:function(e){a.showPicker=!0}}}),a._v(" "),t("van-field",{staticStyle:{"margin-top":"13px",color:"#000000"},attrs:{readonly:"",label:"财务信息"}}),a._v(" "),t("van-field",{attrs:{name:"bankAccount",label:"银行账户",placeholder:"选填"},model:{value:a.dataForm.bankAccount,callback:function(e){a.$set(a.dataForm,"bankAccount",e)},expression:"dataForm.bankAccount"}}),a._v(" "),t("van-field",{attrs:{name:"bankName",label:"开户行",placeholder:"选填"},model:{value:a.dataForm.bankName,callback:function(e){a.$set(a.dataForm,"bankName",e)},expression:"dataForm.bankName"}}),a._v(" "),t("van-field",{attrs:{name:"taxAccount",label:"税号",placeholder:"选填"},model:{value:a.dataForm.taxAccount,callback:function(e){a.$set(a.dataForm,"taxAccount",e)},expression:"dataForm.taxAccount"}}),a._v(" "),t("van-field",{attrs:{name:"location",label:"公司地址",placeholder:"选填"},model:{value:a.dataForm.location,callback:function(e){a.$set(a.dataForm,"location",e)},expression:"dataForm.location"}}),a._v(" "),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{staticClass:"submit-btn",attrs:{block:"","native-type":"submit"}},[a._v("\n        确认创建\n      ")])],1)],1),a._v(" "),t("van-popup",{attrs:{position:"bottom"},model:{value:a.showPicker,callback:function(e){a.showPicker=e},expression:"showPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:a.columns},on:{confirm:a.onConfirm,cancel:function(e){a.showPicker=!1}}})],1)],1)},staticRenderFns:[]};var s=t("k6Sl")(i,r,!1,function(a){t("hXUV")},"data-v-79ff2bea",null);e.default=s.exports},hXUV:function(a,e){}});
//# sourceMappingURL=76.9c53b541bb42d142967e1758782009845.js.map