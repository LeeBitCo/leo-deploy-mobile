webpackJsonp([93],{"+Nvn":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("UJbh"),a=i("Gwi0"),r={data:function(){return{info:[],firstInfo:[],newT:"",show:!1,ele:"",water:"",gas:"",first_show:!1,first_ele:"",first_water:"",first_gas:"",back_box:!1,nothing_show:!1,show_info:"",payments:{}}},created:function(){this.$store.commit("setHeader","生活账单"),this.newT=(new Date).getFullYear()+"-"+((new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1)+"-"+((new Date).getDate()<10?"0"+(new Date).getDate():(new Date).getDate()),this.id=this.$route.query.id,this.getinfo(),this.payment()},methods:{payment:function(){var t=this;Object(s.a)({dictType:"business_payment"}).done(function(e){for(var i={},s=0;s<e.data.length;s++)i[e.data[s].dictSort]=e.data[s].dictLabel;t.payments=i})},getinfo:function(){var t=this;Object(a.y)(this.id).done(function(e){0==e.data.length?t.nothing_show=!0:(t.firstInfo=e.data.filter(function(t){return 1==t.isOrigin}),t.info=e.data.filter(function(t){return 1!==t.isOrigin}).reverse())})},btnD:function(t,e,i){localStorage.removeItem("life_fee"),this.$router.push({path:"/lifeFeetrans",query:{lifeCostBillId:i.id,set_length:i.length,set_round:e}})},btnFirst:function(t){t.elecDegree?(this.first_ele=t.elecDegree,document.getElementById("ele").disabled="true"):this.first_ele="",t.waterDegree?(this.first_water=t.waterDegree,document.getElementById("water").disabled="true"):this.first_water="",this.show_info=t,this.first_id=t.id,1!=t.status&&(this.first_show=!0)},first_cancal:function(){this.first_show=!1},first_ok:function(){var t=this,e={id:this.first_id,elecDegree:this.first_ele,waterDegree:this.first_water,gasDegree:this.first_gas};Object(a._39)(e).done(function(e){t.first_show=!1,t.getinfo()})},first_back:function(t){this.back_id=t.id,this.back_box=!0},back_cancel:function(){this.back_box=!1},back_ok:function(){var t=this;Object(a._41)(this.first_id?this.first_id:this.back_id).done(function(e){t.back_box=!1,t.getinfo()})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"background-color":"#F6F6F6",position:"fixed",top:"50px",bottom:"0",left:"0",right:"0","overflow-y":"scroll"}},[i("div",t._l(t.info,function(e,s){return i("div",{key:s,staticClass:"box",on:{click:function(i){return t.btnD(t.info.length,t.info.length-s,e)}}},[i("div",{staticClass:"round"},[i("p",{staticClass:"di"},[t._v("第 "+t._s(t.info.length-s)+" 期")]),t._v(" "),i("div",{staticClass:"di_box"},[0==e.status?i("p",{staticStyle:{color:"#FB9E58"}},[t._v("待提交")]):1==e.status&&0==e.payStatus?i("p",{staticStyle:{color:"#02BC6C"}},[t._v("已提交")]):1==e.payStatus?i("p",{staticStyle:{color:"#02BC6C"}},[i("span",{staticStyle:{color:"#313443","font-size":"0.6rem","margin-right":"4px"}},[e.payment?i("span",[t._v("("+t._s(t.payments[e.payment])+")")]):t._e()]),t._v("已缴费\n          ")]):0==e.payStatus&&1==e.status?i("p",{staticStyle:{color:"#FB9E58"}},[t._v("待缴费")]):t.newT>e.endTime&&1==e.status?i("p",{staticClass:"dai",staticStyle:{color:"#FF4848"}},[t._v("已逾期")]):t._e()])]),t._v(" "),i("div",{staticClass:"riqi"},[i("p",{staticClass:"riqi_l"},[t._v("费用周期")]),t._v("  \n        "),i("p",{staticClass:"riqi_r"},[t._v(t._s(e.startTime)+"至"+t._s(e.endTime))])]),t._v(" "),i("div",{staticClass:"totle"},[t._v("总计 ¥ "+t._s(e.totalPrice))])])}),0),t._v(" "),t._l(t.firstInfo,function(e,s){return i("div",{key:s,staticClass:"box",on:{click:function(i){return t.btnFirst(e)}}},[i("div",{staticClass:"round"},[i("p",{staticClass:"dai"},[t._v("起始读数")]),t._v(" "),1==e.status&&1!=e.payStatus?i("p",{staticClass:"back",on:{click:function(i){return t.first_back(e)}}},[t._v("撤回")]):t._e()]),t._v(" "),i("div",{staticClass:"riqi_box"},[i("p",{staticClass:"riqi_l"},[t._v("记录时间")]),t._v(" "),i("p",[t._v(t._s(e.createTime))])]),t._v(" "),0!=e.elecPrice?i("div",{staticClass:"riqi_box"},[i("p",{staticClass:"riqi_l"},[t._v("电表读数")]),t._v(" "),i("p",[t._v(t._s(e.elecDegree)+"kwh")])]):t._e(),t._v(" "),0!=e.waterPrice?i("div",{staticClass:"riqi_box"},[i("p",{staticClass:"riqi_l"},[t._v("水表读数")]),t._v(" "),i("p",[t._v(t._s(e.waterDegree)+"吨")])]):t._e(),t._v(" "),0!=e.gasPrice?i("div",{staticClass:"riqi_box"},[i("p",{staticClass:"riqi_l"},[t._v("气费读数")]),t._v(" "),i("p",[t._v(t._s(e.gasDegree)+"度")])]):t._e()])}),t._v(" "),t.nothing_show?i("div",{staticClass:"nothing"},[t._v("暂未开始生活缴费")]):t._e(),t._v(" "),i("mt-popup",{staticStyle:{color:"#000",width:"90%","border-radius":"10px","font-size":"0.8rem"},attrs:{position:"center"},model:{value:t.first_show,callback:function(e){t.first_show=e},expression:"first_show"}},[i("p",{staticClass:"put_box"},[t._v("输入起始读数")]),t._v(" "),0!=t.show_info.elecPrice?i("div",{staticClass:"ele_box"},[i("div",[t._v("电表读数")]),t._v("  \n      "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.first_ele,expression:"first_ele"}],staticClass:"input_box",attrs:{type:"number",placeholder:"请输入",id:"ele"},domProps:{value:t.first_ele},on:{input:function(e){e.target.composing||(t.first_ele=e.target.value)}}})]):t._e(),t._v(" "),0!=t.show_info.waterPrice?i("div",{staticClass:"ele_box"},[i("div",[t._v("水表读数")]),t._v("  \n      "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.first_water,expression:"first_water"}],staticClass:"input_box",attrs:{type:"number",placeholder:"请输入",id:"water"},domProps:{value:t.first_water},on:{input:function(e){e.target.composing||(t.first_water=e.target.value)}}})]):t._e(),t._v(" "),0!=t.show_info.gasPrice?i("div",{staticClass:"ele_box"},[i("div",[t._v("气表读数")]),t._v("  \n      "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.first_gas,expression:"first_gas"}],staticClass:"input_box",attrs:{type:"number",placeholder:"请输入",id:"gas"},domProps:{value:t.first_gas},on:{input:function(e){e.target.composing||(t.first_gas=e.target.value)}}})]):t._e(),t._v(" "),i("div",{staticClass:"first_bottom"},[i("div",{staticClass:"first_canal",on:{click:t.first_cancal}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"first_ok",on:{click:t.first_ok}},[t._v("确定")])])]),t._v(" "),i("mt-popup",{staticStyle:{width:"80%","border-radius":"10px"},model:{value:t.back_box,callback:function(e){t.back_box=e},expression:"back_box"}},[i("div",{staticClass:"edit_box"},[i("div",{staticClass:"isBack"},[t._v("是否撤回该账单？")]),t._v(" "),i("div",{staticClass:"back_bottom"},[i("p",{staticClass:"first_canal",on:{click:t.back_cancel}},[t._v("取消")]),t._v(" "),i("p",{staticClass:"first_ok",on:{click:t.back_ok}},[t._v("确定")])])])])],2)},staticRenderFns:[]};var o=i("k6Sl")(r,n,!1,function(t){i("EfNW")},"data-v-5ac44b10",null);e.default=o.exports},EfNW:function(t,e){}});
//# sourceMappingURL=93.9a7ce453e57e6af9adc11758781501818.js.map