webpackJsonp([89],{"7/dc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("NpYV"),o=r("Gwi0"),n={data:function(){return{oldInfo:["费用项目","上期读数","结算读数"],newInfo:["费用项目","价格","初始读数"],lastInfo:{},ele:"",water:"",gas:"",h_ele:"",h_water:"",h_gas:""}},created:function(){this.$store.commit("setHeader","水电结算"),this.longInfo=JSON.parse(localStorage.getItem("long_next")),this.getLifeInfo()},methods:{getLifeInfo:function(){var e=this;Object(o.z)(this.longInfo.orderRoomId).done(function(t){t.data&&(e.lastInfo=t.data,e.ele=e.lastInfo.preElecDegree,e.water=e.lastInfo.preWaterDegree,e.gas=e.lastInfo.preGasDegree)})},priceTwoNum:function(e,t){(e=(e=(e=(e=(e=e.toString()).replace(/[^\d.]/g,"")).replace(/\.{2,}/g,".")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")).indexOf(".")<0&&""!=e&&(e=parseFloat(e)),"1"==t?this.ele=e:"2"==t?this.water=e:"3"==t?this.gas=e:"4"==t?this.h_ele=e:"5"==t?this.h_water=e:"6"==t&&(this.h_gas=e)},btn_long:function(){var e={orderId:this.longInfo.orderId,toScaleId:this.longInfo.toScaleId,toVirtualRoomScaleId:this.longInfo.toVirtualRoomScaleId,toRoomId:this.longInfo.toRoomId,preWaterDegree:this.water,waterDegree:this.h_water,preGasDegree:this.gas,gasDegree:this.h_gas,preElecDegree:this.ele,elecDegree:this.h_ele};0==this.lastInfo.elecPrice&&(delete e.preElecDegree,delete e.elecDegree),0==this.lastInfo.waterPrice&&(delete e.preWaterDegree,delete e.waterDegree),0==this.lastInfo.gasPrice&&(delete e.preGasDegree,delete e.gasDegree),this.next(e)},next:function(e){Object(o._62)(this.longInfo.orderRoomId,e).done(function(e){Object(a.Toast)({message:e.msg,duration:900}),setTimeout("window.history.go(-2)",900)})}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"fixed",top:"50px",bottom:"0",left:"0",right:"0","overflow-y":"scroll"}},[r("div",{attrs:{id:"big_box"}},[r("p",[e._v("旧房费用结算")]),e._v(" "),r("div",[r("section",{attrs:{id:"top"}},e._l(e.oldInfo,function(t,a){return r("div",{key:a},[e._v(e._s(t))])}),0)]),e._v(" "),e.lastInfo?r("table",{staticStyle:{width:"100%"}},[0!=e.lastInfo.elecPrice?r("tr",{attrs:{id:"center"}},[r("td",[e._v("电费")]),e._v(" "),r("td",[e._v(e._s(e.lastInfo.preElecDegree))]),e._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.ele,expression:"ele"}],staticClass:"input_box",attrs:{type:"number",step:"1",min:"0",placeholder:"请输入"},domProps:{value:e.ele},on:{keyup:function(t){return e.priceTwoNum(e.ele,"1")},input:function(t){t.target.composing||(e.ele=t.target.value)}}})])]):e._e(),e._v(" "),0!=e.lastInfo.waterPrice?r("tr",{attrs:{id:"center"}},[r("td",[e._v("水费")]),e._v(" "),r("td",[e._v(e._s(e.lastInfo.preWaterDegree))]),e._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.water,expression:"water"}],staticClass:"input_box",attrs:{type:"number",step:"1",min:"0",placeholder:"请输入"},domProps:{value:e.water},on:{keyup:function(t){return e.priceTwoNum(e.water,"2")},input:function(t){t.target.composing||(e.water=t.target.value)}}})])]):e._e(),e._v(" "),0!=e.lastInfo.gasPrice?r("tr",{attrs:{id:"center"}},[r("td",[e._v("气费")]),e._v(" "),r("td",[e._v(e._s(e.lastInfo.preGasDegree))]),e._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.gas,expression:"gas"}],staticClass:"input_box",attrs:{type:"number",step:"1",min:"0",placeholder:"请输入"},domProps:{value:e.gas},on:{keyup:function(t){return e.priceTwoNum(e.gas,"3")},input:function(t){t.target.composing||(e.gas=t.target.value)}}})])]):e._e()]):e._e()]),e._v(" "),r("div",{staticStyle:{"margin-top":"20px"},attrs:{id:"big_box"}},[r("p",[e._v("新房费用结算")]),e._v(" "),r("div",[r("section",{attrs:{id:"top"}},e._l(e.newInfo,function(t,a){return r("div",{key:a},[e._v(e._s(t))])}),0)]),e._v(" "),r("table",{staticStyle:{width:"100%"}},[0!=e.lastInfo.elecPrice?r("tr",{attrs:{id:"center"}},[r("td",[e._v("电费")]),e._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.h_ele,expression:"h_ele"}],staticClass:"input_box",attrs:{type:"number",step:"1",min:"0",placeholder:"请输入"},domProps:{value:e.h_ele},on:{keyup:function(t){return e.priceTwoNum(e.h_ele,"4")},input:function(t){t.target.composing||(e.h_ele=t.target.value)}}})])]):e._e(),e._v(" "),0!=e.lastInfo.waterPrice?r("tr",{attrs:{id:"center"}},[r("td",[e._v("水费")]),e._v(" "),r("td",[e._v(e._s(e.lastInfo.waterPrice))]),e._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.h_water,expression:"h_water"}],staticClass:"input_box",attrs:{type:"number",step:"1",min:"0",placeholder:"请输入"},domProps:{value:e.h_water},on:{keyup:function(t){return e.priceTwoNum(e.h_water,"5")},input:function(t){t.target.composing||(e.h_water=t.target.value)}}})])]):e._e(),e._v(" "),0!=e.lastInfo.gasPrice?r("tr",{attrs:{id:"center"}},[r("td",[e._v("气费")]),e._v(" "),r("td",[e._v(e._s(e.lastInfo.gasPrice))]),e._v(" "),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.h_gas,expression:"h_gas"}],staticClass:"input_box",attrs:{type:"number",step:"1",min:"0",placeholder:"请输入"},domProps:{value:e.h_gas},on:{keyup:function(t){return e.priceTwoNum(e.h_gas,"6")},input:function(t){t.target.composing||(e.h_gas=t.target.value)}}})])]):e._e()])]),e._v(" "),r("mt-button",{attrs:{id:"button"},on:{click:e.btn_long}},[e._v("确认换房")])],1)},staticRenderFns:[]};var i=r("k6Sl")(n,s,!1,function(e){r("gZpB")},"data-v-6017ad27",null);t.default=i.exports},gZpB:function(e,t){}});
//# sourceMappingURL=89.44cf84106827902191961758781501818.js.map