webpackJsonp([146],{I0Qh:function(t,e){},rBid:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("HkQL"),a=o.n(i),s=o("44Rm"),l=o("Gwi0"),c=o("UJbh"),n=o("s/fh"),r={data:function(){return{hotelInfo:{},HotelStateList:[],hotelStatus:{},popupVisible:!1,pic:null}},created:function(){this.$store.commit("setHeader","房型管理"),this.getHotelInfo()},methods:{getHotelInfo:function(){var t=this;Object(s.a)({hotelId:this.$route.query.hotelId}).then(function(e){t.hotelInfo=e.data,t.getType()}).catch(function(t){console.log(t)})},getType:function(){var t=this;Object(c.a)({dictType:"hotel_status"}).done(function(e){t.HotelStateListGet(),t.hotelStatus={},e.data.map(function(e){t.hotelStatus[e.dictValue]=e.dictLabel})})},HotelStateListGet:function(){var t=this;Object(l._9)(this.$route.query.hotelId).done(function(e){t.HotelStateList=e.data})},getCode:function(){var t=this;Object(l.v)(this.$route.query.hotelId).done(function(e){t.popupVisible=!0,t.pic=e.data})},removeScale:function(t){var e=this;n.a.confirm({title:"确定删除？",message:"基础房型："+t.scaleName}).then(function(){Object(s.l)({roomScaleId:t.id}).done(function(t){e.HotelStateListGet()})}).catch(function(){})},goRoomState:function(t,e){if(e){this.$router.push({path:t,query:{hotelId:this.$route.query.hotelId,id:e.id,scaleName:e.scaleName,endLineTime:this.hotelInfo.endLineTime,charge:this.hotelInfo.charge,round:"1"}});var o={scaleName:e.scaleName,roomScaleId:e.id};localStorage.setItem("addoredit_scaleName",a()(o))}else this.$router.push({path:t,query:{hotelId:this.$route.query.hotelId,endLineTime:this.hotelInfo.endLineTime,charge:this.hotelInfo.charge,round:"1"}}),localStorage.removeItem("addoredit_scaleName");localStorage.removeItem("myscale_Actived")},goEditNext:function(t){this.$router.push({path:t,query:{hotelId:this.$route.query.hotelId}})},goNext:function(t,e){"hotel"==e.type?(e.logoPic?localStorage.setItem("topPic",e.logoPic):localStorage.removeItem("topPic"),this.$router.push({path:t,query:{hotelId:this.$route.query.hotelId,type:e.type}})):(e.logoPic?localStorage.setItem("topPic",e.logoPic):localStorage.removeItem("topPic"),this.$router.push({path:t,query:{hotelId:this.$route.query.hotelId,type:e.type,roomScaleId:e.roomScaleId}}))}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hotelInfo?i("div",{attrs:{id:"scroll"}},[i("div",{attrs:{id:"hotel-info"}},[i("span",[t._v("门店信息")]),t._v(" "),i("span",{staticClass:"info-green"},[t._v(t._s(t.hotelStatus[t.hotelInfo.status]))]),t._v(" "),i("van-icon",{attrs:{name:"qr",color:"#02bc6c"},on:{click:t.getCode}})],1),t._v(" "),i("div",{staticClass:"info-hotel",attrs:{id:"hotel-top"},on:{click:function(e){return t.goEditNext("/addOrEditHotel")}}},[i("div",{staticClass:"hotel-left"},[t.hotelInfo.logo?i("img",{staticClass:"left-img",staticStyle:{width:"80px",height:"70px"},attrs:{src:t.hotelInfo.logo},on:{click:function(e){return e.stopPropagation(),t.goNext("/uploadHotelPic",{type:"hotel",hotelId:t.hotelInfo.id,logoPic:t.hotelInfo.logo})}}}):i("img",{attrs:{src:o("1NMU")}}),t._v(" "),i("span",{staticClass:"common-title img-title"},[t._v("图片管理")]),t._v(" "),i("div",{staticClass:"left-title"},[i("div",{staticClass:"c_000"},[t._v(t._s(t.hotelInfo.hotelName))]),t._v(" "),i("div",{staticClass:"adr"},[t._v(t._s(t.hotelInfo.province)+t._s(t.hotelInfo.city)+t._s(t.hotelInfo.county)+t._s(t.hotelInfo.location))]),t._v(" "),i("div",{staticStyle:{"font-size":"12px",color:"#393939"}},[t._v(t._s(t.hotelInfo.phone))])])]),t._v(" "),i("div",{staticClass:"hotel-edit"},[i("div",{staticClass:"c_39"},[t._v("修改")]),t._v(" "),i("van-icon",{staticClass:"right-img",attrs:{name:"arrow"}})],1)]),t._v(" "),i("div",{staticStyle:{"margin-top":"0"},attrs:{id:"hotel-info"}},[t._v("房型信息")]),t._v(" "),i("div",{attrs:{id:"hotel-center"}},[t._l(t.HotelStateList,function(e,a){return i("div",{key:a,on:{click:function(o){return t.goRoomState("/scaleManage",e)}}},[i("div",{staticClass:"info-hotel"},[i("div",{staticClass:"hotel-left"},[i("div",{staticStyle:{"-border":"1px solid red",width:"60px"},on:{click:function(o){return o.stopPropagation(),t.goNext("/uploadHotelPic",{type:"scale",roomScaleId:e.id,logoPic:e.logo})}}},[e.logo?i("img",{staticClass:"left-img",attrs:{src:e.logo}}):i("img",{staticClass:"left-img",attrs:{src:o("1NMU")}}),t._v(" "),i("span",{staticClass:"common-title scale-title"},[t._v("图片管理")])]),t._v(" "),i("div",{staticClass:"left-title"},[i("div",{staticClass:"c_000"},[t._v(t._s(e.scaleName))]),t._v(" "),i("div",{staticClass:"adr"},[t._v(t._s(e.roomSize)+"m² "+t._s("1"==e.bedNum?"大床":"双床"))]),t._v(" "),i("div",{staticStyle:{"font-size":"13px",color:"#000"}},[t._v("共"+t._s(e.roomCount)+"间\n            ")])])]),t._v(" "),i("div",{staticClass:"hotel-right"},[i("div",{staticClass:"right-top"},[i("div",{staticClass:"c_39"},[t._v("编辑")]),t._v(" "),i("van-icon",{staticClass:"right-img",attrs:{name:"arrow"}})],1)])])])}),t._v(" "),i("mt-popup",{attrs:{position:"center"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[t.pic?i("img",{staticStyle:{display:"inline-block",width:"300px",height:"300px"},attrs:{src:"http://qiniu.aiyoyoufang.com/"+t.pic,alt:""}}):t._e(),t._v(" "),i("p",[t._v("长按图片保存")])]),t._v(" "),i("van-button",{staticClass:"add-scale",on:{click:function(e){return t.goRoomState("/scaleManage")}}},[t._v("+ 添加房型")])],2)]):t._e()},staticRenderFns:[]};var h=o("k6Sl")(r,d,!1,function(t){o("I0Qh")},"data-v-0dab4e46",null);e.default=h.exports}});
//# sourceMappingURL=146.e85f28d0286ce39c06f81758781501818.js.map