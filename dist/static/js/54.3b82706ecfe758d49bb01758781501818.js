webpackJsonp([54],{"3+QE":function(t,e){},lQEL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("HkQL"),l=i.n(s),a=i("Gwi0"),n={components:{},data:function(){return{key:0,listArr:[],item:"",statu:!1,options:{},s:"",priceAll:{},refuseAll:{},selected:"1",contentKey:0,day:14,timeaaa:null,currentMounth:null,outBill:null,num:"1"}},created:function(){this.$store.commit("setHeader","平台账单");var t=new Date,e=t.getFullYear(),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;this.currentMounth=e+"-"+i;for(var s=0;s<this.day;s++){var l=i-s,a=e;if(l<=0){var n=Math.abs(l);l=12-n%12,a-=parseInt(n/12)+1}this.listArr.push({y:a,m:l<10?"0"+l:l,statu:0==s})}this.toggle(this.listArr[0],1)},methods:{btnSearch:function(t){this.num=t,this.priceAll={},this.listArr.forEach(function(t){t.statu=!1}),this.options=[],this.toggle(this.listArr[0],1)},toggle:function(t,e){this.item=t,t.statu=1==e||!t.statu,1==t.statu&&this.getprice(t.y,t.m)},getprice:function(t,e){var i=this,s={billTime:this.item.y+"-"+this.item.m};this.timeaaa=s.billTime,Object(a.d)(s).done(function(s){i.outBill=s.order,i.options[t+"-"+e]=[],i.options[t+"-"+e]=s.data,i.func(i.options[t+"-"+e],t+"-"+e),++i.contentKey})},func:function(t,e){for(var i=0,s=0,l=0;l<t.length;l++)2!=this.num?(i+=t[l].totalPrice,this.priceAll[e]=i.toFixed(2),s+=t[l].refuseAmount,this.refuseAll[e]=s.toFixed(2),++this.key):(i+=t[l].totalPrice,this.priceAll[e]=i.toFixed(2),++this.key)},goNotPaid:function(t){this.$router.push({name:"OutRecord",query:{type:t.type,isshow:"0"}})},goPaid:function(t,e){if(1==this.selected){var i={totalPrice:t.totalPrice,roomAmount:t.roomAmount,depositAmount:t.depositAmount,extraAmount:t.extraAmount,reverseAmount:t.reverseAmount,refuseAmount:t.refuseAmount,aiyoBalanceAmount:t.aiyoBalanceAmount,wxBalanceAmount:t.wxBalanceAmount,aliBalanceAmount:t.aliBalanceAmount};this.$router.push({name:"OutRecord",query:{billRecordId:t.id,type:e.type,billStartTime:t.billStartTime,isshow:"0",selected:"1",Billdata:i}})}else t.selected=this.selected,this.$router.push({name:"OutRecord",query:{billRecordId:t.id,list:t}}),localStorage.setItem("list",l()(t))}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{padding:"15px 0",position:"fixed",top:"50px",bottom:"0",left:"0",right:"0","overflow-y":"scroll","background-color":"#F6F6F6","font-size":"0.8rem"}},[t._m(0),t._v(" "),s("div",{key:t.contentKey},t._l(1==t.selected?t.listArr:t.listArr.filter(function(t,e){return e<5}),function(e,l){return s("div",{key:l},[s("div",{staticClass:"all",on:{click:function(i){return t.toggle(e)}}},[s("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(e.y)+"年"+t._s(e.m)+"月")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0==e.statu,expression:"item.statu==false"}]},[s("img",{staticStyle:{width:"20px",height:"20px","vertical-align":"middle"},attrs:{src:i("JfLI"),alt:""}})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.statu,expression:"item.statu==true"}]},[s("img",{staticStyle:{width:"20px",height:"20px","vertical-align":"middle"},attrs:{src:i("M2uH"),alt:""}})]),t._v(" "),t.priceAll[e.y+"-"+e.m]?s("span",{staticClass:"money"},[s("span",{staticStyle:{display:"flex","-width":"122px","text-align":"left"}},[t._v("\n            总收入 ¥\n            "),s("span",{staticStyle:{color:"#888"}},[t._v(t._s(t.priceAll[e.y+"-"+e.m]))])]),t._v(" \n        ")]):t._e()]),t._v(" "),s("div",[s("ul",{directives:[{name:"show",rawName:"v-show",value:e.statu,expression:"item.statu"}],key:t.key,staticStyle:{"margin-bottom":"10px"}},[t.currentMounth==t.timeaaa&&t.outBill>0?s("li",{staticClass:"other_box"},[s("span",{staticClass:"li-box",staticStyle:{color:"#FF7D41"},on:{click:function(e){return t.goNotPaid({type:"notPaid"})}}},[s("span",{staticStyle:{display:"inline-block",width:"32%","margin-left":"1rem"}}),t._v(" "),s("span",{staticStyle:{display:"inline-block",width:"30%"}},[t._v("未出账")]),t._v(" "),s("span",{staticStyle:{display:"inline-block",width:"30%"}},[t._v("¥"+t._s(t.outBill))]),t._v(" "),s("img",{staticStyle:{width:"20px",height:"20px",padding:"8px 7px 0px 0px",color:"#000"},attrs:{src:i("JfLI"),alt:""}}),t._v(" \n            ")])]):t._e(),t._v(" "),t._l(t.options[e.y+"-"+e.m],function(e,l){return s("li",{key:l,staticClass:"other_box",on:{click:function(i){return t.goPaid(e,{type:"Paid"})}}},[s("span",{staticClass:"li-box"},[s("span",{staticStyle:{display:"inline-block",width:"32%","margin-left":"1rem"}},[t._v(t._s(e.billStartTime))]),t._v(" "),s("span",{staticStyle:{display:"inline-block",width:"30%",color:"#000"}},[t._v("已出账")]),t._v(" "),s("span",{staticStyle:{display:"inline-block",width:"30%",color:"#000"}},[t._v("¥"+t._s(e.totalPrice))]),t._v(" "),s("img",{staticStyle:{width:"20px",height:"20px",padding:"8px 7px 0px 0px",color:"#000"},attrs:{src:i("JfLI"),alt:""}}),t._v(" \n            ")])])})],2)])])}),0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"status_box"}},[e("span",{staticStyle:{display:"inline-block",width:"30%","-border":"1px solid red","text-align":"left"}},[this._v("账单日")]),this._v(" "),e("span",{staticStyle:{display:"inline-block",width:"8%","-border":"1px solid red"}},[this._v("状态")]),this._v(" "),e("span",{staticStyle:{display:"inline-block",width:"30%","-border":"1px solid red","text-align":"right"}},[this._v("金额")])])}]};var r=i("k6Sl")(n,o,!1,function(t){i("3+QE")},"data-v-ce5b5278",null);e.default=r.exports}});
//# sourceMappingURL=54.3b82706ecfe758d49bb01758781501818.js.map