webpackJsonp([14,33],{BDTM:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABIklEQVQ4T62UjU3DMBSE7yYobJANygZtJ2g3gA1gA7oBo5BOQEZoN2CEMMFVF/khi5CfOrVkRU7iT/fu/RA3LElbABsAfnqf0z6RrI3iEE/Sw5/LT9m/FwDr7NySfJwCHgG8p0sGNLFJtpKUiyHZiRtTWAGoSBrUWzcDgyDJ4D2Ab5Kn7P18hZLs13MyPveuIbkzdJbCpObLoQ4lK7yaC8wTEcwfAKs4lADfALimateWpAOAzyVA+9QkH52Ml9yCEoWGuKj/9bEEaEUOOQrZLXa3kN239vRXbYlC159D9u6tEqD7173bZToV98eSLJ9jFKWSeU3QjlmiMMaS6+9uIQ+O3UmFkpzFaK2YxGNz3O3pFc/41+eWkjzG8+k7Bpv6drkCDde6TuTqRJoAAAAASUVORK5CYII="},IC3K:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s={components:{MyStateToday:e("l9Ch").default},data:function(){return{searchValue:null,refData:null}},watch:{},created:function(){this.$store.commit("setHeader",this.$route.query.cooperationName),this.refData={accountUnitId:this.$route.query.accountUnitId,hotelId:this.$route.query.hotelId,cooperationName:this.$route.query.cooperationName,contact:this.$route.query.contact,phone:this.$route.query.phone}},methods:{goNext:function(t){this.$router.push({path:t,query:{hotelId:this.$route.query.hotelId,accountUnitId:this.$route.query.accountUnitId,cooperationName:this.$route.query.cooperationName}})}}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"agreement_details"}},[e("div",[e("div",{staticClass:"g_flex p10 m10",on:{click:function(o){return t.goNext("/add-unit")}}},[e("div",{staticClass:"g_left"},[t._v(t._s(t.$route.query.cooperationName)+"\n        "),e("div",{staticClass:"g_c_98"},[t._v("联系人："+t._s(t.$route.query.contact)+" "+t._s(t.$route.query.phone))])]),t._v(" "),e("div",{staticClass:"g_c_98"},[t._v("查看详情\n        "),e("van-icon",{staticClass:"g_middle",attrs:{name:"arrow"}})],1)]),t._v(" "),e("div",{staticClass:"g_flex p10",on:{click:function(o){return t.goNext("/agreement-order")}}},[e("div",{},[t._v("查看账单")]),t._v(" "),e("div",{staticClass:"g_left g_c_98"},[t._v("待收款：￥"+t._s(t.$route.query.unpayPrice)+"\n        "),e("van-icon",{staticClass:"g_middle",attrs:{name:"arrow"}})],1)])]),t._v(" "),e("My-stateToday",{attrs:{propsData:t.refData}})],1)},staticRenderFns:[]};var r=e("k6Sl")(s,i,!1,function(t){e("gpMj")},"data-v-5164adf2",null);o.default=r.exports},gpMj:function(t,o){},iFfB:function(t,o){},l9Ch:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=e("HkQL"),i=e.n(s),r=e("NpYV"),n=e("UJbh"),a=e("RmFe"),c=e.n(a),l=e("Gwi0"),u=e("tN5p"),d=e("1Wd6"),m=e("TKTC"),_={data:function(){return{new_list:[],rooms:[],top_rooms:[],show_info:!1,rents:[],roomStatus:[],sorts:[],scales:[],bedInfoAll:[],dome:[],cleaningList:[],rent:"租赁类型",infoBox:"",liveInfo:"",currentRole:"",toDay:"",show_left:!1,domeName:"",leftName:"全部酒店",show_center:!1,center_1:"租赁类型",show_center_2:!1,center_2:"房间状态",show_right:!1,right:"所有房型",a:"",more_box:!1,more:"",password_show:!1,ROLE_MANAGER:!1,ROLE_HOTEL_OWNER:!1,show_pai:!1,show_paiList:!1,pass_phone:"",login_info:null,hotelType:null,cleanType:"",cleanType_label:null,cleanAmount:null,description:null,unixCurrent:null,unixTime:null}},created:function(){var t=this;this.$store.commit("setHeader","实时房态"),this.hotelId=this.$route.query.hotelId,"1"==JSON.parse(localStorage.getItem("current_user")).id?this.ROLE_MANAGER=!0:(this.roles=JSON.parse(localStorage.getItem("roles")),this.roles.some(function(o){return"ROLE_MANAGER"==o.name?t.ROLE_MANAGER=!0:t.ROLE_MANAGER=!1}),"ROLE_HOTEL_OWNER"==this.roles[0].name&&(this.ROLE_HOTEL_OWNER=!0)),this.hotelType=localStorage.getItem("c_hotelType"),this.param={hotelId:this.hotelId},this.topList(),this.getTop(),this.toDay=c()().format("YYYY-MM-DD"),this.a=c()().format("YYYY-MM-DD HH:mm:ss"),this.unixCurrent=c()(this.a).unix()},computed:{computerWidth:function(){return(window.innerWidth-40)/3+"px"}},methods:{getTop:function(){var t=this;Object(n.a)({dictType:"business_order_type"}).done(function(o){t.rents=o.data}),Object(n.a)({dictType:"business_room_status"}).done(function(o){t.roomStatus=o.data}),Object(l._9)(this.hotelId).done(function(o){t.scales=o.data}),Object(n.a)({dictType:"business_cleaning_type"}).done(function(o){t.cleaningList=[],t.cleaningList_old=o.data.filter(function(t){return"hide"!=t.cssClass}),o.data.map(function(o){"hide"!=o.cssClass&&t.cleaningList.push(o.dictLabel)})})},topList:function(){var t=this;if(this.$route.query.accountUnitId){var o={hotelId:this.$route.query.hotelId,accountUnitId:this.$route.query.accountUnitId};Object(m.k)(o).done(function(o){for(var e=o.data.sort(t.objectArraySort("roomSn")).reverse(),s=[],i=[],r=0,n=0,a=0;a<e.length;a++)e[a].endTime&&(e[a].isSameTime=c()(t.toDay).isSame(c()(e[a].endTime.substring(0,10)))),-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==i.indexOf(e[a].floor)&&(i[n]=e[a].floor,n++);var l=[];for(a=0;a<s.length;a++){for(var u=[],d=0,m=0;m<e.length;m++)s[a]==e[m].buildNum&&(u[d]=e[m],d++);for(var _=[],f=0,p=0;p<i.length;p++){var h=[],v=0;for(m=0;m<u.length;m++)u[m].floor==i[p]&&(h[v]=u[m],v++);if(h.length>0){var b={floor:i[p],children:h};_[f]=b,f++}}if((_=_.sort(t.objectArraySort("floor"))).reverse(),_.length>0){var y={buildNum:s[a],sum:u.length,children:_};l[a]=y}}l.sort(t.objectArraySort("buildNum")),t.rooms=l.reverse(),t.top_rooms=l,t.top_rooms=l})}else Object(l._4)(this.param).done(function(o){for(var e=o.data.sort(t.objectArraySort("roomSn")).reverse(),s=[],i=[],r=0,n=0,a=0;a<e.length;a++)e[a].endTime&&(e[a].isSameTime=c()(t.toDay).isSame(c()(e[a].endTime.substring(0,10)))),t.isBeforeTime=c()(e[a].endTime).isBefore(c()()),"2"==e[a].status&&"3"==e[a].roomType&&1==t.isBeforeTime||"2"==e[a].status&&"4"==e[a].roomType&&1==t.isBeforeTime?e[a].show_dao=!0:e[a].show_dao=!1,-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==i.indexOf(e[a].floor)&&(i[n]=e[a].floor,n++);var l=[];for(a=0;a<s.length;a++){for(var u=[],d=0,m=0;m<e.length;m++)s[a]==e[m].buildNum&&(u[d]=e[m],d++);for(var _=[],f=0,p=0;p<i.length;p++){var h=[],v=0;for(m=0;m<u.length;m++)u[m].floor==i[p]&&(h[v]=u[m],v++);if(h.length>0){var b={floor:i[p],children:h};_[f]=b,f++}}if((_=_.sort(t.objectArraySort("floor"))).reverse(),_.length>0){var y={buildNum:s[a],sum:u.length,children:_};l[a]=y}}l=l.sort(t.objectArraySort("buildNum")),t.rooms=l.reverse(),t.top_rooms=l})},goNext:function(){this.$router.push({path:"/room-out",query:{roomId:this.infoBox.id,hotelId:this.$route.query.hotelId}})},goPai:function(){this.show_info=!1,this.cleaningList.length>0&&(this.cleanAmount=null,this.cleanType_label=this.cleaningList_old[0].dictLabel,this.cleanType=this.cleaningList_old[0].dictValue,this.show_pai=!0)},onConfirm:function(t){this.cleanType_label=t,this.cleanType=this.cleaningList_old.find(function(o){return o.dictLabel==t}).dictValue,this.show_paiList=!1},confirmDepart:function(){var t=this;if(!this.cleanAmount)return Object(r.Toast)("请填写保洁费用"),!1;var o={orderRoomId:this.liveInfo.id||0,roomId:this.infoBox.id,cleanType:this.cleanType,cleanAmount:this.cleanAmount,description:this.description};Object(d.i)(o).done(function(o){Object(r.Toast)(o.msg),t.show_pai=!1,t.cleanType=null,t.cleanAmount=null,t.description=null})},changeWatch:function(){this.$router.push({path:"/changeWatch",query:{id:this.more.id,orderId:this.more.orderId}})},eleCharge:function(){this.$router.push({path:"/eleManage",query:{hotelName:this.more.hotel.hotelName,scaleName:this.more.roomScale.scaleName,virscaleName:this.more.virtualRoomScale.scaleName,roomSn:this.more.roomSn,orderRoomId:this.more.id,orderId:this.more.orderId}})},findList:function(){var t=this;Object(l._4)(this.param).done(function(o){"所有房型"!=t.scaleName&&void 0!=t.scaleName&&(o.data=o.data.filter(function(o){return o.roomScale.scaleName==t.scaleName}));for(var e=o.data.sort(t.objectArraySort("roomSn")).reverse(),s=[],i=[],r=0,n=0,a=0;a<e.length;a++)e[a].endTime&&(e[a].isSameTime=c()(t.toDay).isSame(c()(e[a].endTime.substring(0,10)))),t.isBeforeTime=c()(e[a].endTime).isBefore(c()()),"2"==e[a].status&&"3"==e[a].roomType&&1==t.isBeforeTime||"2"==e[a].status&&"4"==e[a].roomType&&1==t.isBeforeTime?e[a].show_dao=!0:e[a].show_dao=!1,-1==s.indexOf(e[a].buildNum)&&(s[r]=e[a].buildNum,r++),-1==i.indexOf(e[a].floor)&&(i[n]=e[a].floor,n++);var l=[];for(a=0;a<s.length;a++){for(var u=[],d=0,m=0;m<e.length;m++)s[a]==e[m].buildNum&&(u[d]=e[m],d++);for(var _=[],f=0,p=0;p<i.length;p++){var h=[],v=0;for(m=0;m<u.length;m++)u[m].floor==i[p]&&(h[v]=u[m],v++);if(h.length>0){var b={floor:i[p],children:h};_[f]=b,f++}}if((_=_.sort(t.objectArraySort("floor"))).reverse(),_.length>0){var y={buildNum:s[a],sum:u.length,children:_};l[a]=y}}l=l.sort(t.objectArraySort("buildNum")),t.rooms=l.reverse()})},objectArraySort:function(t){return function(o,e){var s=o[t],i=e[t];return s<i?1:s>i?-1:0}},btnInfo:function(t){this.infoBox=t,"4"==this.hotelType?this.getBedInfo(this.$route.query.accountUnitId?this.infoBox.roomId:this.infoBox.id):t.cooperId>0?this.getCooperInfo(this.$route.query.accountUnitId?this.infoBox.roomId:this.infoBox.id):(this.liveInfo="",1!=this.infoBox.status&&2!=this.infoBox.status&&3!=this.infoBox.status||this.getInfo(this.$route.query.accountUnitId?this.infoBox.roomId:this.infoBox.id)),this.show_info=!0},getBedInfo:function(t){var o=this;Object(m.l)({roomId:t}).done(function(t){o.bedInfoAll=t.data})},getCooperInfo:function(t){var o=this;Object(u.g)({roomId:t}).done(function(t){o.liveInfo=t.data,o.unixTime=c()(o.liveInfo.next_day).unix()})},getInfo:function(t){var o=this;Object(l.L)(t).done(function(t){var e=new Date(t.data.order.startTime),s=new Date;s.setTime(e.getTime()+864e5);var i=s.getFullYear()<10?"0"+s.getFullYear():s.getFullYear(),r=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,n=s.getDate()<10?"0"+s.getDate():s.getDate();t.data.next_day=i+"-"+r+"-"+n+" 08:00:00",o.liveInfo=t.data,o.unixTime=c()(o.liveInfo.next_day).unix()})},cooperHandleRoom:function(){this.$router.push({path:"/business-handle-room",query:{hotelId:this.$route.query.hotelId}})},cleanRoom:function(){0!=this.infoBox.isRoomCheck?this.cleanRoomUp(this.infoBox.cleanOrderId):this.$router.push({path:"/stateCheck",query:this.infoBox})},cleanRoomUp:function(t){var o=this;this.show_info=!1,Object(l._76)(t).done(function(t){Object(r.Toast)({message:t.msg,duration:900}),o.findList()})},lockRoom:function(){var t=this;this.show_info=!1,r.MessageBox.confirm("",{message:"是否锁房？",title:"提示",cancelButtonText:"否",confirmButtonText:"是"}).then(function(o){"confirm"==o&&Object(l._77)(t.infoBox.id).done(function(o){Object(r.Toast)({message:o.msg,duration:900}),t.findList()})}).catch(function(t){console.log(t)})},LiveRoom:function(){var t=this;this.show_info=!1,Object(l._78)(this.infoBox.id).done(function(o){Object(r.Toast)({message:o.msg,duration:900}),t.findList()})},getMoreList:function(){var t=this;this.show_info=!1,this.liveInfo.id&&Object(l.J)(this.liveInfo.id).done(function(o){t.more=o.data}),this.more_box=!0},goCode:function(){var t=this;Object(l.J)(this.liveInfo.id).done(function(o){t.info={},t.info.scaleName=o.data.roomScale.scaleName,t.info.roomSn=o.data.roomSn,t.info.orderId=o.data.orderId,t.$router.push({path:"/quickLiveOnline",query:{fenfangInfo:t.info}}),localStorage.setItem("fenfangInfo",i()(t.info))})},historyRecord:function(){this.$route.query.accountUnitId?this.$router.push({path:"/rentInfo_long",query:{orderRoomId:this.infoBox.id}}):(this.$router.push({path:"/order",query:{roomId:this.infoBox.id,roomSn:this.infoBox.roomSn}}),localStorage.setItem("history_unRoom",!0))},goDetail:function(){"4"==this.hotelType?this.$router.push({path:"/apartMent",query:{roomId:this.infoBox.id}}):this.liveInfo&&(this.infoBox.cooperId>0||1==this.infoBox.cleanCooper?this.$router.push({path:"/rentInfo_two",query:{roomId:this.infoBox.id,cooperOrderRoomId:this.liveInfo.id,cooperOrderId:this.liveInfo.cooperOrderId,roomSn:this.infoBox.roomSn,scaleName:this.infoBox.roomScale.scaleName}}):3==this.liveInfo.orderType||4==this.liveInfo.orderType?(sessionStorage.removeItem("orderRoomId"),this.$router.push({name:"RentInfo_long",query:{orderRoomId:this.liveInfo.id}})):this.$router.push({name:"Details",query:{orderRoomId:this.liveInfo.id}}))},btnback:function(t,o){if(1!=t.order.orderSource)document.getElementById("plat").style.backgroundColor="grey",document.getElementById("plat").style.color="#fff";else{var e={item:t,num:o};this.$router.push({name:"DealLive",query:e}),localStorage.setItem("orderDetail",i()(e))}},btnAgain:function(){this.more_box=!1,Object(l._59)(this.more.id,{orderId:this.more.orderId}).done(function(t){r.MessageBox.alert("下发密码成功").then(function(t){setTimeout("window.history.go(-1)",500)})})},btnRoomFee:function(){this.$router.push({path:"/roomFee",query:{id:this.more.id,orderId:this.more.orderId}})},btnLifeFee:function(){this.$router.push({path:"/lifeFee",query:{id:this.more.id}})},btnGetInfo:function(){this.more_box=!1,this.password_show=!0,this.more.order.phone&&(this.pass_phone=null==this.more.sysUser?this.more.order.phone:this.more.sysUser.phone)},pass_can:function(){this.password_show=!1},pass_ok:function(){if(!this.pass_phone||!/^1[3-9]\d{9}$/.test(this.pass_phone))return Object(r.Toast)({message:"请正确输入手机号",duration:900}),this.pass_phone="",!1;var t={roomUser:null==this.more.sysUser?this.more.order.roomUser:this.more.sysUser.realName,phone:this.pass_phone,orderId:this.more.orderId};Object(l._65)(this.more.id,t).done(function(t){Object(r.Toast)({message:t.msg,duration:900})}),this.password_show=!1},btnlive:function(t){this.$router.push({name:"DealLive",params:{orderDetail:t}}),localStorage.setItem("orderDetail",i()(t))},btncancel:function(t){var o=this;this.show_info=!1,r.MessageBox.confirm("",{message:"取消订单后，房费和押金将退还顾客，请慎重操作",title:"取消订单",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(e){if("confirm"==e){var s=t.id,i={orderId:t.orderId};Object(l._50)(s,i).done(function(t){Object(r.Toast)({message:t.msg,duration:900}),o.findList()})}}).catch(function(t){console.log(t)})},btnchange:function(t){this.$router.push({path:"/fdchange",query:{orderDetail:t}}),localStorage.setItem("orderDetail",i()(t))},btnamend:function(){var t=this;Object(l.J)(this.liveInfo.id).done(function(o){t.$router.push({name:"Amend",query:{item_amend:o.data}}),localStorage.setItem("item_amend",i()(o.data))})},checkOut:function(){var t=this;this.show_info=!1,3==this.liveInfo.orderType||4==this.liveInfo.orderType?(this.$router.push({path:"/rentCount",query:{rentCount_info:this.liveInfo}}),localStorage.setItem("rentCount_info",i()(this.liveInfo))):r.MessageBox.confirm("",{message:"退房后，将不可恢复，请慎重操作",title:"是否退房",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(o){if("confirm"==o){var e={orderId:t.liveInfo.orderId,orderRoomId:t.liveInfo.id};Object(l._55)(e).done(function(o){Object(r.Toast)({message:o.msg,duration:900}),t.findList()})}}).catch(function(t){console.log(t)})},btnALL:function(){this.show_left=!0},btnRent:function(){this.show_center=!0},btnStatus:function(){this.show_center_2=!0},btnSort:function(){this.show_right=!0},choosed_all:function(t){this.leftName=t,"全部酒店"!=t?this.param.buildNum=t:delete this.param.buildNum,this.show_left=!1,this.findList()},choosed_rent:function(t){"租赁类型"!=t?(this.center_1=t.dictLabel,this.param.roomType=t.dictValue):(this.center_1=t,delete this.param.roomType),this.show_center=!1,this.findList()},choosed_statu:function(t){"房间状态"!=t?(this.center_2=t.dictLabel,this.param.status=t.dictValue):(this.center_2=t,delete this.param.status),this.show_center_2=!1,this.findList()},choosed_scale:function(t){this.right=t,this.scaleName=t,this.show_right=!1,this.findList()}}},f={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("div",{attrs:{id:"top"}},[s("div",{staticClass:"topbox",on:{click:t.btnALL}},[s("div",[t._v("\n        "+t._s("全部酒店"==t.leftName?t.leftName:t.leftName+"栋")+"\n        "),s("img",{attrs:{src:e("dD+a")}})])]),t._v(" "),s("div",{staticClass:"topbox",on:{click:t.btnRent}},[s("div",[t._v("\n        "+t._s(t.center_1)+"\n        "),s("img",{attrs:{src:e("dD+a")}})])]),t._v(" "),s("div",{staticClass:"topbox",on:{click:t.btnStatus}},[s("div",[t._v("\n        "+t._s(t.center_2)+"\n        "),s("img",{attrs:{src:e("dD+a")}})])]),t._v(" "),s("div",{staticClass:"topbox",on:{click:t.btnSort}},[s("div",[t._v("\n        "+t._s(t.right)+"\n        "),s("img",{attrs:{src:e("dD+a")}})])])]),t._v(" "),s("div",{style:{top:t.$route.query.accountUnitId?"225px":"100px"},attrs:{id:"bottom"}},t._l(t.rooms,function(o,i){return s("div",{key:i},[s("div",{staticClass:"buildNum"},[s("p",[t._v("\n          "+t._s("99"!=o.buildNum&&o.buildNum?o.buildNum+"栋":"其他")+"\n          (共"+t._s(o.sum)+"间)\n        ")])]),t._v(" "),t._l(o.children,function(o,i){return s("div",{key:i,staticClass:"floor"},[s("div",[s("p"),t._v(" "),s("p",[t._v(t._s(o.floor+"楼"))]),t._v(" "),s("p")]),t._v(" "),s("div",{staticClass:"room_box"},t._l(o.children,function(o,i){return s("div",{key:i,staticClass:"bigbox"},[s("div",{staticClass:"roomdiv",class:t.$route.query.accountUnitId&&3==o.orderType?"c21":"c"+o.status+("0"==o.isRoomCheck?"0":"1"),on:{click:function(e){return t.btnInfo(o)}}},[s("p",{staticClass:"num"},[s("label",[t._v(t._s(o.roomSn))])]),t._v(" "),s("p",{staticClass:"scalename"},[t._v(t._s(o.roomScale.scaleName))]),t._v(" "),o.cooperId>0||t.$route.query.accountUnitId&&3==o.orderType?s("div",{staticClass:"coop-group"},[s("div",{staticStyle:{background:"#344D88",padding:"1px 4px"}},[o.cooperId>0?s("img",{staticClass:"cooper_img",attrs:{src:e("BDTM")}}):t._e(),t._v(" "),s("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(o.cooperId>0?"协议单位":o.order.price+"元/月"))]),t._v(" "),s("div",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t._f("dataFilter")(o.cooperId>0?o.cooperTime:o.order.endTime))+"到期")])])]):s("div",{staticClass:"imgBox"},[s("div",[2==o.status&&"4"==t.hotelType?s("div",[t._v(t._s(o.bedIn||"0")+"/"+t._s(o.bedNum||"0"))]):t._e(),t._v(" "),3==o.status&&0!=o.isRoomCheck?s("img",{attrs:{src:e("pi7s")}}):t._e(),t._v(" "),3==o.status&&0==o.isRoomCheck?s("img",{attrs:{src:e("0w6M")}}):t._e(),t._v(" "),o.show_dao?s("img",{attrs:{src:e("Oi7W")}}):t._e()]),t._v(" "),s("div",["2"==o.status&&o.isSameTime?s("img",{attrs:{src:e("Q3pm")}}):t._e(),t._v(" "),1==o.status?s("img",{attrs:{src:e("U87x")}}):t._e(),t._v(" "),2==o.status&&"4"!=t.hotelType?s("img",{attrs:{src:e("PkA4")}}):t._e(),t._v(" "),4==o.status?s("img",{attrs:{src:e("CCcR")}}):t._e(),t._v(" "),5==o.status?s("img",{attrs:{src:e("5v8K")}}):t._e(),t._v(" "),2==o.status&&1==o.roomType?s("img",{attrs:{src:e("YI80")}}):t._e(),t._v(" "),2==o.status&&2==o.roomType?s("img",{attrs:{src:e("3M+C")}}):t._e(),t._v(" "),2==o.status&&3==o.roomType||2==o.status&&"4"==t.hotelType?s("img",{attrs:{src:e("05mR")}}):t._e()])])])])}),0)])})],2)}),0),t._v(" "),s("mt-popup",{staticStyle:{"border-radius":"5px",width:"90%","text-align":"left","font-size":"14px",color:"#888"},attrs:{"popup-transition":"popup-fade",position:"center"},model:{value:t.show_info,callback:function(o){t.show_info=o},expression:"show_info"}},[s("div",{attrs:{id:"showbox"}},[s("p",[s("span",[t._v(t._s(t.infoBox.roomSn))]),t._v(" "),s("span",[t._v(t._s(t.infoBox.roomScale?t.infoBox.roomScale.scaleName:""))])]),t._v(" "),t.bedInfoAll.length>0?s("p",{on:{click:t.goDetail}},[s("span",{staticClass:"open_img"},[s("img",{attrs:{src:e("4+oD")}}),t._v(" "),s("span",{staticStyle:{"padding-left":"4px"}},[s("span",{staticStyle:{color:"#02bc1fc4"}},[t._v(t._s(t.infoBox.bedIn||"0"))]),t._v(" "),s("span",[t._v("/"+t._s(t.infoBox.bedNum||"0"))])])]),t._v(" "),s("span",{staticClass:"open_img"},[s("img",{attrs:{src:e("sD9W")}}),t._v(" "),t._l(t.bedInfoAll,function(o,e){return s("span",{key:e,staticStyle:{"padding-left":"4px"}},[s("span",[t._v(t._s(o.order.roomUser)+"；")])])})],2)]):t._e(),t._v(" "),t.infoBox.cooperId>0?s("p",{on:{click:t.goDetail}},[t.liveInfo?s("span",[s("img",{attrs:{src:e("8fBQ")}}),s("span",{staticStyle:{"padding-left":"4px"}},[t._v(t._s(t.liveInfo.cooperOrder?t.liveInfo.cooperOrder.roomUser:""))])]):t._e(),s("br"),t._v(" "),s("span",[3==t.liveInfo.orderType?s("span",[s("span",[t._v(t._s(t.liveInfo.cooperOrder.startTime.substr(5,5))+" 至 "+t._s(t.liveInfo.cooperOrder.endTime.substr(5,5)))]),t._v(" "),s("span",[t._v("共"+t._s(12*(t.liveInfo.cooperOrder.endTime.substr(0,4)-t.liveInfo.cooperOrder.startTime.substr(0,4))+(t.liveInfo.cooperOrder.endTime.substr(5,2)-t.liveInfo.cooperOrder.startTime.substr(5,2)))+"月")])]):t._e(),t._v(" "),s("span",[t._v("房费:¥"+t._s(t._f("point")(t.liveInfo.roomRealAmount)))])])]):s("p",{staticClass:"bottomBox",on:{click:t.goDetail}},[t.liveInfo?s("span",[1==t.infoBox.roomType?s("img",{attrs:{src:e("2llB")}}):t._e(),t._v(" "),2==t.infoBox.roomType?s("img",{attrs:{src:e("w4cF")}}):t._e(),t._v(" "),3==t.infoBox.roomType&&t.infoBox.cooperId<=0?s("img",{attrs:{src:e("Metz")}}):t._e(),t._v(" "),3==t.liveInfo.orderType?s("span",[s("span",[t._v(t._s(t.liveInfo.order.startTime.substr(5,5))+" 至 "+t._s(t.liveInfo.order.endTime.substr(5,5)))]),t._v(" "),s("span",[t._v("共"+t._s(12*(t.liveInfo.order.endTime.substr(0,4)-t.liveInfo.order.startTime.substr(0,4))+(t.liveInfo.order.endTime.substr(5,2)-t.liveInfo.order.startTime.substr(5,2)))+"月")])]):s("span",[t._v(t._s(t.liveInfo.order.startTime.substr(5,5))+"至"+t._s(t.liveInfo.order.endTime.substr(5,5))+"  共"+t._s(t.liveInfo.order.diffDay)+t._s(2==t.liveInfo.orderType?"小时":"晚"))]),t._v(" "),s("span",[t._v("房费:¥"+t._s(3==t.liveInfo.orderType||4==t.liveInfo.orderType?t.liveInfo.order.price:1==t.liveInfo.conRoom||1==t.liveInfo.isCon?t.liveInfo.roomRealAmount:(t.liveInfo.roomPrice-t.liveInfo.deposit).toFixed(2)))])]):t._e(),t._v(" "),3==t.infoBox.status&&0!=t.infoBox.isRoomCheck?s("span",{staticClass:"cleaning"},[1==t.infoBox.roomType?s("img",{attrs:{src:e("nBqX")}}):t._e(),t._v(" "),s("span",[t._v("房间需要清洁，清洁完成后才能分房")])]):t._e(),t._v(" "),3==t.infoBox.status&&0==t.infoBox.isRoomCheck?s("span",{staticClass:"cleaning"},[1==t.infoBox.roomType?s("img",{attrs:{src:e("nQHL")}}):t._e(),t._v(" "),s("span",[t._v("顾客正在等待您退押，请完成查房")])]):t._e(),t._v(" "),t.liveInfo?s("label",[s("img",{attrs:{src:e("sD9W")}}),t._v(" "),"1"==t.liveInfo.order.orderSource?s("span",[t._v(t._s(null!=t.liveInfo.sysUser?t.liveInfo.sysUser.realName:t.liveInfo.order.roomUser))]):s("span",[t._v(t._s(t.liveInfo.order.roomUser?t.liveInfo.order.roomUser:"未录入"))])]):t._e()]),t._v(" "),t.bedInfoAll.length>0?s("div"):t.infoBox.cooperId>0?s("div"):s("div",[t.infoBox.status>1||t.$route.query.accountUnitId>0?s("mt-button",{staticClass:"boxBottom",on:{click:t.goDetail}},[t._v("查看订单")]):t._e(),t._v(" "),0==t.bedInfoAll.length?s("mt-button",{staticClass:"boxBottom",on:{click:t.getMoreList}},[t._v("更多操作")]):t._e()],1)])]),t._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.show_left,callback:function(o){t.show_left=o},expression:"show_left"}},[s("div",{staticClass:"type_box",on:{click:function(o){return t.choosed_all("全部酒店")}}},[t._v("全部酒店")]),t._v(" "),t._l(t.top_rooms.filter(function(t){return t.buildNum}),function(o,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return t.choosed_all(o.buildNum)}}},[s("span",[t._v(t._s(o.buildNum+"栋"))])])})],2),t._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.show_center,callback:function(o){t.show_center=o},expression:"show_center"}},[s("div",{staticClass:"type_box",on:{click:function(o){return t.choosed_rent("租赁类型")}}},[t._v("租赁类型")]),t._v(" "),t._l(t.rents,function(o,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return t.choosed_rent(o)}}},[s("span",[t._v(t._s(o.dictLabel))])])})],2),t._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.show_center_2,callback:function(o){t.show_center_2=o},expression:"show_center_2"}},[s("div",{staticClass:"type_box",on:{click:function(o){return t.choosed_statu("房间状态")}}},[t._v("房间状态")]),t._v(" "),t._l(t.roomStatus,function(o,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return t.choosed_statu(o)}}},[s("span",[t._v(t._s(o.dictLabel))])])})],2),t._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.show_right,callback:function(o){t.show_right=o},expression:"show_right"}},[s("div",{staticClass:"type_box",on:{click:function(o){return t.choosed_scale("所有房型")}}},[t._v("所有房型")]),t._v(" "),t._l(t.scales,function(o,e){return s("div",{key:e,staticClass:"type_box",on:{click:function(e){return t.choosed_scale(o.scaleName)}}},[s("span",[t._v(t._s(o.scaleName))])])})],2),t._v(" "),s("mt-popup",{staticStyle:{width:"90%","font-size":"15px",color:"#000"},attrs:{position:"center"},model:{value:t.show_pai,callback:function(o){t.show_pai=o},expression:"show_pai"}},[s("div",{staticStyle:{"font-weight":"bold","font-size":"16px",padding:"15px"}},[t._v("保洁派单")]),t._v(" "),s("div",{staticClass:"pd_flex p8",on:{click:function(o){t.show_paiList=!0}}},[s("div",{staticClass:"w30"},[t._v("保洁类型：")]),t._v(" \n      "),s("div",{staticClass:"pd_flex w60"},[t._v("\n        "+t._s(t.cleanType_label)+"\n        "),s("van-icon",{attrs:{name:"arrow-down"}})],1)]),t._v(" "),s("div",{staticClass:"pd_flex p8"},[s("div",{staticClass:"w30"},[t._v("保洁费用：")]),t._v(" \n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cleanAmount,expression:"cleanAmount"}],staticClass:"w60",attrs:{type:"number"},domProps:{value:t.cleanAmount},on:{input:function(o){o.target.composing||(t.cleanAmount=o.target.value)}}})]),t._v(" "),s("div",{staticClass:"pd_flex p8"},[s("div",{staticClass:"w30"},[t._v("备注：")]),t._v(" \n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"w60",domProps:{value:t.description},on:{input:function(o){o.target.composing||(t.description=o.target.value)}}})]),t._v(" "),s("div",{staticClass:"box bottom_pass",staticStyle:{"border-radius":"0 0 15px 15px","line-height":"35px"}},[s("div",{staticClass:"pass_can",staticStyle:{"border-radius":"0 0 0 15px"},on:{click:function(o){t.cleanAmount=null,t.description=null,t.show_pai=!1}}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"pass_ok",staticStyle:{"border-radius":"0 0 15px 0"},on:{click:t.confirmDepart}},[t._v("确定")])])]),t._v(" "),s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.show_paiList,callback:function(o){t.show_paiList=o},expression:"show_paiList"}},[s("van-picker",{attrs:{title:"保洁派单","show-toolbar":"",columns:t.cleaningList},on:{confirm:t.onConfirm,cancel:function(o){t.show_paiList=!1}}})],1),t._v(" "),s("mt-popup",{staticClass:"pass_box",attrs:{position:"center"},model:{value:t.password_show,callback:function(o){t.password_show=o},expression:"password_show"}},[s("p",{staticClass:"p_pass"},[t._v("请确认下发密码至该手机？")]),t._v(" "),s("div",{staticClass:"pass_show"},[s("div",[t._v("电话：")]),t._v(" \n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pass_phone,expression:"pass_phone"}],domProps:{value:t.pass_phone},on:{input:function(o){o.target.composing||(t.pass_phone=o.target.value)}}})]),t._v(" "),s("div",{staticClass:"box bottom_pass"},[s("div",{staticClass:"pass_can",on:{click:t.pass_can}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"pass_ok",on:{click:t.pass_ok}},[t._v("确定")])])]),t._v(" "),t.infoBox.cooperId>0?s("mt-popup",{model:{value:t.more_box,callback:function(o){t.more_box=o},expression:"more_box"}},[t._v("111111111111111")]):s("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.more_box,callback:function(o){t.more_box=o},expression:"more_box"}},[0==t.more.isCon&&t.more.roomSn&&1==t.more.status&&3!=t.more.orderType||1==t.more.status&&0==t.more.isCon&&t.more.roomSn&&3!=t.more.orderType||2==t.more.status&&3!=t.more.orderType||2==t.more.status||t.more.roomSn&&1==t.more.status&&3==t.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.btnamend}},[t._v("换房")]):t._e(),t._v(" "),4==t.infoBox.status||5==t.infoBox.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.LiveRoom}},[t._v("上线")]):t._e(),t._v(" "),1==t.ROLE_MANAGER&&1==t.infoBox.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.lockRoom}},[t._v("锁房")]):t._e(),t._v(" "),1==t.more.status&&3==t.more.orderType||2==t.more.status&&3==t.more.orderType||1==t.more.status&&4==t.more.orderType||2==t.more.status&&4==t.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.changeWatch}},[t._v("换表")]):t._e(),t._v(" "),t.more.roomSn||1!=t.more.status||"3"==t.more.orderType?t._e():s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(o){return t.btnchange(t.more)}}},[t._v("换房型")]),t._v(" "),1==t.liveInfo.status&&3==t.liveInfo.order.orderAddSource&&0==t.liveInfo.order.payment||2==t.liveInfo.status&&3==t.liveInfo.order.orderAddSource&&0==t.liveInfo.order.payment||1==t.liveInfo.status&&3==t.liveInfo.order.orderAddSource&&0==t.liveInfo.order.payment||2==t.liveInfo.status&&3==t.liveInfo.order.orderAddSource&&0==t.liveInfo.order.payment?s("mt-button",{staticClass:"button_box",on:{click:t.goCode}},[t._v("收款码")]):t._e(),t._v(" "),1==t.more.status||2==t.more.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(o){return t.checkOut(t.more)}}},[t._v(t._s(3!=t.more.orderType?"提前退房":"退租"))]):t._e(),t._v(" "),s("mt-button",{staticClass:"button_box",on:{click:t.historyRecord}},[t._v("历史记录")]),t._v(" "),0==t.bedInfoAll.length?s("mt-button",{staticClass:"button_box",on:{click:t.goNext}},[t._v("房间收支")]):t._e(),t._v(" "),0==t.bedInfoAll.length?s("mt-button",{staticClass:"button_box",on:{click:t.goPai}},[t._v("保洁派单")]):t._e(),t._v(" "),3==t.infoBox.status?s("mt-button",{staticClass:"button_box",on:{click:t.cleanRoom}},[t._v(t._s(0!=t.infoBox.isRoomCheck?"打扫完成":"开始查房"))]):t._e(),t._v(" "),1==t.more.status&&t.more.roomSn&&2!==t.more.orderType&&1==t.more.order.orderSource||2==t.more.status&&t.more.roomSn&&2!==t.more.orderType&&1==t.more.order.orderSource?s("mt-button",{staticClass:"button_box",attrs:{id:"plat"},on:{click:function(o){return t.btnback(t.more,9)}}},[t._v("房费优惠")]):t._e(),t._v(" "),1==t.more.status&&null==t.more.roomSn?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(o){return t.btnlive(t.more)}}},[t._v("办理入住")]):t._e(),t._v(" "),t.liveInfo.roomSn&&1==t.liveInfo.status&&t.unixCurrent<t.unixTime&&0==t.liveInfo.isCon&&"1"==t.liveInfo.order.orderSource&&1!=t.liveInfo.conRoom||1==t.liveInfo.status&&0!=t.liveInfo.isCon&&t.unixCurrent<t.unixTime&&"1"==t.liveInfo.order.orderSource&&1!=t.liveInfo.conRoom?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(o){return t.btncancel(t.liveInfo)}}},[s("span",[t._v("取消订单")])]):t._e(),t._v(" "),1==t.liveInfo.status&&0==t.liveInfo.isCon&&t.unixCurrent<t.unixTime&&"1"!=t.liveInfo.order.orderSource&&1!=t.liveInfo.conRoom||1==t.liveInfo.status&&0!=t.liveInfo.isCon&&t.unixCurrent<t.unixTime&&"1"!=t.liveInfo.order.orderSource&&1!=t.liveInfo.conRoom||1==t.liveInfo.status&&null==t.liveInfo.roomSn&&t.unixCurrent<t.unixTime&&"1"!=t.liveInfo.order.orderSource&&1!=t.liveInfo.conRoom?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(o){return t.btncancel(t.liveInfo)}}},[s("span",[t._v("取消订单")])]):t._e(),t._v(" "),1==t.more.status&&4==t.more.orderType||2==t.more.status&&4==t.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.btnRoomFee}},[t._v("房费账单")]):t._e(),t._v(" "),1==t.more.status&&4==t.more.orderType||2==t.more.status&&4==t.more.orderType?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.btnLifeFee}},[t._v("生活账单")]):t._e(),t._v(" "),1==t.more.status&&3==t.more.orderType&&1==t.more.elecPayModel||2==t.more.status&&3==t.more.orderType&&1==t.more.elecPayModel||1==t.more.status&&4==t.more.orderType&&1==t.more.elecPayModel||2==t.more.status&&4==t.more.orderType&&1==t.more.elecPayModel?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.eleCharge}},[t._v("电费充值")]):t._e(),t._v(" "),t.infoBox.status>1?s("mt-button",{staticClass:"button_box",on:{click:t.goDetail}},[t._v("查看订单详情")]):t._e(),t._v(" "),1==t.more.status&&t.more.roomSn&&t.more.password&&t.more.order.payment>=5||2==t.more.status&&t.more.roomSn&&t.more.password&&t.more.order.payment>=5?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.btnGetInfo}},[t._v("重新下发短信")]):t._e(),t._v(" "),t.more.roomSn&&1==t.more.status||t.more.roomSn&&2==t.more.status?s("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:t.btnAgain}},[t._v("重新下发密码到锁")]):t._e()],1)],1)},staticRenderFns:[]};var p=e("k6Sl")(_,f,!1,function(t){e("iFfB")},"data-v-6357ff14",null);o.default=p.exports}});
//# sourceMappingURL=14.96b3f1188b8b42c453d71758781501818.js.map