{"version":3,"sources":["webpack:///src/components/Order/rentCount_two.vue","webpack:///./src/components/Order/rentCount_two.vue?a153","webpack:///./src/components/Order/rentCount_two.vue"],"names":["rentCount_two","data","info","lifeCostBills","cooperLifeCostBills","rentalBills","cooperRentalBills","deposit","depositReason","payCount","currenTime","dayjs_min_default","format","input_deposit","remainElecAmount","lifeStatus","result","newData","newOrder","created","this","$store","commit","$route","query","cooperOrderRoomId","getCooperRentCount","JSON","parse","localStorage","getItem","getRentCount","watch","neww","oldd","Object","mint_ui_common","message","duration","methods","clearNoNum","value","toString","replace","indexOf","parseFloat","_this","api_business_hotel_and_scale","id","done","res","getDeal","_this2","api_business","order","lifeCount","i","length","totalPrice","set_round","set_length","rentCount","payStatus","roomPrice","toFixed","goLife","item","_this3","waterPrice","elecPrice","gasPrice","es","confirm","then","$router","push","path","cooperLifeCostBillId","catch","preWaterDegree","preElecDegree","preGasDegree","removeItem","lifeCostBillId","goRoom","cooperRentalBillId","rentalBillId","rent","_this4","title","cancelButtonText","confirmButtonText","action","obj","orderRoomId","orderId","cooperOrderId","depositCut","depositCutReason","msg","setTimeout","e","console","log","Order_rentCount_two","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","roomSn","roomScale","scaleName","_f","cooperOrder","endTime","_e","staticStyle","overflow-y","height","_l","key","width","padding","border","startTime","on","click","$event","attrs","src","__webpack_require__","alt","status","directives","name","rawName","expression","type","placeholder","domProps","keyup","input","target","composing","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/86.a38545f26f434fd24bcc1758771190591.js","sourcesContent":["<template>\n  <section\n    class=\"f16 c000\"\n    v-if=\"newData\"\n  >\n    <div class=\"all\">\n      <p>房间信息</p>\n      <p v-if=\"!$route.query.cooperOrderRoomId\">{{ newData?newData.roomScale.scaleName?newData.roomScale.scaleName:'':\"\" }}-{{ newData.roomSn }}</p>\n      <p v-else>{{ newData.roomSn }}</p>\n    </div>\n    <div class=\"all\">\n      <p>合约到期</p>\n      <p v-if=\"!$route.query.cooperOrderRoomId\">{{ newData.order.endTime | dataFilter }}</p>\n      <p v-else>{{ newData.cooperOrder.endTime | dataFilter }}</p>\n    </div>\n    <div class=\"all\">\n      <p>退租日期</p>\n      <p>{{ currenTime }}</p>\n    </div>\n    <div\n      class=\"all t10\"\n      v-if=\"remainElecAmount\"\n    >\n      <p>剩余电费</p>\n      <p>{{ remainElecAmount }}</p>\n    </div>\n    <div\n      class=\"all t10\"\n      v-if=\"payCount\"\n    >\n      <p>未缴费账单</p>\n      <div class=\"payCount\">{{ payCount }}</div>\n    </div>\n    <!-- 房费 -->\n    <div style=\"overflow-y: scroll;height: calc(100vh - 300px);\">\n      <div\n        class=\"all\"\n        v-for=\"item in !$route.query.cooperOrderRoomId?rentalBills:cooperRentalBills\"\n        :key=\"item.id\"\n      >\n        <div class=\"noPay\">\n          <p\n            class=\"all\"\n            style=\"width:40%;padding:0;border:0;\"\n          >\n            <span>{{ item.startTime | dataFilter('MM-DD') }}至{{ item.endTime | dataFilter('MM-DD') }}</span>\n            <span class=\"money\">租金</span>\n          </p>\n          <div\n            class=\"right\"\n            @click=\"goRoom(item)\"\n          >\n            <p>{{ item.roomPrice }}</p>\n            <img\n              src=\"../../assets/right.png\"\n              class=\"img\"\n              alt\n            />\n          </div>\n        </div>\n      </div>\n      <!-- 生活账单-未抄表/未支付 -->\n      <div\n        class=\"all\"\n        v-for=\"(item,i) in lifeCostBills\"\n        :key=\"i\"\n      >\n        <div class=\"noPay\">\n          <p\n            class=\"all\"\n            style=\"width:40%;padding:0;border:0;\"\n          >\n            <span>{{ item.startTime | dataFilter('MM-DD') }}至{{ item.endTime | dataFilter('MM-DD') }}</span>\n            <span class=\"life\">生活</span>\n          </p>\n          <p\n            v-if=\"item.status == 0\"\n            class=\"cf00\"\n            @click=\"goLife(lifeCostBills.length,i,item)\"\n          >去抄表</p>\n          <div\n            v-else\n            class=\"right\"\n            @click=\"goLife(lifeCostBills.length,i,item)\"\n          >\n            <p>{{ item.totalPrice }}</p>\n            <img\n              src=\"../../assets/right.png\"\n              class=\"img\"\n              alt\n            />\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"all t10\"\n        v-if=\"deposit\"\n      >\n        <p>\n          扣除押金\n          <span class=\"c\">(&yen;{{ deposit }})</span>\n        </p>\n        <input\n          type=\"number\"\n          @keyup='clearNoNum(input_deposit)'\n          placeholder=\"请输入扣押金额\"\n          v-model=\"input_deposit\"\n        /><span>元</span>\n      </div>\n      <div\n        class=\"all\"\n        v-if=\"deposit\"\n      >\n        <p>扣除押金原因&emsp;</p>\n        <input\n          type=\"text\"\n          placeholder=\"请输入扣押金额原因\"\n          v-model=\"depositReason\"\n        />\n      </div>\n    </div>\n    <mt-button\n      type=\"primary\"\n      id=\"bg\"\n      @click=\"rent\"\n    >退租</mt-button>\n  </section>\n</template>\n<script>\nimport { MessageBox, Toast } from 'mint-ui';\nimport { Dialog } from 'vant';\nimport '@/assets/styles/global.css';\nimport { GetBusinessOrderroomLeaveinfo, PostBusinessOrderroomLeave } from '@/api/api_business_hotel_and_scale';\nimport { GetBusinessCooperOrderroomLeaveInfo, PostBusinessCooperOrderroomLeave } from '@/api/api_business';\nimport dayjs from 'dayjs';\nexport default {\n    data() {\n        return {\n            info: '',\n            lifeCostBills: [],\n            cooperLifeCostBills: [],\n            rentalBills: [],\n            cooperRentalBills: [],\n            deposit: '',\n            depositReason: '',\n            payCount: '',\n            currenTime: dayjs().format('YYYY-MM-DD'),\n            input_deposit: '',\n            remainElecAmount: '',\n            lifeStatus: [],\n            result: '',\n            newData: '',\n            newOrder: ''\n        };\n    },\n    created() {\n        this.$store.commit('setHeader', '退租结算');\n        if (this.$route.query.cooperOrderRoomId) {\n            this.getCooperRentCount(this.$route.query.cooperOrderRoomId);\n        } else {\n            this.info = JSON.parse(localStorage.getItem('rentCount_info'));\n            this.getRentCount();\n        }\n    },\n    watch: {\n        input_deposit(neww, oldd) {\n            if (neww > this.deposit) {\n                Toast({\n                    message: `不能超过${this.deposit}元`,\n                    duration: 900\n                });\n                this.input_deposit = '';\n            }\n        }\n    },\n    methods: {\n        // 匹配\n        clearNoNum(value) {\n            value = value.toString();\n            value = value.replace(/[^\\d.]/g, ''); //清除“数字”和“.”以外的字符\n            value = value.replace(/\\.{2,}/g, '.'); //只保留第一个. 清除多余的\n            value = value.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.');\n            value = value.replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/, '$1$2.$3'); //只能输入两个小数\n            if (value.indexOf('.') < 0 && value != '') {\n                //以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额\n                value = parseFloat(value);\n            }\n            this.input_deposit = value;\n        },\n        // 获取退房详细信息\n        getRentCount() {\n            GetBusinessOrderroomLeaveinfo(this.info.id).done((res) => {\n                this.getDeal(res);\n            });\n        },\n        // 获取单位订单退房详细信息\n        getCooperRentCount(id) {\n            GetBusinessCooperOrderroomLeaveInfo({ cooperOrderRoomId: id }).done((res) => {\n                this.getDeal(res);\n            });\n        },\n        // 处理数据\n        getDeal(result) {\n            this.newData = result.data;\n            this.deposit = result.data.deposit;\n            this.remainElecAmount = result.data.remainElecAmount;\n            this.lifeCostBills = result.order.lifeCostBills;\n            this.lifeCount = 0;\n            // 未抄表\n            for (var i = 0; i < this.lifeCostBills.length; i++) {\n                this.lifeCount += this.lifeCostBills[i].totalPrice;\n                this.lifeCostBills[i].set_round = i;\n                this.lifeCostBills[i].set_length = this.lifeCostBills.length;\n            }\n            this.newOrder = result.order;\n            this.rentCount = 0;\n            if (this.$route.query.cooperOrderRoomId) {\n                this.cooperRentalBills = result.order.cooperRentalBills;\n                for (var i = 0; i < this.cooperRentalBills.length; i++) {\n                    if (this.cooperRentalBills[i].payStatus == 0) {\n                        this.rentCount += this.cooperRentalBills[i].roomPrice;\n                    }\n                }\n            } else {\n                this.rentalBills = result.order.rentalBills;\n                for (var i = 0; i < this.rentalBills.length; i++) {\n                    if (this.rentalBills[i].payStatus == 0) {\n                        this.rentCount += this.rentalBills[i].roomPrice;\n                    }\n                }\n            }\n            this.payCount = (this.lifeCount + this.rentCount).toFixed(2);\n        },\n        // 跳转-生活账单\n        goLife(length, i, item) {\n            if (this.$route.query.cooperOrderRoomId) {\n                if (item.waterPrice == null || item.elecPrice == null || item.gasPrice == null) {\n                    Dialog.confirm({\n                        message: '存在未设置价格，是否跳转设置'\n                    })\n                        .then(() => {\n                            this.$router.push({\n                                path: '/business-pay-set',\n                                query: {\n                                    cooperLifeCostBillId: item.cooperLifeCostBillId\n                                }\n                            });\n                        })\n                        .catch(() => {});\n                    return;\n                }\n                if ((item.waterPrice > 0 && item.preWaterDegree == null) || (item.elecPrice > 0 && item.preElecDegree == null) || (item.gasPrice > 0 && item.preGasDegree == null)) {\n                    Dialog.confirm({\n                        message: '存在未设置初始读数，是否跳转设置'\n                    })\n                        .then(() => {\n                            this.$router.push({\n                                path: '/business-pay-set',\n                                query: {\n                                    cooperLifeCostBillId: item.cooperLifeCostBillId\n                                }\n                            });\n                        })\n                        .catch(() => {});\n                } else {\n                    // 清空未超表生活账单信息\n                    localStorage.removeItem('life_fee');\n                    this.$router.push({\n                        path: '/lifeFeetrans',\n                        query: {\n                            lifeCostBillId: item.id,\n                            set_length: length,\n                            set_round: i\n                        }\n                    });\n                }\n            } else {\n                // 清空未超表生活账单信息\n                localStorage.removeItem('life_fee');\n                this.$router.push({\n                    path: '/lifeFeetrans',\n                    query: {\n                        lifeCostBillId: item.id,\n                        set_length: length,\n                        set_round: i\n                    }\n                });\n            }\n        },\n        // 跳转-房费账单\n        goRoom(item) {\n            if (this.$route.query.cooperOrderRoomId) {\n                this.$router.push({\n                    path: '/roomFeeD',\n                    query: {\n                        cooperRentalBillId: item.id\n                    }\n                });\n            } else {\n                this.$router.push({\n                    path: '/roomFeeD',\n                    query: {\n                        rentalBillId: item.id\n                    }\n                });\n            }\n        },\n        // 单位订单房间退房/退租\n        rent() {\n            MessageBox.confirm('', {\n                message: '退租后剩余租房押金将退回给租客，请谨慎操作！',\n                title: '确定退租？',\n                cancelButtonText: '取消',\n                confirmButtonText: '确定'\n            })\n                .then((action) => {\n                    if (action == 'confirm') {\n                        if (this.$route.query.cooperOrderRoomId) {\n                            let obj = {\n                                orderRoomId: this.newData.id,\n                                orderId: this.newData.cooperOrderId,\n                                depositCut: this.input_deposit,\n                                depositCutReason: this.depositReason\n                            };\n                            PostBusinessCooperOrderroomLeave(obj).done((res) => {\n                                Toast({\n                                    message: res.msg,\n                                    duration: 900\n                                });\n                                setTimeout('window.history.go(-1)', 900);\n                            });\n                        } else {\n                            let data = {\n                                orderRoomId: this.info.id,\n                                orderId: this.info.orderId,\n                                depositCut: this.input_deposit,\n                                depositCutReason: this.depositReason\n                            };\n                            PostBusinessOrderroomLeave(data).done((res) => {\n                                Toast({\n                                    message: res.msg,\n                                    duration: 900\n                                });\n                                setTimeout('window.history.go(-1)', 900);\n                            });\n                        }\n                    }\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        }\n    }\n};\n</script>\n<style scoped>\n.noPay {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n}\n.cf00 {\n    color: #ff1d1d;\n    border: 1px solid #ff1d1d;\n    border-radius: 4px;\n    width: 16%;\n}\n.life {\n    display: inline-block;\n    background: #02bc6c;\n    color: #fff;\n    width: 30%;\n    border-radius: 5px;\n    font-size: 0.5rem;\n    line-height: 22px;\n}\n.money {\n    display: inline-block;\n    background: #ff7d41;\n    color: #fff;\n    width: 30%;\n    border-radius: 5px;\n    font-size: 0.5rem;\n    line-height: 22px;\n}\n.right {\n    display: flex;\n    color: #6a6a6a;\n}\n.right > .img {\n    width: 16px;\n    height: 16px;\n}\ninput {\n    border: 0;\n    outline: none;\n    text-align: right;\n}\n.c {\n    color: #ccc;\n}\n.payCount {\n    color: #ff1d1d;\n}\n::-webkit-input-placeholder {\n    color: #ccc;\n}\n:-moz-placeholder {\n    color: #ccc;\n}\n::-moz-placeholder {\n    color: #ccc;\n}\n:-ms-input-placeholder {\n    color: #ccc;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Order/rentCount_two.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.newData)?_c('section',{staticClass:\"f16 c000\"},[_c('div',{staticClass:\"all\"},[_c('p',[_vm._v(\"房间信息\")]),_vm._v(\" \"),(!_vm.$route.query.cooperOrderRoomId)?_c('p',[_vm._v(_vm._s(_vm.newData?_vm.newData.roomScale.scaleName?_vm.newData.roomScale.scaleName:'':\"\")+\"-\"+_vm._s(_vm.newData.roomSn))]):_c('p',[_vm._v(_vm._s(_vm.newData.roomSn))])]),_vm._v(\" \"),_c('div',{staticClass:\"all\"},[_c('p',[_vm._v(\"合约到期\")]),_vm._v(\" \"),(!_vm.$route.query.cooperOrderRoomId)?_c('p',[_vm._v(_vm._s(_vm._f(\"dataFilter\")(_vm.newData.order.endTime)))]):_c('p',[_vm._v(_vm._s(_vm._f(\"dataFilter\")(_vm.newData.cooperOrder.endTime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"all\"},[_c('p',[_vm._v(\"退租日期\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currenTime))])]),_vm._v(\" \"),(_vm.remainElecAmount)?_c('div',{staticClass:\"all t10\"},[_c('p',[_vm._v(\"剩余电费\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.remainElecAmount))])]):_vm._e(),_vm._v(\" \"),(_vm.payCount)?_c('div',{staticClass:\"all t10\"},[_c('p',[_vm._v(\"未缴费账单\")]),_vm._v(\" \"),_c('div',{staticClass:\"payCount\"},[_vm._v(_vm._s(_vm.payCount))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"overflow-y\":\"scroll\",\"height\":\"calc(100vh - 300px)\"}},[_vm._l((!_vm.$route.query.cooperOrderRoomId?_vm.rentalBills:_vm.cooperRentalBills),function(item){return _c('div',{key:item.id,staticClass:\"all\"},[_c('div',{staticClass:\"noPay\"},[_c('p',{staticClass:\"all\",staticStyle:{\"width\":\"40%\",\"padding\":\"0\",\"border\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"dataFilter\")(item.startTime,'MM-DD'))+\"至\"+_vm._s(_vm._f(\"dataFilter\")(item.endTime,'MM-DD')))]),_vm._v(\" \"),_c('span',{staticClass:\"money\"},[_vm._v(\"租金\")])]),_vm._v(\" \"),_c('div',{staticClass:\"right\",on:{\"click\":function($event){return _vm.goRoom(item)}}},[_c('p',[_vm._v(_vm._s(item.roomPrice))]),_vm._v(\" \"),_c('img',{staticClass:\"img\",attrs:{\"src\":require(\"../../assets/right.png\"),\"alt\":\"\"}})])])])}),_vm._v(\" \"),_vm._l((_vm.lifeCostBills),function(item,i){return _c('div',{key:i,staticClass:\"all\"},[_c('div',{staticClass:\"noPay\"},[_c('p',{staticClass:\"all\",staticStyle:{\"width\":\"40%\",\"padding\":\"0\",\"border\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"dataFilter\")(item.startTime,'MM-DD'))+\"至\"+_vm._s(_vm._f(\"dataFilter\")(item.endTime,'MM-DD')))]),_vm._v(\" \"),_c('span',{staticClass:\"life\"},[_vm._v(\"生活\")])]),_vm._v(\" \"),(item.status == 0)?_c('p',{staticClass:\"cf00\",on:{\"click\":function($event){return _vm.goLife(_vm.lifeCostBills.length,i,item)}}},[_vm._v(\"去抄表\")]):_c('div',{staticClass:\"right\",on:{\"click\":function($event){return _vm.goLife(_vm.lifeCostBills.length,i,item)}}},[_c('p',[_vm._v(_vm._s(item.totalPrice))]),_vm._v(\" \"),_c('img',{staticClass:\"img\",attrs:{\"src\":require(\"../../assets/right.png\"),\"alt\":\"\"}})])])])}),_vm._v(\" \"),(_vm.deposit)?_c('div',{staticClass:\"all t10\"},[_c('p',[_vm._v(\"\\n        扣除押金\\n        \"),_c('span',{staticClass:\"c\"},[_vm._v(\"(¥\"+_vm._s(_vm.deposit)+\")\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input_deposit),expression:\"input_deposit\"}],attrs:{\"type\":\"number\",\"placeholder\":\"请输入扣押金额\"},domProps:{\"value\":(_vm.input_deposit)},on:{\"keyup\":function($event){return _vm.clearNoNum(_vm.input_deposit)},\"input\":function($event){if($event.target.composing){ return; }_vm.input_deposit=$event.target.value}}}),_c('span',[_vm._v(\"元\")])]):_vm._e(),_vm._v(\" \"),(_vm.deposit)?_c('div',{staticClass:\"all\"},[_c('p',[_vm._v(\"扣除押金原因 \")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.depositReason),expression:\"depositReason\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入扣押金额原因\"},domProps:{\"value\":(_vm.depositReason)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.depositReason=$event.target.value}}})]):_vm._e()],2),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"primary\",\"id\":\"bg\"},on:{\"click\":_vm.rent}},[_vm._v(\"退租\")])],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64e7e54a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Order/rentCount_two.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.pnpm/extract-text-webpack-plugin@3.0.2_webpack@3.12.0/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64e7e54a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=styles&index=0!./rentCount_two.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./rentCount_two.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./rentCount_two.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64e7e54a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=template&index=0!./rentCount_two.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-64e7e54a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Order/rentCount_two.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}