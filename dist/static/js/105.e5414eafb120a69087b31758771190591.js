webpackJsonp([105],{YC02:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("nNZG"),a=i("s/fh"),n={data:function(){return{selected:"0",leaningAll:[],unitAll:[],editDataForm:{hotelId:this.$route.query.hotelId,hotelCostType:"1",id:null,costName:null,price:null,unit:null,free:null},show_editOrRemove:!1,show_addOredit:!1}},created:function(){this.$store.commit("setHeader","商品设置"),this.getInfo()},methods:{getInfo:function(){var t=this,e={hotelId:this.$route.query.hotelId,hotelCostType:"1"};Object(o.a)(e).done(function(e){t.leaningAll=e.data})},editOrRemove:function(t){this.currentInfo=t,this.editDataForm.id=t.id,this.editDataForm.costName=t.costName,this.editDataForm.price=t.price,this.editDataForm.unit=t.unit,this.editDataForm.free=t.free,this.show_editOrRemove=!0},removeItem:function(){var t=this;this.show_editOrRemove=!1,a.a.confirm({title:this.currentInfo.costName,message:"确定删除?"}).then(function(){Object(o.g)({id:t.currentInfo.id}).done(function(e){t.getInfo()})}).catch(function(){})},confirmEdit:function(t,e){var i=this;if("confirm"==t){if(!this.editDataForm.costName)return Object(a.c)("请输入商品名称"),void e(!1);if(!this.editDataForm.unit)return Object(a.c)("请输入个、瓶、袋、条等单位"),void e(!1);if(!this.editDataForm.price)return Object(a.c)("请输入零售价"),void e(!1);this.editDataForm.id?(this.editDataForm_={id:this.editDataForm.id,costName:this.editDataForm.costName,price:this.editDataForm.price,unit:this.editDataForm.unit,free:this.editDataForm.free},Object(o.f)(this.editDataForm_).done(function(t){e(!1),i.show_addOredit=!1,i.getInfo()})):(this.addDataForm={hotelId:this.$route.query.hotelId,hotelCostType:"1",costName:this.editDataForm.costName,price:this.editDataForm.price,unit:this.editDataForm.unit,free:this.editDataForm.free},Object(o.e)(this.addDataForm).done(function(t){e(!1),i.show_addOredit=!1,i.getInfo()}))}else"cancel"==t&&(e(!1),this.show_addOredit=!1)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"invoice-top"}},[i("div",{staticClass:"add flex",on:{click:function(e){t.show_addOredit=!0,t.editDataForm={}}}},[i("van-icon",{staticStyle:{"padding-right":"8px"},attrs:{name:"add",color:"#FD7E43"}}),t._v("添加商品\n  ")],1),t._v(" "),i("div",{staticClass:"cleaning-box"},t._l(t.leaningAll,function(e,o){return i("div",{key:o,staticClass:"cleaning-center",on:{click:function(i){return t.editOrRemove(e)}}},[i("div",[t._v(t._s(e.costName))]),t._v(" "),i("div",{staticClass:"flex"},[t._v("￥"+t._s(e.price)+"/"+t._s(e.unit)+"\n        "),i("van-icon",{staticStyle:{"padding-left":"8px"},attrs:{name:"arrow",color:"#B9B6BA"}})],1)])}),0),t._v(" "),i("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:t.show_editOrRemove,callback:function(e){t.show_editOrRemove=e},expression:"show_editOrRemove"}},[i("div",{staticClass:"p10 c_e4",on:{click:t.removeItem}},[t._v("删除")]),t._v(" "),i("div",{staticClass:"p10",on:{click:function(e){t.show_editOrRemove=!1,t.show_addOredit=!0}}},[t._v("编辑")]),t._v(" "),i("div",{staticStyle:{height:"6px",background:"#f5f5f5"},on:{click:function(e){t.show_editOrRemove=!1}}}),t._v(" "),i("div",{staticClass:"p10 c_88",on:{click:function(e){t.show_editOrRemove=!1}}},[t._v("取消")])]),t._v(" "),i("van-dialog",{attrs:{"before-close":t.confirmEdit,title:t.editDataForm.id?"编辑商品":"添加商品",confirmButtonText:"确定",confirmButtonColor:"#fd7e43",cancelButtonColor:"#7A7A7A","show-cancel-button":""},model:{value:t.show_addOredit,callback:function(e){t.show_addOredit=e},expression:"show_addOredit"}},[i("van-field",{attrs:{label:"名称",placeholder:"请输入商品名称"},model:{value:t.editDataForm.costName,callback:function(e){t.$set(t.editDataForm,"costName",e)},expression:"editDataForm.costName"}}),t._v(" "),i("van-field",{attrs:{label:"单位",placeholder:"请输入个、瓶、袋、条等单位"},model:{value:t.editDataForm.unit,callback:function(e){t.$set(t.editDataForm,"unit",e)},expression:"editDataForm.unit"}}),t._v(" "),i("van-field",{attrs:{label:"价格",type:"number",placeholder:"请输入零售价"},model:{value:t.editDataForm.price,callback:function(e){t.$set(t.editDataForm,"price",e)},expression:"editDataForm.price"}}),t._v(" "),i("van-field",{attrs:{label:"免费限额",type:"number",placeholder:"请输入免费试用数量"},model:{value:t.editDataForm.free,callback:function(e){t.$set(t.editDataForm,"free",e)},expression:"editDataForm.free"}})],1)],1)},staticRenderFns:[]};var d=i("k6Sl")(n,r,!1,function(t){i("iR1Y")},"data-v-47dc4c6d",null);e.default=d.exports},iR1Y:function(t,e){}});
//# sourceMappingURL=105.e5414eafb120a69087b31758771190591.js.map