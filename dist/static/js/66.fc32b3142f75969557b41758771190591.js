webpackJsonp([66],{"3T8r":function(t,i){},lQKT:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("NpYV"),s=e("Gwi0"),a={data:function(){return{orderDetail:"",reason:"",houseType:"",pro:"",num:"",isBasic:!1,isPro:!1,isNum:!1,isReason:!1,houseData:[],proList:[],numlist:[],doorlist:["门锁无法打开","房间设施损耗","顾客要更换房型","其他"]}},created:function(){this.$store.commit("setHeader","换房型"),this.orderDetail=JSON.parse(localStorage.getItem("orderDetail")),this.houseType=this.orderDetail.roomScale.scaleName,this.pro=this.orderDetail.virtualRoomScale.scaleName,this.houseType_id=this.orderDetail.roomScaleId,this.pro_id=this.orderDetail.virtualRoomScaleId},methods:{btnBasic:function(){var t=this;this.isBasic=!0,Object(s._9)(this.orderDetail.hotelId).done(function(i){t.houseData=i.data})},chooseBasic:function(t){this.pro="请选择",this.houseType=t.scaleName,this.houseType_id=t.id,this.isBasic=!1},btnPro:function(){var t=this;this.isPro=!0;var i={hotelId:this.orderDetail.hotelId,roomScaleId:this.houseType_id};Object(s._21)(i).done(function(i){t.proList=i.data.filter(function(i){return i.scaleType==t.orderDetail.virtualRoomScale.scaleType})})},choosePro:function(t){this.pro=t.scaleName,this.pro_id=t.id,this.isPro=!1},btnReason:function(){this.isReason=!0},chooseReason:function(t){this.reason=t,this.isReason=!1},btnChang:function(){if("请选择"==this.pro)return Object(o.Toast)({message:"请选择产品房型",duration:900}),!1;if(this.pro_id==this.orderDetail.virtualRoomScaleId)return Object(o.Toast)({message:"请选择目标产品房型",duration:900}),!1;var t={toScaleId:this.houseType_id,orderId:this.orderDetail.orderId,toVirtualRoomScaleId:this.pro_id,reason:this.reason};Object(s._64)(this.orderDetail.id,t).done(function(t){Object(o.Toast)({message:t.msg,duration:900})}),setTimeout("window.history.go(-1)",900)}}},n={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",[e("div",{staticStyle:{"background-color":"#fff","font-size":"0.8rem"}},[e("div",{staticStyle:{padding:"0 20px","margin-top":"10px",background:"rgb(246, 246, 246)","border-bottom":"1px solid #f6f6f6",display:"flex","line-height":"40px"}},[e("p",{staticStyle:{color:"#000",width:"30%","text-align":"left"}},[t._v("当前房型：")]),t._v(" "),e("div",{staticStyle:{width:"70%","text-align":"right"}},[t._v(t._s(t.orderDetail.roomScale.scaleName)+"-"+t._s(t.orderDetail.virtualRoomScale.scaleName))])]),t._v(" "),e("div",{staticStyle:{margin:"0 20px","border-bottom":"1px solid #f6f6f6",display:"flex","justify-content":"space-between","align-items":"center","line-height":"40px"},on:{click:t.btnBasic}},[e("p",{staticStyle:{color:"#000",width:"30%","text-align":"left"}},[t._v("选择基础房型")]),t._v(" "),e("div",{staticStyle:{width:"70%","text-align":"right"}},[t._v(t._s(t.houseType)+" >")])]),t._v(" "),e("div",{staticStyle:{margin:"0 20px","border-bottom":"1px solid #f6f6f6",display:"flex","justify-content":"space-between","align-items":"center","line-height":"40px"},on:{click:t.btnPro}},[e("p",{staticStyle:{color:"#000",width:"30%","text-align":"left"}},[t._v("选择产品房型")]),t._v(" "),e("div",{staticStyle:{width:"70%","text-align":"right"}},[t._v(t._s(t.pro)+" >")])]),t._v(" "),e("div",{staticStyle:{margin:"0 20px","border-bottom":"1px solid #f6f6f6",display:"flex","justify-content":"space-between","align-items":"center","line-height":"40px"},on:{click:t.btnReason}},[e("p",{staticStyle:{color:"#000"}},[t._v("换房原因")]),t._v(" "),e("span",[t._v(t._s(t.reason)+" >")])])]),t._v(" "),e("div",{staticClass:"bottom_box",on:{click:t.btnChang}},[t._v("确认换房")]),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",position:"fixed",overflow:"auto",height:"70%",bottom:"0"},attrs:{position:"bottom"},model:{value:t.isBasic,callback:function(i){t.isBasic=i},expression:"isBasic"}},[e("div",[e("div",{staticStyle:{"font-size":"15px","text-align":"left",padding:"12px 0 12px 20px"}},[t._v("当前可选基础房型")]),t._v(" "),t._l(t.houseData,function(i,o){return e("div",{key:o,staticClass:"p",on:{click:function(e){return t.chooseBasic(i)}}},[t._v(t._s(i.scaleName))])})],2)]),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",position:"fixed",overflow:"auto",height:"70%",bottom:"0"},attrs:{position:"bottom"},model:{value:t.isPro,callback:function(i){t.isPro=i},expression:"isPro"}},[e("div",[e("div",{staticStyle:{"font-size":"15px","text-align":"left",padding:"12px 0 12px 20px"}},[t._v("当前可选产品房型")]),t._v(" "),t._l(t.proList,function(i,o){return e("div",{key:o,staticClass:"p",on:{click:function(e){return t.choosePro(i)}}},[t._v(t._s(i.scaleName))])})],2)]),t._v(" "),e("mt-popup",{staticStyle:{width:"100%",position:"fixed",overflow:"auto",height:"70%",bottom:"0"},attrs:{position:"bottom"},model:{value:t.isReason,callback:function(i){t.isReason=i},expression:"isReason"}},[e("div",[e("div",{staticStyle:{"font-size":"15px","text-align":"left",padding:"12px 0 12px 20px"}},[t._v("请选择换房原因")]),t._v(" "),t._l(t.doorlist,function(i,o){return e("div",{key:o,staticClass:"p",on:{click:function(e){return t.chooseReason(i)}}},[t._v(t._s(i))])})],2)])],1)},staticRenderFns:[]};var r=e("k6Sl")(a,n,!1,function(t){e("3T8r")},"data-v-8a77faac",null);i.default=r.exports}});
//# sourceMappingURL=66.fc32b3142f75969557b41758771190591.js.map