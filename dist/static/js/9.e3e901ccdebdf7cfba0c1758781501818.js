webpackJsonp([9],{"0V7b":function(t,a,e){t.exports=e.p+"static/img/tj.6f4c356.png"},"1Hgf":function(t,a,e){t.exports=e.p+"static/img/apy.c36ff61.png"},"47EH":function(t,a,e){t.exports=e.p+"static/img/xc.11b6ba5.png"},"7slx":function(t,a,e){t.exports=e.p+"static/img/mt.df7fcc0.png"},iGzm:function(t,a,e){t.exports=e.p+"static/img/fz.9967ec4.png"},iXgU:function(t,a){},pvD3:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("s/fh"),i=e("UJbh"),l=e("hdnP"),d={data:function(){return{platAll:[],hotelTypes:{},platPic:{6:e("7slx"),8:e("0V7b"),9:e("1Hgf"),17:e("iGzm"),19:e("47EH")},dataform_add:{hotelId:this.$route.query.hotelId,hotelName:null,otaSource:null,otaSourceName:null,otaUserName:null,otaPassWord:null,hotelOtaCode:null},show_apply:!1}},created:function(){this.$store.commit("setHeader","直连管理"),this.getStatus()},methods:{getStatus:function(){var t=this;Object(i.a)({dictType:"business_ota_relation_status"}).done(function(a){a.data.map(function(a){t.hotelTypes[a.dictValue]=a.dictLabel}),Object(l.d)({hotelId:t.$route.query.hotelId}).done(function(a){t.getType(a.data)})})},getType:function(t){var a=this;Object(i.a)({dictType:"business_ota_source"}).done(function(e){e.data.map(function(a){a.dictStatu=null,t.map(function(t){a.dictValue==t.otaSource&&(a.dictStatu=t.status,a.hotelOtaRelationId=t.id)})}),a.platAll=e.data})},applyOpen:function(t){var a=this,e=JSON.parse(localStorage.getItem("c_hotelAll"));this.dataform_add.hotelName=e.find(function(t){return t.id==a.$route.query.hotelId}).hotelName,this.dataform_add.otaSource=t.dictValue,this.dataform_add.otaSourceName=t.dictLabel,this.show_apply=!0},confirmApply:function(t,a){var e=this;if("confirm"==t){if(!this.dataform_add.otaUserName)return Object(o.c)("请输入账号"),void a(!1);if(!this.dataform_add.otaPassWord)return Object(o.c)("请输入密码"),void a(!1);a(!1),this.show_apply=!1,Object(l.c)(this.dataform_add).done(function(t){Object(o.c)(t.msg),a(!1),e.show_editDepart=!1,e.getStatus()})}else"cancel"==t&&(a(!1),this.show_apply=!1)},goNext:function(t,a){this.$router.push({path:t,query:{otaSource:a.dictValue,otaSourceName:a.dictLabel,hotelOtaRelationId:a.hotelOtaRelationId,hotelId:this.$route.query.hotelId}})}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"scroll"},[e("div",{attrs:{id:"plat_box"}},t._l(t.platAll,function(a,o){return e("div",{key:o,staticClass:"content"},[e("div",[e("img",{staticStyle:{margin:"10px 0",height:"60px"},attrs:{src:t.platPic[a.dictValue]}}),t._v(" "),e("div",["0"==a.dictStatu?e("div",[t._v("请等待审核")]):"1"==a.dictStatu?e("div",[t._v("自动接单中")]):e("div",{staticStyle:{height:"30px"}}),t._v(" "),t.hotelTypes&&"0"==a.dictStatu||t.hotelTypes&&"1"==a.dictStatu?e("div",{class:"0"==a.dictStatu?"bbb":"aaa",on:{click:function(e){return t.goNext("/relation",a)}}},[t._v(t._s(t.hotelTypes[a.dictStatu]))]):e("div",{staticClass:"ccc",on:{click:function(e){return t.applyOpen(a)}}},[t._v("申请开通")])])])])}),0),t._v(" "),e("van-dialog",{attrs:{"before-close":t.confirmApply,title:"输入账号信息","show-cancel-button":""},model:{value:t.show_apply,callback:function(a){t.show_apply=a},expression:"show_apply"}},[e("van-field",{attrs:{label:"登陆账号","title-style":"color:red;line-height:40px;",placeholder:"请输入登陆账号"},model:{value:t.dataform_add.otaUserName,callback:function(a){t.$set(t.dataform_add,"otaUserName",a)},expression:"dataform_add.otaUserName"}}),t._v(" "),e("van-field",{attrs:{label:"登陆密码","title-style":"color:red;line-height:40px;",placeholder:"请输入登陆密码"},model:{value:t.dataform_add.otaPassWord,callback:function(a){t.$set(t.dataform_add,"otaPassWord",a)},expression:"dataform_add.otaPassWord"}}),t._v(" "),"19"==t.dataform_add.otaSource?e("van-field",{attrs:{label:"OTA酒店id","title-style":"color:red;line-height:40px;",placeholder:"请输入OTA酒店id"},model:{value:t.dataform_add.hotelOtaCode,callback:function(a){t.$set(t.dataform_add,"hotelOtaCode",a)},expression:"dataform_add.hotelOtaCode"}}):t._e()],1)],1)},staticRenderFns:[]};var s=e("k6Sl")(d,c,!1,function(t){e("iXgU")},"data-v-501d2076",null);a.default=s.exports}});
//# sourceMappingURL=9.e3e901ccdebdf7cfba0c1758781501818.js.map