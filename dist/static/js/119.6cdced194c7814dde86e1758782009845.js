webpackJsonp([119],{"666G":function(t,e){},CaFB:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("P5P/"),a=i("RmFe"),n=i.n(a),r=i("Vqy2"),l={components:{},data:function(){return{key:0,listArr:[],item:"",statu:!1,options:{},s:"",priceAll:{},refuseAll:{},selected:"1",contentKey:0,timeaaa:null,currentMounth:null,outBill:null,num:"1"}},created:function(){this.$store.commit("setHeader","业务提成");var t=n()().diff(n()("2021-06-01"),"month"),e=new Date,i=e.getFullYear(),s=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;this.currentMounth=i+"-"+s;for(var a=0;a<t+1;a++){var r=s-a,l=i;if(r<=0){var o=Math.abs(r);r=12-o%12,l-=parseInt(o/12)+1}this.listArr.push({y:l,m:r<10?"0"+r:r,statu:0==a})}this.toggle(this.listArr[0],1)},methods:{toggle:function(t,e){this.item=t,t.statu=1==e||!t.statu,1==t.statu&&this.getprice(t.y,t.m)},getprice:function(t,e){var i=this;this.hotelId=s.a.getCookie("currentID");var a={billTime:t+"-"+e,userId:this.$route.query.userId?this.$route.query.userId:""};this.timeaaa=a.billTime,Object(r.b)(a).done(function(s){i.outBill=s.order,i.options[t+"-"+e]=[],i.options[t+"-"+e]=s.data,i.func(i.options[t+"-"+e],t+"-"+e),++i.contentKey})},func:function(t,e){for(var i=0,s=0;s<t.length;s++)i+=t[s].commission,this.priceAll[e]=i.toFixed(2),++this.key,0==t[s].status?t[s].status_name="已出账":1==t[s].status?t[s].status_name="已结算":2==t[s].status?t[s].status_name="已转账":3==t[s].status&&(t[s].status_name="转账失败")},goNext:function(t){this.$router.push({path:"/commissionDetail",query:{hotelId:this.hotelId,billTime:t.id?t.billTime:t.y+"-"+t.m,userId:this.$route.query.userId?this.$route.query.userId:"",id:t.id}})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{padding:"0 0 15px 0","background-color":"#F6F6F6","font-size":"0.8rem"}},[s("div",{staticClass:"arrive"}),t._v(" "),t._m(0),t._v(" "),s("div",{key:t.contentKey,staticStyle:{margin:"10px 5px","border-radius":"5px",position:"fixed",top:"116px",bottom:"0",left:"0",right:"0","overflow-y":"scroll"}},t._l(t.listArr,function(e,a){return s("div",{key:a},[s("div",{staticClass:"all",on:{click:function(i){return t.toggle(e)}}},[s("span",{staticStyle:{"margin-left":"20px",display:"flex","align-items":"center"},on:{click:function(i){return i.stopPropagation(),t.goNext(e)}}},[t._v(t._s(e.y)+"年"+t._s(e.m)+"月\n          "),1==t.num?s("van-icon",{attrs:{name:"arrow"}}):t._e()],1),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0==e.statu,expression:"item.statu==false"}]},[s("img",{staticStyle:{width:"20px",height:"20px","vertical-align":"middle"},attrs:{src:i("JfLI"),alt:""}})]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.statu,expression:"item.statu==true"}]},[s("img",{staticStyle:{width:"20px",height:"20px","vertical-align":"middle"},attrs:{src:i("M2uH"),alt:""}})]),t._v(" "),t.priceAll[e.y+"-"+e.m]?s("span",{staticClass:"money",on:{click:function(i){return i.stopPropagation(),t.goNext(e)}}},[s("span",{staticStyle:{display:"inline-block","-width":"122px","text-align":"left"}},[s("span",{staticStyle:{color:"#888"}},[t._v("总提成 ")]),t._v(" "),s("span",[t._v("¥"+t._s(t.priceAll[e.y+"-"+e.m]))])]),t._v(" \n        ")]):t._e()]),t._v(" "),s("div",[s("ul",{directives:[{name:"show",rawName:"v-show",value:e.statu,expression:"item.statu"}],key:t.key,staticStyle:{"margin-bottom":"10px"}},t._l(t.options[e.y+"-"+e.m],function(e,a){return s("li",{key:a,staticClass:"other_box",on:{click:function(i){return t.goNext(e)}}},[s("span",{staticClass:"li-box"},[s("span",{staticStyle:{display:"inline-block",width:"30%","margin-left":"1rem","-border":"1px solid red"}},[t._v(t._s(e.billTime))]),t._v(" "),s("span",{staticStyle:{display:"inline-block",width:"32%",color:"#000","-border":"1px solid red"}},[t._v(t._s(e.status_name))]),t._v(" "),s("span",{staticStyle:{display:"inline-block",width:"20%",color:"#2E7BF7","-text-align":"left","-border":"1px solid red"}},[t._v("¥"+t._s(e.commission))]),t._v(" "),s("img",{staticStyle:{width:"20px",height:"20px",padding:"8px 7px 0px 0px",color:"#000"},attrs:{src:i("JfLI"),alt:""}}),t._v(" \n            ")])])}),0)])])}),0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"status_box"}},[e("span",{staticStyle:{display:"inline-block",width:"30%","-border":"1px solid red"}},[this._v("结算日")]),this._v(" "),e("span",{staticStyle:{display:"inline-block",width:"30%","-border":"1px solid red"}},[this._v("状态")]),this._v(" "),e("span",{staticStyle:{display:"inline-block",width:"30%","-border":"1px solid red"}},[this._v("金额")])])}]};var c=i("k6Sl")(l,o,!1,function(t){i("666G")},"data-v-372741dd",null);e.default=c.exports}});
//# sourceMappingURL=119.6cdced194c7814dde86e1758782009845.js.map