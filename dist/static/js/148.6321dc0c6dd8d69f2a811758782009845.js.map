{"version":3,"sources":["webpack:///src/components/Finance/Finance.vue","webpack:///./src/components/Finance/Finance.vue?c1a1","webpack:///./src/components/Finance/Finance.vue"],"names":["Finance","components","data","key","listArr","item","statu","options","s","priceAll","refuseAll","selected","contentKey","timeaaa","outBill","num","created","_this","this","createTime","JSON","parse","localStorage","getItem","filter","id","$route","query","hotelId","star","dayjs_min_default","format","end","abc","i","add","unix","push","$store","commit","current_time","Date","year","getFullYear","mouth","getMonth","_i","length","tempMouth","tempYear","abstempMouth","Math","abs","parseInt","y","m","forEach","arr","k","obj","child","reverse","toggle","methods","btnSearch","first","getprice_long","getprice","_this2","billTime","Object","api_business_hotel_and_scale","done","res","order","func","_this3","ym","new_startTime","startTime","substr","new_endTime","endTime","totalPrice","toFixed","refuseAmount","status","status_name","goPaid","$router","name","billRecordId","time","billStartTime","type","isshow","monthBillRecordId","setItem","stringify_default","goMonth","c_time","billMonth","Finance_Finance","render","_vm","_h","$createElement","_c","_self","staticStyle","padding","position","top","bottom","left","right","overflow-y","background-color","font-size","staticClass","model","value","callback","$$v","expression","attrs","nativeOn","click","$event","_v","_m","_l","index","on","_s","margin-left","display","align-items","stopPropagation","directives","rawName","width","height","vertical-align","src","__webpack_require__","alt","-width","text-align","color","_e","margin-bottom","item_o","staticRenderFns","-border","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/148.6321dc0c6dd8d69f2a811758782009845.js","sourcesContent":["<template>\n  <div style=\"padding:15px 0;position:fixed;top:50px;bottom:0;left:0;right:0;overflow-y:scroll;background-color:#F6F6F6;font-size:0.8rem;\">\n    <div class=\"arrive\">\n      <mt-navbar v-model=\"selected\">\n        <mt-tab-item\n          id=\"1\"\n          @click.native=\"btnSearch(1)\"\n        >\n          <span>日租</span>\n        </mt-tab-item>\n        <mt-tab-item\n          id=\"2\"\n          @click.native=\"btnSearch(2)\"\n        >\n          <span>长租</span>\n        </mt-tab-item>\n      </mt-navbar>\n    </div>\n    <div id=\"status_box\">\n      <span style=\"display:inline-block;width:35%;-border:1px solid red;text-align:left;\">账单日</span>\n      <span style=\"display:inline-block;width:10%;-border:1px solid red;\">状态</span>\n      <span style=\"display:inline-block;width:27%;-border:1px solid red;margin-left:30px;\">金额</span>\n    </div>\n    <!-- 月份 -->\n    <div :key=\"contentKey\">\n      <div\n        v-for=\"(item,index) in listArr\"\n        :key=\"index\"\n      >\n        <div\n          class=\"yearBill\"\n          @click=\"goMonth(item.year)\"\n        >查看{{ item.year }}年度\n          <van-icon name=\"arrow\" />\n        </div>\n        <div\n          v-for=\"(item,i) in item.child\"\n          :key=\"i\"\n        >\n          <div\n            class=\"all\"\n            @click=\"toggle(item)\"\n          >\n            <span\n              style=\"margin-left:20px;display: flex;align-items: center;\"\n              @click.stop=\"goMonth(item.y+'-'+item.m)\"\n            >{{ item.y }}年{{ item.m }}月\n              <van-icon name=\"arrow\" />\n            </span>\n            <span v-show=\"item.statu==false\">\n              <img\n                style=\"width:20px;height:20px;vertical-align:middle;\"\n                src=\"@/assets/right.png\"\n                alt\n              />\n            </span>\n            <span v-show=\"item.statu==true\">\n              <img\n                style=\"width:20px;height:20px;vertical-align:middle;\"\n                src=\"@/assets/bottom.png\"\n                alt\n              />\n            </span>\n            <span\n              class=\"money\"\n              v-if=\"priceAll[item.y+'-'+item.m]\"\n              @click.stop=\"goMonth(item.y+'-'+item.m)\"\n            >\n              <span style=\"display:inline-block;-width:122px;text-align:left;\">\n                总收入&ensp;&yen;\n                <span style=\"color:#888;\">{{ priceAll[item.y+'-'+item.m] }}</span>\n              </span>&emsp;\n            </span>\n          </div>\n          <div>\n            <ul\n              v-show=\"item.statu\"\n              :key=\"key\"\n              style=\"margin-bottom:10px;\"\n            >\n              <li\n                v-for=\"(item_o,index) in options[item.y+'-'+item.m]\"\n                :key=\"index\"\n                class=\"other_box\"\n                @click=\"goPaid(item_o,{type:'Paid'})\"\n              >\n                <span class=\"li-box\">\n                  <span style=\"display:inline-block;width:32%;margin-left: 1rem;\">\n                    {{ selected==1?item_o.billStartTime:item_o.billTime }}</span>\n                  <span style=\"display:inline-block;width:30%;color:#000;\">{{ item_o.status_name }}</span>\n                  <span style=\"display:inline-block;width:30%;color:#000;\">&yen;{{ item_o.totalPrice }}</span>\n                  <img\n                    style=\"width:20px;height:20px;padding:8px 7px 0px 0px;color:#000;\"\n                    src=\"@/assets/right.png\"\n                    alt\n                  />&nbsp;\n                </span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { GetBusinessBillRecord, GetBusinessMonthBillRecord } from '@/api/api_business_hotel_and_scale';\nimport dayjs from 'dayjs';\nexport default {\n    components: {},\n    data() {\n        return {\n            key: 0,\n            listArr: [],\n            item: '',\n            statu: false,\n            options: {},\n            s: '',\n            priceAll: {},\n            refuseAll: {},\n            selected: '1',\n            contentKey: 0,\n            timeaaa: null,\n            outBill: null,\n            num: '1'\n        };\n    },\n    created() {\n        let createTime = JSON.parse(localStorage.getItem('c_hotelAll')).filter((item) => item.id == this.$route.query.hotelId)[0].createTime;\n        let star = dayjs(createTime).format('YYYY-MM');\n        let end = dayjs().format('YYYY-MM');\n        let num = 100;\n        let abc = [];\n        for (let i = 0; i < num; i++) {\n            let aaa = dayjs(star).add(i, 'month').unix();\n            if (aaa <= dayjs(end).unix()) {\n                abc.push(dayjs(star).add(i, 'month'));\n            }\n        }\n        this.$store.commit('setHeader', '经营日报');\n        let current_time = new Date();\n        let year = current_time.getFullYear();\n        let mouth = current_time.getMonth() + 1 < 10 ? '0' + (current_time.getMonth() + 1) : current_time.getMonth() + 1;\n        for (let i = 0; i < abc.length; i++) {\n            let tempMouth = mouth - i;\n            let tempYear = year;\n            if (tempMouth <= 0) {\n                let abstempMouth = Math.abs(tempMouth);\n                tempMouth = 12 - (abstempMouth % 12);\n                let tempYJ = parseInt(abstempMouth / 12) + 1;\n                tempYear = tempYear - tempYJ;\n            }\n            this.listArr.push({\n                y: tempYear,\n                m: tempMouth < 10 ? '0' + tempMouth : tempMouth,\n                statu: i == 0 ? true : false\n            });\n        }\n        let data = {};\n        this.listArr.forEach((item) => {\n            if (data[item.y]) {\n                data[item.y].push(item);\n            } else {\n                data[item.y] = [item];\n            }\n        });\n        let arr = [];\n        for (const k in data) {\n            let obj = {};\n            obj.year = k;\n            obj.child = data[k];\n            arr.push(obj);\n        }\n        this.listArr = arr.reverse();\n        this.toggle(this.listArr[0].child[0], 1);\n    },\n    methods: {\n        btnSearch(num) {\n            let year = new Date().getFullYear();\n            this.num = num;\n            this.priceAll = {};\n            this.options = [];\n            this.toggle(this.listArr[0].child[0], 1);\n        },\n        toggle(item, first) {\n            this.item = item;\n            if (first == 1) {\n                item.statu = true;\n            } else {\n                item.statu = !item.statu;\n            }\n            if (this.num == 2) {\n                if (item.statu == true) {\n                    this.getprice_long(item.y, item.m);\n                }\n            } else {\n                if (item.statu == true) {\n                    this.getprice(item.y, item.m);\n                }\n            }\n        },\n        getprice(y, m) {\n            this.hotelId = this.$route.query.hotelId;\n            let data = {\n                billTime: this.item.y + '-' + this.item.m\n            };\n            this.timeaaa = data.billTime;\n            GetBusinessBillRecord(this.hotelId, data).done((res) => {\n                this.outBill = res.order;\n                this.options[y + '-' + m] = [];\n                this.options[y + '-' + m] = res.data;\n                this.func(this.options[y + '-' + m], y + '-' + m);\n                ++this.contentKey;\n            });\n        },\n        getprice_long(y, m) {\n            this.hotelId = this.$route.query.hotelId;\n            let data = {\n                billTime: this.item.y + '-' + this.item.m\n            };\n            this.timeaaa = data.billTime;\n            GetBusinessMonthBillRecord(this.hotelId, data).done((res) => {\n                this.options[y + '-' + m] = [];\n                this.options[y + '-' + m] = res.data;\n                this.func(this.options[y + '-' + m], y + '-' + m);\n                ++this.contentKey;\n            });\n        },\n        func(options, ym) {\n            let priceAll = 0;\n            let refuseAll = 0;\n            for (let i = 0; i < options.length; i++) {\n                if (this.num != 2) {\n                    options[i].new_startTime = options[i].startTime.substr(5, 5);\n                    options[i].new_endTime = options[i].endTime.substr(5, 5);\n                    priceAll += options[i].totalPrice;\n                    this.priceAll[ym] = priceAll.toFixed(2);\n                    refuseAll += options[i].refuseAmount;\n                    this.refuseAll[ym] = refuseAll.toFixed(2);\n                    ++this.key;\n                } else {\n                    priceAll += options[i].totalPrice;\n                    this.priceAll[ym] = priceAll.toFixed(2);\n                    ++this.key;\n                }\n                if (options[i].status == 0 || options[i].status == 1) {\n                    options[i].status_name = '已结算待转账';\n                    // } else if (options[i].status == 1) {\n                    //     options[i].status_name = '已结算待转账';\n                } else if (options[i].status == 2) {\n                    options[i].status_name = '已转账';\n                } else if (options[i].status == 3) {\n                    options[i].status_name = '转账失败';\n                }\n            }\n        },\n        goPaid(item, obj) {\n            if (this.selected == 1) {\n                this.$router.push({\n                    name: 'OutRecord',\n                    query: {\n                        hotelId: this.hotelId,\n                        billRecordId: item.id,\n                        selected: this.selected,\n                        time: item.billStartTime,\n                        type: obj.type,\n                        isshow: '1'\n                    }\n                });\n            } else {\n                item.selected = this.selected;\n                this.$router.push({\n                    name: 'OutRecord',\n                    query: {\n                        monthBillRecordId: item.id,\n                        time: item.billTime,\n                        selected: this.selected,\n                        type: obj.type,\n                        isshow: '1'\n                    }\n                });\n                localStorage.setItem('list', JSON.stringify(item));\n            }\n        },\n        goMonth(c_time) {\n            this.$router.push({\n                name: 'OutRecord',\n                query: {\n                    billMonth: c_time,\n                    hotelId: this.hotelId,\n                    type: 'Paid',\n                    selected: this.selected\n                }\n            });\n        }\n    }\n};\n</script>\n<style scoped>\nul {\n    margin: 0;\n    padding: 0;\n}\nli {\n    list-style: none;\n}\n#status_box {\n    margin: 10px auto;\n    line-height: 50px;\n    background-color: #fff;\n}\n.all {\n    display: flex;\n    justify-content: space-between;\n    padding: 0px 10px 10px 10px;\n    background-color: #fff;\n    line-height: 40px;\n    position: relative;\n}\n.money {\n    font-size: 14px;\n    position: absolute;\n    top: 18px;\n    left: 28px;\n    display: flex;\n}\n.li-box {\n    width: 100%;\n    font-size: 0.8rem;\n    display: flex;\n    justify-content: space-between;\n    background-color: #fff;\n}\n.other_box {\n    color: #888888;\n    line-height: 2rem;\n    border-bottom: 1px solid #f6f6f6;\n}\nselect {\n    border: solid 1px #000;\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    border: none;\n    outline: none;\n}\nselect::-ms-expand {\n    display: none;\n}\n.mint-navbar .mint-tab-item.is-selected {\n    color: #ff7d41;\n    margin-bottom: 0;\n    border-bottom: 3px solid #ff7d41;\n}\n.yearBill {\n    line-height: 30px;\n    text-align: left;\n    padding-left: 30px;\n    display: flex;\n    align-items: center;\n    color: #ff7d41;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Finance/Finance.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"15px 0\",\"position\":\"fixed\",\"top\":\"50px\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"overflow-y\":\"scroll\",\"background-color\":\"#F6F6F6\",\"font-size\":\"0.8rem\"}},[_c('div',{staticClass:\"arrive\"},[_c('mt-navbar',{model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('mt-tab-item',{attrs:{\"id\":\"1\"},nativeOn:{\"click\":function($event){return _vm.btnSearch(1)}}},[_c('span',[_vm._v(\"日租\")])]),_vm._v(\" \"),_c('mt-tab-item',{attrs:{\"id\":\"2\"},nativeOn:{\"click\":function($event){return _vm.btnSearch(2)}}},[_c('span',[_vm._v(\"长租\")])])],1)],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{key:_vm.contentKey},_vm._l((_vm.listArr),function(item,index){return _c('div',{key:index},[_c('div',{staticClass:\"yearBill\",on:{\"click\":function($event){return _vm.goMonth(item.year)}}},[_vm._v(\"查看\"+_vm._s(item.year)+\"年度\\n        \"),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_vm._v(\" \"),_vm._l((item.child),function(item,i){return _c('div',{key:i},[_c('div',{staticClass:\"all\",on:{\"click\":function($event){return _vm.toggle(item)}}},[_c('span',{staticStyle:{\"margin-left\":\"20px\",\"display\":\"flex\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.goMonth(item.y+'-'+item.m)}}},[_vm._v(_vm._s(item.y)+\"年\"+_vm._s(item.m)+\"月\\n            \"),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.statu==false),expression:\"item.statu==false\"}]},[_c('img',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"vertical-align\":\"middle\"},attrs:{\"src\":require(\"@/assets/right.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.statu==true),expression:\"item.statu==true\"}]},[_c('img',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"vertical-align\":\"middle\"},attrs:{\"src\":require(\"@/assets/bottom.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),(_vm.priceAll[item.y+'-'+item.m])?_c('span',{staticClass:\"money\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goMonth(item.y+'-'+item.m)}}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"-width\":\"122px\",\"text-align\":\"left\"}},[_vm._v(\"\\n              总收入 ¥\\n              \"),_c('span',{staticStyle:{\"color\":\"#888\"}},[_vm._v(_vm._s(_vm.priceAll[item.y+'-'+item.m]))])]),_vm._v(\" \\n          \")]):_vm._e()]),_vm._v(\" \"),_c('div',[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.statu),expression:\"item.statu\"}],key:_vm.key,staticStyle:{\"margin-bottom\":\"10px\"}},_vm._l((_vm.options[item.y+'-'+item.m]),function(item_o,index){return _c('li',{key:index,staticClass:\"other_box\",on:{\"click\":function($event){return _vm.goPaid(item_o,{type:'Paid'})}}},[_c('span',{staticClass:\"li-box\"},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"32%\",\"margin-left\":\"1rem\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.selected==1?item_o.billStartTime:item_o.billTime))]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"30%\",\"color\":\"#000\"}},[_vm._v(_vm._s(item_o.status_name))]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"30%\",\"color\":\"#000\"}},[_vm._v(\"¥\"+_vm._s(item_o.totalPrice))]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"padding\":\"8px 7px 0px 0px\",\"color\":\"#000\"},attrs:{\"src\":require(\"@/assets/right.png\"),\"alt\":\"\"}}),_vm._v(\" \\n              \")])])}),0)])])})],2)}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"status_box\"}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"35%\",\"-border\":\"1px solid red\",\"text-align\":\"left\"}},[_vm._v(\"账单日\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"10%\",\"-border\":\"1px solid red\"}},[_vm._v(\"状态\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"27%\",\"-border\":\"1px solid red\",\"margin-left\":\"30px\"}},[_vm._v(\"金额\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c5d6229\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Finance/Finance.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.pnpm/extract-text-webpack-plugin@3.0.2_webpack@3.12.0/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c5d6229\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=styles&index=0!./Finance.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./Finance.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=script&index=0!./Finance.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c5d6229\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.pnpm/vue-loader@13.7.3_babel-core@6.26.3_css-loader@0.28.11_handlebars@4.7.8_lodash@4.17.21__e9ea0e8f7ceb46fff5f26510a2d7fd94/node_modules/vue-loader/lib/selector?type=template&index=0!./Finance.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c5d6229\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Finance/Finance.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}