webpackJsonp([120],{"9c0p":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("HkQL"),s=o.n(n),a=o("vvmr"),r=o.n(a),i=o("nNZG"),l=o("s/fh"),c={data:function(){return{selected:"0",res_order:[],leaningAll:[]}},watch:{selected:function(t,e){this.hotelCostType="0"==t?"2":"3",this.getInfo()}},created:function(){this.$store.commit("setHeader","默认保洁项目")},methods:{getInfo:function(){var t=this;this.leaningAll=[];var e={hotelId:this.$route.query.hotelId,roomScaleId:this.$route.query.roomScaleId,hotelCostType:this.hotelCostType||"2"};Object(i.b)(e).done(function(o){t.res_order=o.order,0!=t.res_order.length?(t.res_data=o.data,o.data?(t.res_data_costInfo=JSON.parse(o.data.costInfo),t.leaningAll=t.res_order.map(function(e,o){return r()({},e,t.res_data_costInfo[o])})):t.leaningAll=t.res_order.map(function(t){return t.num="0",t})):Object(l.c)("暂无默认"+("2"==e.hotelCostType?"消耗品":"洗涤品")+"项目")})},commit:function(){var t=[];if(this.leaningAll.map(function(e){var o={};o.id=e.id,o.num=e.num,t.push(o)}),this.res_data){var e={id:this.res_data.id,costInfo:s()(t)};Object(i.i)(e).done(function(t){Object(l.c)({message:t.msg,duration:900}),setTimeout("window.history.go(-1)",900)})}else{var o={hotelId:this.$route.query.hotelId,roomScaleId:this.$route.query.roomScaleId,hotelCostType:this.hotelCostType||"2",costInfo:s()(t)};Object(i.h)(o).done(function(t){Object(l.c)({message:t.msg,duration:900}),setTimeout("window.history.go(-1)",900)})}}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"normal-box"}},[o("div",{staticClass:"top-title"},[t._v("温馨提示：设置默认保洁项目后，保洁人员在查房或打扫时，会自动勾选默认的项目，提升保洁速度。")]),t._v(" "),o("van-tabs",{attrs:{"title-active-color":"#ff7d41",color:"#ff7d41"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[o("van-tab",{attrs:{title:"消耗品"}}),t._v(" "),o("van-tab",{attrs:{title:"洗涤品"}})],1),t._v(" "),o("div",{staticClass:"scroll"},t._l(t.leaningAll,function(e,n){return o("div",{key:n,staticClass:"cleaning-center"},[o("div",[o("div",[t._v(t._s(e.costName))]),t._v(" "),o("div",{staticClass:"b2"},[t._v(t._s(e.unit))])]),t._v(" "),o("van-stepper",{attrs:{min:"0",theme:"round","button-size":"22"},model:{value:e.num,callback:function(o){t.$set(e,"num",o)},expression:"item.num"}})],1)}),0),t._v(" "),0!=t.res_order.length?o("van-button",{staticClass:"bottom-btn",on:{click:t.commit}},[t._v("保存设置")]):t._e()],1)},staticRenderFns:[]};var u=o("k6Sl")(c,d,!1,function(t){o("bH5h")},"data-v-30db72a0",null);e.default=u.exports},bH5h:function(t,e){}});
//# sourceMappingURL=120.5683058484fbba124ff31758782009845.js.map