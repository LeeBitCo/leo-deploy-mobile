webpackJsonp([117],{"3UoU":function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("HkQL"),s=e.n(r),n=e("RmFe"),i=e.n(n),a=e("iClD"),c=e("NpYV"),l=e("UJbh"),d=e("tN5p"),u=e("TKTC"),m=e("Gwi0"),_={data:function(){return{new_list:[],rooms:[],top_rooms:[],show_info:!1,clean_show:!1,rents:[],roomStatus:[],sorts:[],scales:[],bedInfoAll:[],rent:"租赁类型",infoBox:"",liveInfo:"",currentRole:"",toDay:"",show_left:!1,dome:[],domeName:"",leftName:"全部酒店",show_center:!1,center_1:"租赁类型",show_center_2:!1,center_2:"房间状态",show_right:!1,right:"所有房型",c_unix:null,more_box:!1,more:"",password_show:!1,is_roleManager:!1,pass_phone:"",login_info:null,hotelType:null}},created:function(){this.$store.commit("setHeader",this.$route.query.cooperationName),this.hotelId=this.$route.query.hotelId,this.is_roleManager=Object(a.isRole)("ROLE_MANAGER"),this.hotelType=localStorage.getItem("c_hotelType"),this.param={hotelId:this.hotelId,cooperId:this.$route.query.cooperId},this.topList(),this.getTop(),this.c_unix=i()().unix()},computed:{computerWidth:function(){return(window.innerWidth-40)/3+"px"}},methods:{getTop:function(){var o=this;Object(l.a)({dictType:"business_order_type"}).done(function(t){o.rents=t.data}),Object(l.a)({dictType:"business_room_status"}).done(function(t){o.roomStatus=t.data}),Object(m._9)(this.hotelId).done(function(t){o.scales=t.data})},topList:function(){var o=this;Object(m._4)(this.param).done(function(t){for(var e=t.data.sort(o.objectArraySort("roomSn")).reverse(),r=[],s=[],n=0,i=0,a=0;a<e.length;a++)-1==r.indexOf(e[a].buildNum)&&(r[n]=e[a].buildNum,n++),-1==s.indexOf(e[a].floor)&&(s[i]=e[a].floor,i++);var c=[];for(a=0;a<r.length;a++){for(var l=[],d=0,u=0;u<e.length;u++)r[a]==e[u].buildNum&&(l[d]=e[u],d++);for(var m=[],_=0,f=0;f<s.length;f++){var v=[],p=0;for(u=0;u<l.length;u++)l[u].floor==s[f]&&(v[p]=l[u],p++);if(v.length>0){var h={floor:s[f],children:v};m[_]=h,_++}}if((m=m.sort(o.objectArraySort("floor"))).reverse(),m.length>0){var b={buildNum:r[a],sum:l.length,children:m};c[a]=b}}c=c.sort(o.objectArraySort("buildNum")),o.rooms=c.reverse(),o.top_rooms=c})},changeWatch:function(){this.$router.push({path:"/changeWatch",query:{id:this.more.id,orderId:this.more.orderId}})},eleCharge:function(){this.$router.push({path:"/eleManage",query:{hotelName:this.more.hotel.hotelName,scaleName:this.more.roomScale.scaleName,virscaleName:this.more.virtualRoomScale.scaleName,roomSn:this.more.roomSn,orderRoomId:this.more.id,orderId:this.more.orderId}})},findList:function(){var o=this;Object(m._4)(this.param).done(function(t){"所有房型"!=o.scaleName&&void 0!=o.scaleName&&(t.data=t.data.filter(function(t){return t.roomScale.scaleName==o.scaleName}));for(var e=t.data.sort(o.objectArraySort("roomSn")).reverse(),r=[],s=[],n=0,i=0,a=0;a<e.length;a++)-1==r.indexOf(e[a].buildNum)&&(r[n]=e[a].buildNum,n++),-1==s.indexOf(e[a].floor)&&(s[i]=e[a].floor,i++);for(a=0;a<r.length;a++){for(var c=[],l=0,d=0;d<e.length;d++)r[a]==e[d].buildNum&&(c[l]=e[d],l++);for(var u=0,m=0;m<s.length;m++){var _=[],f=0;for(d=0;d<c.length;d++)c[d].floor==s[m]&&(_[f]=c[d],f++);if(_.length>0){var v={floor:s[m],children:_};p[u]=v,u++}}var p=p.sort(o.objectArraySort("floor"));if(p.reverse(),p.length>0){var h={buildNum:r[a],sum:c.length,children:p};b[a]=h}}var b=b.sort(o.objectArraySort("buildNum"));o.rooms=b.reverse()})},objectArraySort:function(o){return function(t,e){var r=t[o],s=e[o];return r<s?1:r>s?-1:0}},btnInfo:function(o){this.infoBox=o,"4"==this.hotelType?this.getBedInfo(o.id):o.cooperId>0||1==o.cleanCooper?this.getCooperInfo(o.id):(this.liveInfo="",2!=this.infoBox.status&&3!=this.infoBox.status||this.getInfo()),this.show_info=!0},getBedInfo:function(o){var t=this;Object(u.l)({roomId:o}).done(function(o){t.bedInfoAll=o.data})},getCooperInfo:function(o){var t=this;Object(d.g)({roomId:o}).done(function(o){t.liveInfo=o.data})},getInfo:function(){var o=this;Object(m.L)(this.infoBox.id).done(function(t){var e=i()(t.data.order.startTime).add(1,"day").format("YYYY-MM-DD")+" 08:00:00";t.data.next_day=i()(e).unix(),o.liveInfo=t.data})},cooperHandleRoom:function(){this.$router.push({path:"/business-handle-room",query:{hotelId:this.$route.query.hotelId}})},cleanRoom:function(){0!=this.infoBox.isRoomCheck?this.cleanRoomUp(this.infoBox.cleanOrderId):this.$router.push({path:"/stateCheck",query:this.infoBox})},cleanRoomUp:function(o){var t=this;this.show_info=!1,Object(m._76)(o).done(function(o){Object(c.Toast)({message:o.msg,duration:900}),t.findList()})},lockRoom:function(){var o=this;this.show_info=!1,c.MessageBox.confirm("",{message:"是否锁房？",title:"提示",cancelButtonText:"否",confirmButtonText:"是"}).then(function(t){"confirm"==t&&Object(m._77)(o.infoBox.id).done(function(t){Object(c.Toast)({message:t.msg,duration:900}),o.findList()})}).catch(function(o){console.log(o)})},LiveRoom:function(){var o=this;this.show_info=!1,Object(m._78)(this.infoBox.id).done(function(t){Object(c.Toast)({message:t.msg,duration:900}),o.findList()})},getMoreList:function(){var o=this;this.show_info=!1,this.liveInfo.id&&Object(m.J)(this.liveInfo.id).done(function(t){o.more=t.data}),this.more_box=!0},goCode:function(){var o=this;Object(m.J)(this.liveInfo.id).done(function(t){o.info={},o.info.scaleName=t.data.roomScale.scaleName,o.info.roomSn=t.data.roomSn,o.info.orderId=t.data.orderId,o.$router.push({path:"/quickLiveOnline",query:{fenfangInfo:o.info}}),localStorage.setItem("fenfangInfo",s()(o.info))})},historyRecord:function(){this.$route.query.accountUnitId?this.$router.push({path:"/rentInfo_long",query:{orderRoomId:this.infoBox.id}}):this.$router.push({path:"/order",query:{roomId:this.infoBox.id,roomSn:this.infoBox.roomSn}})},goDetail:function(){"4"==this.hotelType?this.$router.push({path:"/apartMent",query:{roomId:this.infoBox.id}}):this.liveInfo&&this.$router.push({path:"/rentInfo_two",query:{cooperOrderId:this.liveInfo.cooperOrderId,cooperationName:this.$route.query.cooperationName,cooperOrderRoomId:this.liveInfo.id,scaleName:this.infoBox.roomScale.scaleName,endTime:this.liveInfo.cooperOrder.endTime,roomSn:this.infoBox.roomSn,roomId:this.liveInfo.roomId}})},btnback:function(o,t){if(1!=o.order.orderSource)document.getElementById("plat").style.backgroundColor="grey",document.getElementById("plat").style.color="#fff";else{var e={item:o,num:t};this.$router.push({name:"DealLive",query:e}),localStorage.setItem("orderDetail",s()(e))}},btnAgain:function(){this.more_box=!1,Object(m._59)(this.more.id,{orderId:this.more.orderId}).done(function(o){c.MessageBox.alert("下发密码成功").then(function(o){setTimeout("window.history.go(-1)",500)})})},btnRoomFee:function(){this.$router.push({path:"/roomFee",query:{id:this.more.id,orderId:this.more.orderId}})},btnLifeFee:function(){this.$router.push({path:"/lifeFee",query:{id:this.more.id}})},btnGetInfo:function(){this.more_box=!1,this.password_show=!0,this.more.order.phone&&(this.pass_phone=null==this.more.sysUser?this.more.order.phone:this.more.sysUser.phone)},c_ok:function(){var o=this;this.clean_show=!1,Object(m._78)({roomId:this.infoBox.id}).done(function(t){Object(c.Toast)({message:t.msg,duration:900}),o.findList()})},pass_ok:function(){if(!this.pass_phone||!/^1[3-9]\d{9}$/.test(this.pass_phone))return Object(c.Toast)({message:"请正确输入手机号",duration:900}),this.pass_phone="",!1;var o={roomUser:null==this.more.sysUser?this.more.order.roomUser:this.more.sysUser.realName,phone:this.pass_phone,orderId:this.more.orderId};Object(m._65)(this.more.id,o).done(function(o){Object(c.Toast)({message:o.msg,duration:900})}),this.password_show=!1},goNext:function(o){this.$router.push({path:o,query:{hotelId:this.$route.query.hotelId,cooperationName:this.$route.query.cooperationName,cooperationId:this.$route.query.cooperId,contact:this.$route.query.contact,phone:this.$route.query.phone}})},btnlive:function(o){this.$router.push({name:"DealLive",params:{orderDetail:o}}),localStorage.setItem("orderDetail",s()(o))},btncancel:function(o){var t=this;this.show_info=!1,c.MessageBox.confirm("",{message:"取消订单后，房费和押金将退还顾客，请慎重操作",title:"取消订单",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(e){"confirm"==e&&Object(m._50)(o.id,{orderId:o.orderId}).done(function(o){Object(c.Toast)({message:o.msg,duration:900}),t.findList()})}).catch(function(o){console.log(o)})},btnchange:function(o){this.$router.push({path:"/fdchange",query:{orderDetail:o}}),localStorage.setItem("orderDetail",s()(o))},btnamend:function(){var o=this;Object(m.J)(this.liveInfo.id).done(function(t){o.$router.push({name:"Amend",query:{item_amend:t.data}}),localStorage.setItem("item_amend",s()(t.data))})},checkOut:function(){var o=this;this.show_info=!1,3==this.liveInfo.orderType||4==this.liveInfo.orderType?(this.$router.push({path:"/rentCount",query:{rentCount_info:this.liveInfo}}),localStorage.setItem("rentCount_info",s()(this.liveInfo))):c.MessageBox.confirm("",{message:"退房后，将不可恢复，请慎重操作",title:"是否退房",cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(t){if("confirm"==t){var e={orderId:o.liveInfo.orderId,orderRoomId:o.liveInfo.id};Object(m._55)(e).done(function(t){Object(c.Toast)({message:t.msg,duration:900}),o.findList()})}}).catch(function(o){console.log(o)})},btnALL:function(){this.show_left=!0},btnRent:function(){this.show_center=!0},btnStatus:function(){this.show_center_2=!0},btnSort:function(){this.show_right=!0},choosed_all:function(o){this.leftName=o,"全部酒店"!=o?this.param.buildNum=o:delete this.param.buildNum,this.show_left=!1,this.findList()},choosed_rent:function(o){"租赁类型"!=o?(this.center_1=o.dictLabel,this.param.roomType=o.dictValue):(this.center_1=o,delete this.param.roomType),this.show_center=!1,this.findList()},choosed_statu:function(o){"房间状态"!=o?(this.center_2=o.dictLabel,this.param.status=o.dictValue):(this.center_2=o,delete this.param.status),this.show_center_2=!1,this.findList()},choosed_scale:function(o){this.right=o,this.scaleName=o,this.show_right=!1,this.findList()}}},f={render:function(){var o=this,t=o.$createElement,r=o._self._c||t;return r("div",[r("div",{attrs:{id:"top"}},[r("div",{staticClass:"topbox",on:{click:o.btnALL}},[r("div",[o._v("\n        "+o._s("全部酒店"==o.leftName?o.leftName:o.leftName+"栋")+"\n        "),r("img",{attrs:{src:e("dD+a"),alt:""}})])]),o._v(" "),r("div",{staticClass:"topbox",on:{click:o.btnRent}},[r("div",[o._v("\n        "+o._s(o.center_1)+"\n        "),r("img",{attrs:{src:e("dD+a"),alt:""}})])]),o._v(" "),r("div",{staticClass:"topbox",on:{click:o.btnStatus}},[r("div",[o._v("\n        "+o._s(o.center_2)+"\n        "),r("img",{attrs:{src:e("dD+a"),alt:""}})])]),o._v(" "),r("div",{staticClass:"topbox",on:{click:o.btnSort}},[r("div",[o._v("\n        "+o._s(o.right)+"\n        "),r("img",{attrs:{src:e("dD+a"),alt:""}})])])]),o._v(" "),r("div",{attrs:{id:"center"},on:{click:function(t){return o.goNext("/business-add-order")}}},[o._v(" + 新增房间")]),o._v(" "),r("div",{attrs:{id:"bottom"}},o._l(o.rooms,function(t,s){return r("div",{key:s},[r("div",{staticClass:"buildNum"},[r("p",[o._v("\n          "+o._s("99"!=t.buildNum&&t.buildNum?t.buildNum+"栋":"其他")+"\n          (共"+o._s(t.sum)+"间)\n        ")])]),o._v(" "),o._l(t.children,function(t,s){return r("div",{key:s,staticClass:"floor"},[r("div",[r("p"),o._v(" "),r("p",[o._v(o._s(t.floor+"楼"))]),o._v(" "),r("p")]),o._v(" "),r("div",{staticClass:"room_box"},o._l(t.children,function(t,s){return r("div",{key:s,staticClass:"bigbox"},[r("div",{staticClass:"roomdiv",class:t.cooperId>0?"c21":"c"+t.status+("0"==t.isRoomCheck?"0":"1"),on:{click:function(e){return o.btnInfo(t)}}},[r("p",{staticClass:"num"},[r("label",[o._v(o._s(t.roomSn))]),o._v(" "),t.endTime&&o.toDay==t.endTime.substring(0,10)?r("img",{attrs:{src:e("Q3pm"),alt:""}}):o._e()]),o._v(" "),r("p",{staticClass:"scalename"},[o._v(o._s(t.roomScale.scaleName))]),o._v(" "),t.cooperId>0||o.$route.query.accountUnitId>0&&3==t.orderType?r("div",{staticClass:"coop-group"},[r("div",{staticStyle:{background:"#344D88",padding:"1px 4px"}},[r("div",{staticStyle:{"font-size":"0.6rem"}},[o._v(o._s(o._f("dataFilter")(t.cooperTime))+"到期")])])]):r("div",{staticClass:"imgBox"},[r("div",{staticStyle:{"-border":"1px solid green"}},[2==t.status&&"4"==o.hotelType?r("div",[o._v(o._s(t.bedIn||"0")+"/"+o._s(t.bedNum||"0"))]):o._e(),o._v(" "),3==t.status&&0!=t.isRoomCheck?r("img",{attrs:{src:e("pi7s"),alt:""}}):o._e(),o._v(" "),3==t.status&&0==t.isRoomCheck?r("img",{attrs:{src:e("0w6M"),alt:""}}):o._e()]),o._v(" "),r("div",{staticStyle:{"-border":"1px solid red"}},[1==t.status?r("img",{attrs:{src:e("U87x"),alt:""}}):o._e(),o._v(" "),2==t.status&&"4"!=o.hotelType?r("img",{attrs:{src:e("PkA4"),alt:""}}):o._e(),o._v(" "),4==t.status?r("img",{attrs:{src:e("CCcR"),alt:""}}):o._e(),o._v(" "),5==t.status?r("img",{attrs:{src:e("5v8K"),alt:""}}):o._e(),o._v(" "),2==t.status&&1==t.roomType?r("img",{attrs:{src:e("YI80"),alt:""}}):o._e(),o._v(" "),2==t.status&&2==t.roomType?r("img",{attrs:{src:e("3M+C"),alt:""}}):o._e(),o._v(" "),2==t.status&&3==t.roomType||2==t.status&&"4"==o.hotelType?r("img",{attrs:{src:e("05mR"),alt:""}}):o._e()])])])])}),0)])})],2)}),0),o._v(" "),r("mt-popup",{staticStyle:{"border-radius":"5px",width:"90%","text-align":"left","font-size":"0.7rem",color:"#888"},attrs:{"popup-transition":"popup-fade",position:"center"},model:{value:o.show_info,callback:function(t){o.show_info=t},expression:"show_info"}},[r("div",{attrs:{id:"showbox"}},[r("p",[r("span",[o._v(o._s(o.infoBox.roomSn))]),o._v(" "),r("span",[o._v(o._s(o.infoBox.roomScale?o.infoBox.roomScale.scaleName:""))])]),o._v(" "),o.bedInfoAll.length>0?r("p",{on:{click:o.goDetail}},[r("span",{staticClass:"open_img"},[r("img",{attrs:{src:e("4+oD")}}),o._v(" "),r("span",{staticStyle:{"padding-left":"4px"}},[r("span",{staticStyle:{color:"#02bc1fc4"}},[o._v(o._s(o.infoBox.bedIn||"0"))]),o._v(" "),r("span",[o._v("/"+o._s(o.infoBox.bedNum||"0"))])])]),o._v(" "),r("span",{staticClass:"open_img"},[r("img",{attrs:{src:e("sD9W")}}),o._v(" "),o._l(o.bedInfoAll,function(t,e){return r("span",{key:e,staticStyle:{"padding-left":"4px"}},[r("span",[o._v(o._s(t.order.roomUser)+"；")])])})],2)]):o._e(),o._v(" "),o.infoBox.cooperId>0||1==o.infoBox.cleanCooper?r("p",{on:{click:o.goDetail}},[o.liveInfo?r("span",[r("img",{attrs:{src:e("8fBQ"),alt:""}}),r("span",{staticStyle:{"padding-left":"4px"}},[o._v(o._s(o.liveInfo.cooperOrder?o.liveInfo.cooperOrder.roomUser:""))])]):o._e(),r("br"),o._v(" "),r("span",[3==o.liveInfo.orderType?r("span",[r("span",[o._v(o._s(o.liveInfo.cooperOrder.startTime.substr(5,5))+" 至 "+o._s(o.liveInfo.cooperOrder.endTime.substr(5,5)))]),o._v(" "),r("span",[o._v("共"+o._s(12*(o.liveInfo.cooperOrder.endTime.substr(0,4)-o.liveInfo.cooperOrder.startTime.substr(0,4))+(o.liveInfo.cooperOrder.endTime.substr(5,2)-o.liveInfo.cooperOrder.startTime.substr(5,2)))+"月")])]):o._e(),o._v(" "),r("span",[o._v("房费:¥"+o._s(o._f("point")(o.liveInfo.roomRealAmount)))])])]):r("p",{staticClass:"bottomBox",on:{click:o.goDetail}},[o.liveInfo?r("span",[1==o.infoBox.roomType?r("img",{attrs:{src:e("2llB"),alt:""}}):o._e(),o._v(" "),2==o.infoBox.roomType?r("img",{attrs:{src:e("w4cF"),alt:""}}):o._e(),o._v(" "),3==o.infoBox.roomType&&o.infoBox.cooperId<=0?r("img",{attrs:{src:e("Metz"),alt:""}}):o._e(),o._v(" "),3==o.liveInfo.orderType?r("span",[r("span",[o._v(o._s(o.liveInfo.order.startTime.substr(5,5))+" 至 "+o._s(o.liveInfo.order.endTime.substr(5,5)))]),o._v(" "),r("span",[o._v("共"+o._s(12*(o.liveInfo.order.endTime.substr(0,4)-o.liveInfo.order.startTime.substr(0,4))+(o.liveInfo.order.endTime.substr(5,2)-o.liveInfo.order.startTime.substr(5,2)))+"月")])]):r("span",[o._v(o._s(o.liveInfo.order.startTime.substr(5,5))+"至"+o._s(o.liveInfo.order.endTime.substr(5,5))+"  共"+o._s(o.liveInfo.order.diffDay)+o._s(2==o.liveInfo.orderType?"小时":"晚"))]),o._v(" "),r("span",[o._v("房费:¥"+o._s(3==o.liveInfo.orderType||4==o.liveInfo.orderType?o.liveInfo.order.price:0==o.liveInfo.isCon?(o.liveInfo.roomPrice-o.liveInfo.deposit).toFixed(2):o.liveInfo.roomPrice))])]):o._e(),o._v(" "),3==o.infoBox.status&&0!=o.infoBox.isRoomCheck?r("span",{staticClass:"cleaning"},[1==o.infoBox.roomType?r("img",{attrs:{src:e("nBqX"),alt:""}}):o._e(),o._v(" "),r("span",[o._v("房间需要清洁，清洁完成后才能分房")])]):o._e(),o._v(" "),3==o.infoBox.status&&0==o.infoBox.isRoomCheck?r("span",{staticClass:"cleaning"},[1==o.infoBox.roomType?r("img",{attrs:{src:e("nQHL"),alt:""}}):o._e(),o._v(" "),r("span",[o._v("顾客正在等待您退押，请完成查房")])]):o._e(),o._v(" "),o.liveInfo?r("label",[r("img",{attrs:{src:e("sD9W"),alt:""}}),o._v(" "),"1"==o.liveInfo.order.orderSource?r("span",[o._v(o._s(null!=o.liveInfo.sysUser?o.liveInfo.sysUser.realName:o.liveInfo.order.roomUser))]):r("span",[o._v(o._s(o.liveInfo.order.roomUser?o.liveInfo.order.roomUser:"未录入"))])]):o._e()]),o._v(" "),o.bedInfoAll.length>0?r("div",[r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.goDetail}},[o._v("查看详情")])],1):o.infoBox.cooperId>0||1==o.infoBox.cleanCooper?r("div",[r("mt-button",{staticClass:"boxBottom",on:{click:o.goDetail}},[o._v("查看订单")]),o._v(" "),3==o.liveInfo.status?r("mt-button",{staticClass:"boxBottom",on:{click:o.cleanRoom}},[o._v("打扫完成")]):o._e()],1):r("div",[2!=o.infoBox.status&&3!=o.infoBox.status&&4!=o.infoBox.status?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.historyRecord}},[o._v(o._s(o.$route.query.accountUnitId?"查看订单":"历史记录2"))]):o._e(),o._v(" "),2==o.infoBox.status||3==o.infoBox.status||4==o.infoBox.status?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.getMoreList}},[o._v("更多操作")]):o._e(),o._v(" "),1==o.is_roleManager&&1==o.infoBox.status?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.lockRoom}},[o._v("锁房")]):o._e(),o._v(" "),4==o.infoBox.status||5==o.infoBox.status?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.LiveRoom}},[o._v("上线")]):o._e(),o._v(" "),1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.goCode}},[o._v("收款码")]):o._e(),o._v(" "),o.liveInfo.roomSn&&1==o.liveInfo.status&&o.c_unix<o.liveInfo.next_day&&0==o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&o.c_unix<o.liveInfo.next_day&&0!=o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[o._v("取消订单")]):o._e(),o._v(" "),1==o.liveInfo.status&&0==o.liveInfo.isCon&&o.c_unix<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&0!=o.liveInfo.isCon&&o.c_unix<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&null==o.liveInfo.roomSn&&o.c_unix<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[o._v("取消订单")]):o._e(),o._v(" "),1==o.liveInfo.status&&o.liveInfo.roomSn&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&!o.liveInfo.roomSn&&o.c_unix>o.liveInfo.next_day&&1!=o.liveInfo.conRoom||2==o.liveInfo.status&&1!=o.liveInfo.conRoom?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.checkOut}},[o._v(o._s(3!=o.liveInfo.orderType?"提前退房":"退租"))]):o._e(),o._v(" "),1==o.liveInfo.status&&null==o.liveInfo.roomSn?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:function(t){return o.btnlive(o.liveInfo)}}},[o._v("办理入住")]):o._e(),o._v(" "),3==o.infoBox.status?r("mt-button",{staticClass:"boxBottom",attrs:{name:"idMoreBox"},on:{click:o.cleanRoom}},[o._v(o._s(0!=o.infoBox.isRoomCheck?"打扫完成":"开始查房"))]):o._e()],1)])]),o._v(" "),r("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_left,callback:function(t){o.show_left=t},expression:"show_left"}},[r("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_all("全部酒店")}}},[o._v("全部酒店")]),o._v(" "),o._l(o.top_rooms.filter(function(o){return o.buildNum}),function(t,e){return r("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_all(t.buildNum)}}},[r("span",[o._v(o._s(t.buildNum+"栋"))])])})],2),o._v(" "),r("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_center,callback:function(t){o.show_center=t},expression:"show_center"}},[r("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_rent("租赁类型")}}},[o._v("租赁类型")]),o._v(" "),o._l(o.rents,function(t,e){return r("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_rent(t)}}},[r("span",[o._v(o._s(t.dictLabel))])])})],2),o._v(" "),r("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_center_2,callback:function(t){o.show_center_2=t},expression:"show_center_2"}},[r("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_statu("房间状态")}}},[o._v("房间状态")]),o._v(" "),o._l(o.roomStatus,function(t,e){return r("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_statu(t)}}},[r("span",[o._v(o._s(t.dictLabel))])])})],2),o._v(" "),r("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.show_right,callback:function(t){o.show_right=t},expression:"show_right"}},[r("div",{staticClass:"type_box",on:{click:function(t){return o.choosed_scale("所有房型")}}},[o._v("所有房型")]),o._v(" "),o._l(o.scales,function(t,e){return r("div",{key:e,staticClass:"type_box",on:{click:function(e){return o.choosed_scale(t.scaleName)}}},[r("span",[o._v(o._s(t.scaleName))])])})],2),o._v(" "),r("mt-popup",{staticClass:"pass_box",attrs:{position:"center"},model:{value:o.password_show,callback:function(t){o.password_show=t},expression:"password_show"}},[r("p",{staticClass:"p_pass"},[o._v("请确认下发密码至该手机？")]),o._v(" "),r("div",{staticClass:"pass_show"},[r("div",[o._v("电话：")]),o._v(" \n      "),r("input",{directives:[{name:"model",rawName:"v-model",value:o.pass_phone,expression:"pass_phone"}],domProps:{value:o.pass_phone},on:{input:function(t){t.target.composing||(o.pass_phone=t.target.value)}}})]),o._v(" "),r("div",{staticClass:"box bottom_pass"},[r("div",{staticClass:"pass_can",on:{click:function(t){o.password_show=!1}}},[o._v("取消")]),o._v(" "),r("div",{staticClass:"pass_ok",on:{click:o.pass_ok}},[o._v("确定")])])]),o._v(" "),r("mt-popup",{staticClass:"clean_box",attrs:{position:"center"},model:{value:o.clean_show,callback:function(t){o.clean_show=t},expression:"clean_show"}},[r("p",[o._v("确定打扫完成？")]),o._v(" "),r("div",{staticClass:"c1_box"},[r("div",[o._v(o._s(o.infoBox?o.infoBox.roomScale.scaleName:"")+o._s(o.infoBox.roomSn))])]),o._v(" "),r("div",{staticClass:"c2_box"},[r("div",{staticClass:"pass_can",on:{click:function(t){o.clean_show=!1}}},[o._v("取消")]),o._v(" "),r("div",{staticClass:"pass_ok",on:{click:o.c_ok}},[o._v("确定")])])]),o._v(" "),o.infoBox.cooperId>0||1==o.infoBox.cleanCooper?r("mt-popup",{model:{value:o.more_box,callback:function(t){o.more_box=t},expression:"more_box"}},[o._v("111111111111111")]):r("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:o.more_box,callback:function(t){o.more_box=t},expression:"more_box"}},[r("mt-button",{staticClass:"button_box",on:{click:o.historyRecord}},[o._v("历史记录1")]),o._v(" "),1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||1==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment||2==o.liveInfo.status&&3==o.liveInfo.order.orderAddSource&&0==o.liveInfo.order.payment?r("mt-button",{staticClass:"button_box",on:{click:o.goCode}},[o._v("收款码")]):o._e(),o._v(" "),r("mt-button",{staticClass:"button_box",on:{click:o.goDetail}},[o._v("查看订单详情")]),o._v(" "),1==o.more.status&&o.more.roomSn&&2!==o.more.orderType&&1==o.more.order.orderSource||2==o.more.status&&o.more.roomSn&&2!==o.more.orderType&&1==o.more.order.orderSource?r("mt-button",{staticClass:"button_box",attrs:{id:"plat"},on:{click:function(t){return o.btnback(o.more,9)}}},[o._v("房费优惠")]):o._e(),o._v(" "),o.liveInfo.roomSn&&1==o.liveInfo.status&&o.c_unix<o.liveInfo.next_day&&0==o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&o.c_unix<o.liveInfo.next_day&&0!=o.liveInfo.isCon&&"1"==o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[r("span",[o._v("取消订单")])]):o._e(),o._v(" "),1==o.liveInfo.status&&0==o.liveInfo.isCon&&o.c_unix<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&0!=o.liveInfo.isCon&&o.c_unix<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom||1==o.liveInfo.status&&null==o.liveInfo.roomSn&&o.c_unix<o.liveInfo.next_day&&"1"!=o.liveInfo.order.orderSource&&1!=o.liveInfo.conRoom?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btncancel(o.liveInfo)}}},[r("span",[o._v("取消订单")])]):o._e(),o._v(" "),1==o.more.status&&o.more.roomSn&&1!=o.more.conRoom||1==o.more.status&&!o.more.roomSn&&o.c_unix>o.more.next_day&&1!=o.more.conRoom||1==o.more.status&&o.more.roomSn&&1!=o.more.conRoom||2==o.more.status&&0==o.more.isCon&&1!==o.more.conRoom&&1!=o.more.conRoom||2==o.more.status&&0==o.more.isCon&&1!==o.more.conRoom&&1!=o.more.conRoom?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.checkOut(o.more)}}},[o._v(o._s(3!=o.more.orderType?"提前退房":"退租"))]):o._e(),o._v(" "),o.more.roomSn||1!=o.more.status||"3"==o.more.orderType?o._e():r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btnchange(o.more)}}},[o._v("换房")]),o._v(" "),0==o.more.isCon&&o.more.roomSn&&1==o.more.status&&3!=o.more.orderType||1==o.more.status&&0==o.more.isCon&&o.more.roomSn&&3!=o.more.orderType||2==o.more.status&&3!=o.more.orderType||2==o.more.status||o.more.roomSn&&1==o.more.status&&3==o.more.orderType?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnamend}},[o._v("换房")]):o._e(),o._v(" "),1==o.more.status&&null==o.more.roomSn?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:function(t){return o.btnlive(o.more)}}},[o._v("办理入住")]):o._e(),o._v(" "),o.more.roomSn&&1==o.more.status||o.more.roomSn&&2==o.more.status?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnAgain}},[o._v("重新下发密码到锁")]):o._e(),o._v(" "),1==o.more.status&&o.more.roomSn&&o.more.password&&o.more.order.payment>=5||2==o.more.status&&o.more.roomSn&&o.more.password&&o.more.order.payment>=5?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnGetInfo}},[o._v("重新下发短信")]):o._e(),o._v(" "),1==o.more.status&&4==o.more.orderType||2==o.more.status&&4==o.more.orderType?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnRoomFee}},[o._v("房费账单")]):o._e(),o._v(" "),1==o.more.status&&4==o.more.orderType||2==o.more.status&&4==o.more.orderType?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.btnLifeFee}},[o._v("生活账单")]):o._e(),o._v(" "),1==o.more.status&&3==o.more.orderType||2==o.more.status&&3==o.more.orderType||1==o.more.status&&4==o.more.orderType||2==o.more.status&&4==o.more.orderType?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.changeWatch}},[o._v("换表")]):o._e(),o._v(" "),1==o.more.status&&3==o.more.orderType&&1==o.more.elecPayModel||2==o.more.status&&3==o.more.orderType&&1==o.more.elecPayModel||1==o.more.status&&4==o.more.orderType&&1==o.more.elecPayModel||2==o.more.status&&4==o.more.orderType&&1==o.more.elecPayModel?r("mt-button",{staticClass:"button_box",attrs:{type:"primary"},on:{click:o.eleCharge}},[o._v("电费充值")]):o._e()],1)],1)},staticRenderFns:[]};var v=e("k6Sl")(_,f,!1,function(o){e("cgrE")},"data-v-39b75801",null);t.default=v.exports},cgrE:function(o,t){}});
//# sourceMappingURL=117.6e9ec66413efc056e1341758771190591.js.map